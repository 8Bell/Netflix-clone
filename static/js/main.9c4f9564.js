/*! For license information please see main.9c4f9564.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},569:function(e,t,n){e.exports=n(36)},381:function(e,t,n){"use strict";var r=n(589),i=n(297),a=n(301),o=n(774),s=n(804),u=n(145),c=n(411),l=n(467),f=n(221),h=n(346);e.exports=function(e){return new Promise((function(t,n){var d,p=e.data,v=e.headers,m=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete v["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var k=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(k+":"+w)}var b=s(e.baseURL,e.url);function _(){if(y){var r="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,a={data:m&&"text"!==m&&"json"!==m?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};i((function(e){t(e),g()}),(function(e){n(e),g()}),a),y=null}}if(y.open(e.method.toUpperCase(),o(b,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=_:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(_)},y.onabort=function(){y&&(n(l("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(l("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var x=(e.withCredentials||c(b))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;x&&(v[e.xsrfHeaderName]=x)}"setRequestHeader"in y&&r.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),m&&"json"!==m&&(y.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){y&&(n(!e||e&&e.type?new h("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),y.send(p)}))}},36:function(e,t,n){"use strict";var r=n(589),i=n(49),a=n(773),o=n(777);var s=function e(t){var n=new a(t),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(221));s.Axios=a,s.Cancel=n(346),s.CancelToken=n(857),s.isCancel=n(517),s.VERSION=n(600).version,s.all=function(e){return Promise.all(e)},s.spread=n(89),s.isAxiosError=n(580),e.exports=s,e.exports.default=s},346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},857:function(e,t,n){"use strict";var r=n(346);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},773:function(e,t,n){"use strict";var r=n(589),i=n(774),a=n(470),o=n(733),s=n(777),u=n(835),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(l),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var h=t;r.length;){var d=r.shift(),p=r.shift();try{h=d(h)}catch(v){p(v);break}}try{a=o(h)}catch(v){return Promise.reject(v)}for(;l.length;)a=a.then(l.shift(),l.shift());return a},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},470:function(e,t,n){"use strict";var r=n(589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},804:function(e,t,n){"use strict";var r=n(44),i=n(549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},467:function(e,t,n){"use strict";var r=n(460);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},733:function(e,t,n){"use strict";var r=n(589),i=n(693),a=n(517),o=n(221),s=n(346);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},460:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,n){"use strict";var r=n(589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},297:function(e,t,n){"use strict";var r=n(467);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},693:function(e,t,n){"use strict";var r=n(589),i=n(221);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},221:function(e,t,n){"use strict";var r=n(589),i=n(341),a=n(460),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(381)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(o)})),e.exports=u},600:function(e){e.exports={version:"0.26.0"}},49:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},774:function(e,t,n){"use strict";var r=n(589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},301:function(e,t,n){"use strict";var r=n(589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},44:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},580:function(e,t,n){"use strict";var r=n(589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},411:function(e,t,n){"use strict";var r=n(589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},341:function(e,t,n){"use strict";var r=n(589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},145:function(e,t,n){"use strict";var r=n(589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},89:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},835:function(e,t,n){"use strict";var r=n(600).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new TypeError("option "+a+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},589:function(e,t,n){"use strict";var r=n(49),i=Object.prototype.toString;function a(e){return Array.isArray(e)}function o(e){return"undefined"===typeof e}function s(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return null!==e&&"object"===typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function f(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:u,isPlainObject:c,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:f,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||b(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===k||e.$$typeof===w||e.$$typeof===g)},t.typeOf=b},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,E=60107,T=60108,S=60114,I=60109,C=60110,A=60112,P=60113,N=60120,R=60115,O=60116,D=60121,L=60128,M=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;_=U("react.element"),x=U("react.portal"),E=U("react.fragment"),T=U("react.strict_mode"),S=U("react.profiler"),I=U("react.provider"),C=U("react.context"),A=U("react.forward_ref"),P=U("react.suspense"),N=U("react.suspense_list"),R=U("react.memo"),O=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function G(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case S:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return K(e.type);case D:return K(e._render);case O:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Ae=null;function Pe(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ie(e.stateNode,e.type,t))}}function Ne(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Re(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,Fe=!1,je=!1;function Ue(){null===Ce&&null===Ae||(Le(),Re())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Be=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,Ge=!1,Ke=null,$e={onError:function(e){He=!0,We=e}};function Qe(e,t,n,r,i,a,o,s,u){He=!1,We=null,qe.apply($e,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function _t(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==ut&&bt(ut,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Tt={},St={};function It(e){if(Tt[e])return Tt[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Tt[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=It("animationend"),At=It("animationiteration"),Pt=It("animationstart"),Nt=It("transitionend"),Rt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Pt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Rt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Ft(u),i=Mt):0!==(s&=a)&&(r=Ft(s),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==s&&(r=Ft(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Gt|0)|0},Wt=Math.log,Gt=Math.LN2;var Kt=a.unstable_UserBlockingPriority,$t=a.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){Fe||Le();var i=Jt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||Ue()}}function Xt(e,t,n,r){$t(Kt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(mn),yn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=un(bn),xn=un(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return In}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=un(An),Nn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Un=f&&"TextEvent"in window&&!jn,Vn=f&&(!Fn||jn&&8<jn&&11>=jn),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function $n(e,t,n,r){Ne(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function Xn(e){Ar(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Yn=Qn=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if($n(t,Yn,e,Se(e)),e=Xn,Fe)e(t);else{Fe=!0;try{Oe(e,t)}finally{Fe=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Fr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<Er.length;Tr++)Ot.set(Er[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Qe.apply(this,arguments),He){if(!He)throw Error(o(198));var l=We;He=!1,We=null,Ge||(Ge=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ge)throw e=Ke,Ge=!1,Ke=null,e}function Pr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Nr]||(e[Nr]=!0,s.forEach((function(t){Ir.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Me(e,t,n)}finally{je=!1,Ue()}}((function(){var r=a,i=Se(n),o=[];e:{var s=Rt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Pn;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Ct:case At:case Pt:u=wn;break;case Nt:u=On;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Kn(s))if(er)m=cr;else{m=sr;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?$n(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Kn(g)||"true"===g.contentEditable)&&(kr=g,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(o,n,i)}var y;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(g=Fr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Hn(n))&&(k.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function Kr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,K(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Ei=null,Ti=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Pi=a.unstable_now,Ni=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},ji=void 0!==Ai?Ai:function(){},Ui=null,Vi=null,Bi=!1,zi=Pi(),qi=1e4>zi?Pi:function(){return Pi()-zi};function Hi(){switch(Ni()){case Ri:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Ri;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Gi(e,t){return e=Wi(e),Ti(e,t)}function Ki(e,t,n){return e=Wi(e),Si(e,t,n)}function $i(){if(null!==Vi){var e=Vi;Vi=null,Ii(e)}Qi()}function Qi(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Si(Ri,$i),n}finally{Bi=!1}}}var Yi=b.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ta(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Ku(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=$u(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ku(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Xu(t,e.mode,n)).return=e,t}if(_a(t)||z(t))return(t=$u(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(_a(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=$u(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Ku(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Yu(a,e.mode,u)).return=e,e=r),s(e);if(_a(a))return v(e,r,a,u);if(z(a))return m(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var Sa=Ta(!0),Ia=Ta(!1),Ca={},Aa=ci(Ca),Pa=ci(Ca),Na=ci(Ca);function Ra(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Na,t),fi(Pa,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Pa),li(Na)}function La(e){Ra(Na.current);var t=Ra(Aa.current),n=pe(t,e.type);t!==n&&(fi(Pa,e),fi(Aa,n))}function Ma(e){Pa.current===e&&(li(Aa),li(Pa))}var Fa=ci(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,Ba=!1;function za(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Ba){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=$r(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Ua=e);za(Ua,n)}Ua=e,Va=$r(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Ua=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ga(e){if(e!==Ua)return!1;if(!Ba)return Wa(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)za(e,t),t=$r(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=$r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?$r(e.stateNode.nextSibling):null;return!0}function Ka(){Va=Ua=null,Ba=!1}var $a=[];function Qa(){for(var e=0;e<$a.length;e++)$a[e]._workInProgressVersionPrimary=null;$a.length=0}var Ya=b.ReactCurrentDispatcher,Xa=b.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Ro,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,$a.push(t))),e)return n(t._source);throw $a.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ya.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=No.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=No.bind(null,Za,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function wo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}Za.flags|=e,i.memoizedState=go(1|t,n,a,r)}function _o(e,t){return wo(516,4,e,t)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return bo(4,2,e,t)}function To(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,To.bind(null,t,e),n)}function Io(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Po(e,t){var n=Hi();Gi(98>n?98:n,(function(){e(!0)})),Gi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function No(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Ro={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,To.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=No.bind(null,Za,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:Io,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=Po.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,go(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,Fo=!1;function jo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):Sa(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ku(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Gu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Ho(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_u(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_u(t,e),null;t.memoizedState={baseLanes:0},_u(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_u(t,r);return jo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=gi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(gi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=gi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&wa(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ya(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&wa(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ya(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Go(e,t,n,r,a,i)}function Go(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,s,a)):jo(e,t,s,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Ko(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var $o,Qo,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qu(t,i,0,null),n=$u(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Gu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gu(o,s),null!==e?r=Gu(e,r):(r=$u(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Gu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Da(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ga(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Ra(Na.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Aa.current),Ga(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Pr(Sr[e],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":ee(r,s),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pr("invalid",r);break;case"textarea":ue(r,s),Pr("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Pr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,$o(e,t),t.stateNode=e,c=Te(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),a=r;break;case"iframe":case"object":case"embed":Pr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Pr(Sr[a],e);a=r;break;case"source":Pr("error",e),a=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),a=r;break;case"details":Pr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Pr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Pr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?_e(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Pr("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Na.current),Ra(Aa.current),Ga(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ga(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Os||0===(134217727&Bs)&&0===(134217727&zs)||yu(Os,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=ja(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Gs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=ja(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Gs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,s?1&t|2:1&t),n):null;case 23:case 24:return xu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return xu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}$o=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Aa.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Pr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Ts(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):Es(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ts(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=qi(),ys(t.child,!0)),void Is(t);case 19:return void Is(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(o(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,Ps=b.ReactCurrentDispatcher,Ns=b.ReactCurrentOwner,Rs=0,Os=null,Ds=null,Ls=0,Ms=0,Fs=ci(0),js=0,Us=null,Vs=0,Bs=0,zs=0,qs=0,Hs=null,Ws=0,Gs=1/0;function Ks(){Gs=qi()+500}var $s,Qs=null,Ys=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Rs)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Vs),0!==Yi.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Rs)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Os&&(zs|=t,4===js&&yu(e,Ls));var r=Hi();1===t?0!==(8&Rs)&&0===(48&Rs)?ku(e):(mu(e,n),0===Rs&&(Ks(),$i())):(0===(4&Rs)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=jt(e,e===Os?Ls:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ii(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Si(Ri,Qi)):Ui.push(n),n=Fi):14===t?n=Ki(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Ki(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Rs))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=jt(e,e===Os?Ls:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var a=Su();for(Os===e&&Ls===r||(Ks(),Eu(e,r));;)try{Au();break}catch(u){Tu(e,u)}if(na(),Ps.current=a,Rs=i,null!==Ds?r=0:(Os=null,Ls=0,r=js),0!==(Vs&zs))Eu(e,0);else if(0!==r){if(2===r&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=Ut(e))&&(r=Iu(e,n))),1===r)throw t=Us,Eu(e,0),yu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ru(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Ws+500-qi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ru.bind(null,e),r);break}Ru(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Wr(Ru.bind(null,e),n);break}Ru(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~qs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Rs))throw Error(o(327));if(Lu(),e===Os&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Iu(e,t);0!==(Vs&zs)&&(n=Iu(e,t=jt(e,t)))}else n=Iu(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=Ut(e))&&(n=Iu(e,t))),1===n)throw n=Us,Eu(e,0),yu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e),mu(e,qi()),null}function wu(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&(Ks(),$i())}}function bu(e,t){var n=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=n)&&(Ks(),$i())}}function _u(e,t){fi(Fs,Ms),Ms|=t,Vs|=t}function xu(){Ms=Fs.current,li(Fs)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Da(),li(pi),li(di),Qa();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:xu()}n=n.return}Os=e,Ds=Gu(e.current,null),Ls=Ms=Vs=t,js=0,Us=null,qs=zs=Bs=0}function Tu(e,t){for(;;){var n=Ds;try{if(na(),Ya.current=Ro,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Ns.current=null,null===n||null===n.return){js=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(c),h.updateQueue=g}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=la(-1,1);y.tag=2,fa(s,y)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var w=Bu.bind(null,a,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var b=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Js||!Js.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Nu(n)}catch(x){t=x,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Su(){var e=Ps.current;return Ps.current=Ro,null===e?Ro:e}function Iu(e,t){var n=Rs;Rs|=16;var r=Su();for(Os===e&&Ls===t||Eu(e,t);;)try{Cu();break}catch(i){Tu(e,i)}if(na(),Rs=n,Ps.current=r,null!==Ds)throw Error(o(261));return Os=null,Ls=0,js}function Cu(){for(;null!==Ds;)Pu(Ds)}function Au(){for(;null!==Ds&&!Ci();)Pu(Ds)}function Pu(e){var t=$s(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Nu(e):Ds=t,Ns.current=null}function Nu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===js&&(js=5)}function Ru(e){var t=Hi();return Gi(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Lu()}while(null!==eu);if(0!==(48&Rs))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ds=Os=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,Ns.current=null,Br=Qt,gr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(S){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===a&&(h=f),g===c&&++v===l&&(d=f),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Qt=!1,lu=null,fu=!1,Qs=r;do{try{Du()}catch(S){if(null===Qs)throw Error(o(330));Vu(Qs,S),Qs=Qs.nextEffect}}while(null!==Qs);lu=null,Qs=r;do{try{for(s=e;null!==Qs;){var k=Qs.flags;if(16&k&&ye(Qs.stateNode,""),128&k){var w=Qs.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:_s(Qs),Qs.flags&=-3;break;case 6:_s(Qs),Qs.flags&=-3,Ss(Qs.alternate,Qs);break;case 1024:Qs.flags&=-1025;break;case 1028:Qs.flags&=-1025,Ss(Qs.alternate,Qs);break;case 4:Ss(Qs.alternate,Qs);break;case 8:Ts(s,u=Qs);var _=u.alternate;ws(u),null!==_&&ws(_)}Qs=Qs.nextEffect}}catch(S){if(null===Qs)throw Error(o(330));Vu(Qs,S),Qs=Qs.nextEffect}}while(null!==Qs);if(b=zr,w=mr(),k=b.focusedElem,s=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&gr(k)&&(w=s.start,void 0===(b=s.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),u=k.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!b.extend&&_>s&&(u=s,s=_,_=u),u=pr(k,_),a=pr(k,s),u&&a&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),_>s?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Qt=!!Br,zr=Br=null,e.current=n,Qs=r;do{try{for(k=e;null!==Qs;){var x=Qs.flags;if(36&x&&gs(k,Qs.alternate,Qs),128&x){w=void 0;var E=Qs.ref;if(null!==E){var T=Qs.stateNode;Qs.tag,w=T,"function"===typeof E?E(w):E.current=w}}Qs=Qs.nextEffect}}catch(S){if(null===Qs)throw Error(o(330));Vu(Qs,S),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,ji(),Rs=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Qs=r;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,8&Qs.flags&&((x=Qs).sibling=null,x.stateNode=null),Qs=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(S){}if(mu(e,qi()),Ys)throw Ys=!1,e=Xs,Xs=null,e;return 0!==(8&Rs)||$i(),null}function Du(){for(;null!==Qs;){var e=Qs.alternate;fu||null===lu||(0!==(8&Qs.flags)?et(Qs,lu)&&(fu=!0):13===Qs.tag&&Cs(e,Qs)&&et(Qs,lu)&&(fu=!0));var t=Qs.flags;0!==(256&t)&&ms(e,Qs),0===(512&t)||Zs||(Zs=!0,Ki(97,(function(){return Lu(),null}))),Qs=Qs.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Gi(e,ju)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Ki(97,(function(){return Lu(),null})))}function Fu(e,t){ru.push(t,e),Zs||(Zs=!0,Ki(97,(function(){return Lu(),null})))}function ju(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Rs))throw Error(o(331));var t=Rs;Rs|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Rs=t,$i(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ls&n)===n&&(4===js||3===js&&(62914560&Ls)===Ls&&500>qi()-Ws?Eu(e,0):qs|=n),mu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Vs),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new qu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gu(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ku(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return $u(n.children,i,a,t);case M:s=8,i|=16;break;case T:s=8,i|=1;break;case S:return(e=Hu(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case P:return(e=Hu(13,n,t,i)).type=P,e.elementType=P,e.lanes=a,e;case N:return(e=Hu(19,n,t,i)).elementType=N,e.lanes=a,e;case F:return Qu(n,i,a,t);case j:return(e=Hu(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case A:s=11;break e;case R:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function $u(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function Qu(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=F,e.lanes=n,e}function Yu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}bu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}$s=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Ko(t),Ka();break;case 5:La(t);break;case 1:gi(t.type)&&bi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return as(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Go(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ko(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ka(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=$r(t.stateNode.containerInfo.firstChild),Ua=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],$a.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Ka();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),qo(e,t),jo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Go(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=wu,De=function(e,t,n,r,i){var a=Rs;Rs|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Rs=a)&&(Ks(),$i())}},Le=function(){0===(49&Rs)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}$i()}(),Lu())},Me=function(e,t){var n=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=n)&&(Ks(),$i())}};var uc={Events:[ri,ii,ai,Ne,Re,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Rs;if(0!==(48&n))return e(t);Rs|=1;try{if(e)return Gi(99,e.bind(null,t))}finally{Rs=n,$i()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),s=k("react.provider"),u=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),g=k("react.debug_trace_mode"),y=k("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case h:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===g||e===a||e===l||e===f||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===s||e.$$typeof===u||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var k=y.prototype=new g;k.constructor=y,r(k,m.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+S(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),I(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(s=e[c],c);u+=I(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=I(s=s.value,t,n,l=r+S(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function N(){var e=P.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var k={};u(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(A([])));b&&b!==n&&r.call(b,a)&&(k=b);var _=y.prototype=m.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:P}}function P(){return{value:t,done:!0}}return g.prototype=y,u(_,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+y;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>T(o,n))void 0!==u&&0>T(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],I=[],C=1,A=null,P=3,N=!1,R=!1,O=!1;function D(e){for(var t=x(I);null!==t;){if(null===t.callback)E(I);else{if(!(t.startTime<=e))break;E(I),t.sortIndex=t.expirationTime,_(S,t)}t=x(I)}}function L(e){if(O=!1,D(e),!R)if(null!==x(S))R=!0,n(M);else{var t=x(I);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,O&&(O=!1,i()),N=!0;var a=P;try{for(D(n),A=x(S);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,P=A.priorityLevel;var s=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?A.callback=s:A===x(S)&&E(S),D(n)}else E(S);A=x(S)}if(null!==A)var u=!0;else{var c=x(I);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{A=null,P=a,N=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||N||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return x(S)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,_(I,e),null===x(S)&&e===x(I)&&(O?i():O=!0,r(L,o-s))):(e.sortIndex=u,_(S,e),R||N||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".440c4889.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="netflix-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Netflix-clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunknetflix_clone=self.webpackChunknetflix_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return we},SDK_VERSION:function(){return kt},_DEFAULT_ENTRY_NAME:function(){return it},_addComponent:function(){return ut},_addOrOverwriteComponent:function(){return ct},_apps:function(){return ot},_clearComponents:function(){return dt},_components:function(){return st},_getProvider:function(){return ft},_registerComponent:function(){return lt},_removeServiceInstance:function(){return ht},deleteApp:function(){return xt},getApp:function(){return bt},getApps:function(){return _t},initializeApp:function(){return wt},onLog:function(){return St},registerVersion:function(){return Tt},setLogLevel:function(){return It}});var t,r=n(791),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||u()}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function g(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function y(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function k(e,t){if(!e)throw new Error(t)}var w=(0,r.createContext)(null);var b=(0,r.createContext)(null);var _=(0,r.createContext)({outlet:null,matches:[]});function x(e){return function(e){var t=(0,r.useContext)(_).outlet;if(t)return(0,r.createElement)(P.Provider,{value:e},t);return t}(e.context)}function E(e){k(!1)}function T(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;I()&&k(!1);var d=z(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=y(s));var v=s,m=v.pathname,g=void 0===m?"/":m,_=v.search,x=void 0===_?"":_,E=v.hash,T=void 0===E?"":E,S=v.state,C=void 0===S?null:S,A=v.key,P=void 0===A?"default":A,N=(0,r.useMemo)((function(){var e=V(g,d);return null==e?null:{pathname:e,search:x,hash:T,state:C,key:P}}),[d,g,x,T,C,P]);return null==N?null:(0,r.createElement)(w.Provider,{value:p},(0,r.createElement)(b.Provider,{children:o,value:{location:N,navigationType:c}}))}function S(e){var t=e.children,n=e.location;return function(e,t){I()||k(!1);var n=(0,r.useContext)(_).matches,i=n[n.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=C();if(t){var c,l="string"===typeof t?y(t):t;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||k(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=V(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=R(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=M(i[o],r);return a}(e,{pathname:h});0;return F(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:B([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:B([o,e.pathnameBase])})})),n)}(N(t),n)}function I(){return null!=(0,r.useContext)(b)}function C(){return I()||k(!1),(0,r.useContext)(b).location}function A(){I()||k(!1);var e=(0,r.useContext)(w),t=e.basename,n=e.navigator,i=(0,r.useContext)(_).matches,a=C().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,r.useRef)(!1);(0,r.useEffect)((function(){s.current=!0}));var u=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=U(e,JSON.parse(o),a);"/"!==t&&(i.pathname=B([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return u}var P=(0,r.createContext)(null);function N(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==E&&k(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=N(e.props.children)),t.push(n)}else t.push.apply(t,N(e.props.children))})),t}function R(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||k(!1),a.relativePath=a.relativePath.slice(r.length));var o=B([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&k(!1),R(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:L(o,e.index),routesMeta:s})})),t}var O=/^:\w+$/,D=function(e){return"*"===e};function L(e,t){var n=e.split("/"),r=n.length;return n.some(D)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!D(e)})).reduce((function(e,t){return e+(O.test(t)?3:""===t?1:10)}),r)}function M(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=j({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:B([i,l.pathname]),pathnameBase:z(B([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=B([i,l.pathnameBase]))}return a}function F(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(_.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:f,pathname:s,pathnameBase:u,pattern:e}}function U(e,t,n){var r,i="string"===typeof e?y(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:q(a),hash:H(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var B=function(e){return e.join("/").replace(/\/\/+/g,"/")},z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},H=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t){return X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},X(e,t)}function J(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function ee(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e,t){if(t&&("object"===te(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Y(e)}function re(e){var t=ee();return function(){var n,r=Z(e);if(t){var i=Z(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ne(this,n)}}function ie(e,t,n){return ie=ee()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&X(i,n.prototype),i},ie.apply(null,arguments)}function ae(e){var t="function"===typeof Map?new Map:void 0;return ae=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ie(e,arguments,Z(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),X(n,e)},ae(e)}var oe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(oe(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ue=function(e){return function(e){var t=oe(e);return se.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ce=function(e){try{return se.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function le(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=le(e[n],t[n]));return e}var fe=function(){function e(){var t=this;G(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return $(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function he(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(a)),""].join(".")}function de(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function ve(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function me(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ge(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ye(){var e=de();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ke(){return"object"===typeof indexedDB}var we=function(e){J(n,e);var t=re(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Y(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Y(a),be.prototype.create),a}return $(n)}(ae(Error)),be=function(){function e(t,n,r){G(this,e),this.service=t,this.serviceName=n,this.errors=r}return $(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?_e(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new we(n,a,t);return o}}]),e}();function _e(e,t){return e.replace(xe,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var xe=/\{\$([^}]+)}/g;function Ee(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Te(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Se(s)&&Se(u)){if(!Te(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Se(e){return null!==e&&"object"===typeof e}function Ie(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ce(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ae(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Pe(e,t){var n=new Ne(e,t);return n.subscribe.bind(n)}var Ne=function(){function e(t,n){var r=this;G(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return $(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Q(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Re),void 0===r.error&&(r.error=Re),void 0===r.complete&&(r.complete=Re);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Re(){}function Oe(e){return e&&e._delegate?e._delegate:e}function De(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Le(e){return function(e){if(Array.isArray(e))return o(e)}(e)||De(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Me(a,r,i,o,s,"next",e)}function s(e){Me(a,r,i,o,s,"throw",e)}o(void 0)}))}}var je=n(757),Ue=n.n(je),Ve=function(){function e(t,n,r){G(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return $(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Be="[DEFAULT]",ze=function(){function e(t,n){G(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return $(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new fe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Be})}catch(u){}var t,n=Q(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Fe(je.mark((function e(){var t;return je.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Le(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Le(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Q(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(lb){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Be?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(lb){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be;return this.component?this.component.multipleInstances?e:Be:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var qe,He,We=function(){function e(t){G(this,e),this.name=t,this.providers=new Map}return $(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ze(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ge=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(He||(He={}));var Ke,$e,Qe={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},Ye=He.INFO,Xe=(W(qe={},He.DEBUG,"log"),W(qe,He.VERBOSE,"log"),W(qe,He.INFO,"info"),W(qe,He.WARN,"warn"),W(qe,He.ERROR,"error"),qe),Je=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Xe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ze=function(){function e(t){G(this,e),this.name=t,this._logLevel=Ye,this._logHandler=Je,this._userLogHandler=null,Ge.push(this)}return $(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in He))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Qe[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,He.DEBUG].concat(t)),this._logHandler.apply(this,[this,He.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,He.VERBOSE].concat(t)),this._logHandler.apply(this,[this,He.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,He.INFO].concat(t)),this._logHandler.apply(this,[this,He.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,He.WARN].concat(t)),this._logHandler.apply(this,[this,He.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,He.ERROR].concat(t)),this._logHandler.apply(this,[this,He.ERROR].concat(t))}}]),e}();var et=function(){function e(t){G(this,e),this.container=t}return $(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var tt="@firebase/app",nt="0.7.11",rt=new Ze("@firebase/app"),it="[DEFAULT]",at=(W(Ke={},tt,"fire-core"),W(Ke,"@firebase/app-compat","fire-core-compat"),W(Ke,"@firebase/analytics","fire-analytics"),W(Ke,"@firebase/analytics-compat","fire-analytics-compat"),W(Ke,"@firebase/app-check","fire-app-check"),W(Ke,"@firebase/app-check-compat","fire-app-check-compat"),W(Ke,"@firebase/auth","fire-auth"),W(Ke,"@firebase/auth-compat","fire-auth-compat"),W(Ke,"@firebase/database","fire-rtdb"),W(Ke,"@firebase/database-compat","fire-rtdb-compat"),W(Ke,"@firebase/functions","fire-fn"),W(Ke,"@firebase/functions-compat","fire-fn-compat"),W(Ke,"@firebase/installations","fire-iid"),W(Ke,"@firebase/installations-compat","fire-iid-compat"),W(Ke,"@firebase/messaging","fire-fcm"),W(Ke,"@firebase/messaging-compat","fire-fcm-compat"),W(Ke,"@firebase/performance","fire-perf"),W(Ke,"@firebase/performance-compat","fire-perf-compat"),W(Ke,"@firebase/remote-config","fire-rc"),W(Ke,"@firebase/remote-config-compat","fire-rc-compat"),W(Ke,"@firebase/storage","fire-gcs"),W(Ke,"@firebase/storage-compat","fire-gcs-compat"),W(Ke,"@firebase/firestore","fire-fst"),W(Ke,"@firebase/firestore-compat","fire-fst-compat"),W(Ke,"fire-js","fire-js"),W(Ke,"firebase","fire-js-all"),Ke),ot=new Map,st=new Map;function ut(e,t){try{e.container.addComponent(t)}catch(n){rt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ct(e,t){e.container.addOrOverwriteComponent(t)}function lt(e){var t=e.name;if(st.has(t))return rt.debug("There were multiple attempts to register component ".concat(t,".")),!1;st.set(t,e);var n,r=Q(ot.values());try{for(r.s();!(n=r.n()).done;){ut(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ft(e,t){return e.container.getProvider(t)}function ht(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:it;ft(e,t).clearInstance(n)}function dt(){st.clear()}var pt,vt,mt=(W($e={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),W($e,"bad-app-name","Illegal App name: '{$appName}"),W($e,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),W($e,"app-deleted","Firebase App named '{$appName}' already deleted"),W($e,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),W($e,"invalid-log-argument","First argument to `onLog` must be null or a function."),$e),gt=new be("app","Firebase",mt),yt=function(){function e(t,n,r){var i=this;G(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ve("app",(function(){return i}),"PUBLIC"))}return $(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}}]),e}(),kt="9.6.1";function wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:it,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw gt.create("bad-app-name",{appName:String(i)});var a=ot.get(i);if(a){if(Te(e,a.options)&&Te(r,a.config))return a;throw gt.create("duplicate-app",{appName:i})}var o,s=new We(i),u=Q(st.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new yt(e,r,s);return ot.set(i,l),l}function bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=ot.get(e);if(!t)throw gt.create("no-app",{appName:e});return t}function _t(){return Array.from(ot.values())}function xt(e){return Et.apply(this,arguments)}function Et(){return(Et=Fe(je.mark((function e(t){var n;return je.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ot.has(n)){e.next=6;break}return ot.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(e,t,n){var r,i=null!==(r=at[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void rt.warn(s.join(" "))}lt(new Ve("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function St(e,t){if(null!==e&&"function"!==typeof e)throw gt.create("invalid-log-argument");!function(e,t){var n,r=Q(Ge);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Qe[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:He[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function It(e){var t;t=e,Ge.forEach((function(e){e.setLogLevel(t)}))}pt="",lt(new Ve("platform-logger",(function(e){return new et(e)}),"PRIVATE")),Tt(tt,nt,pt),Tt(tt,nt,"esm2017"),Tt("fire-js","");var Ct=function(){function e(t,n){var r=this;G(this,e),this._delegate=t,this.firebase=n,ut(t,new Ve("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return $(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),xt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ut(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ct(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),At=(W(vt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),W(vt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),vt),Pt=new be("app-compat","Firebase",At);var Nt=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=wt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ee(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Tt,setLogLevel:It,onLog:St,apps:null,SDK_VERSION:kt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(lt(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Pt.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&le(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ee(n,e=e||it))throw Pt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ct);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){le(n,e)},createSubscribe:Pe,ErrorFactory:be,deepExtend:le}),n}(),Rt=new Ze("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Rt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ot=self.firebase.SDK_VERSION;Ot&&Ot.indexOf("LITE")>=0&&Rt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Dt=Nt;!function(e){Tt("@firebase/app-compat","0.1.12",e)}();function Lt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Z(e)););return e}function Mt(){return Mt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Lt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Mt.apply(this,arguments)}Dt.registerVersion("firebase","9.6.1","app-compat");function Ft(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var jt;Object.create;var Ut="facebook.com",Vt="github.com",Bt="google.com",zt="password",qt="twitter.com",Ht="EMAIL_SIGNIN",Wt="PASSWORD_RESET",Gt="RECOVER_EMAIL",Kt="REVERT_SECOND_FACTOR_ADDITION",$t="VERIFY_AND_CHANGE_EMAIL",Qt="VERIFY_EMAIL";function Yt(){return W({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Xt=function(){var e;return W(e={},"admin-restricted-operation","This operation is restricted to administrators only."),W(e,"argument-error",""),W(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),W(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),W(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),W(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),W(e,"cordova-not-ready","Cordova framework is not ready."),W(e,"cors-unsupported","This browser is not supported."),W(e,"credential-already-in-use","This credential is already associated with a different user account."),W(e,"custom-token-mismatch","The custom token corresponds to a different audience."),W(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),W(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),W(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),W(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),W(e,"email-already-in-use","The email address is already in use by another account."),W(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),W(e,"expired-action-code","The action code has expired."),W(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),W(e,"internal-error","An internal AuthError has occurred."),W(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),W(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),W(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),W(e,"invalid-auth-event","An internal AuthError has occurred."),W(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),W(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),W(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),W(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),W(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),W(e,"invalid-email","The email address is badly formatted."),W(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),W(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),W(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),W(e,"invalid-credential","The supplied auth credential is malformed or has expired."),W(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),W(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),W(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),W(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),W(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),W(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),W(e,"wrong-password","The password is invalid or the user does not have a password."),W(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),W(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),W(e,"invalid-provider-id","The specified provider ID is invalid."),W(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),W(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),W(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),W(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),W(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),W(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),W(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),W(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),W(e,"missing-continue-uri","A continue URL must be provided in the request."),W(e,"missing-iframe-start","An internal AuthError has occurred."),W(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),W(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),W(e,"missing-multi-factor-info","No second factor identifier is provided."),W(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),W(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),W(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),W(e,"app-deleted","This instance of FirebaseApp has been deleted."),W(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),W(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),W(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),W(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),W(e,"no-auth-event","An internal AuthError has occurred."),W(e,"no-such-provider","User was not linked to an account with the given provider."),W(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),W(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),W(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),W(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),W(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),W(e,"provider-already-linked","User can only be linked to one identity for the given provider."),W(e,"quota-exceeded","The project's quota for this operation has been exceeded."),W(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),W(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),W(e,"rejected-credential","The request contains malformed or mismatching credentials."),W(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),W(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),W(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),W(e,"timeout","The operation has timed out."),W(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),W(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),W(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),W(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),W(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),W(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),W(e,"unverified-email","The operation requires a verified email."),W(e,"user-cancelled","The user did not grant your application the permissions it requested."),W(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),W(e,"user-disabled","The user account has been disabled by an administrator."),W(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),W(e,"user-signed-out",""),W(e,"weak-password","The password must be 6 characters long or more."),W(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),W(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Jt=Yt,Zt=new be("auth","Firebase",Yt()),en=new Ze("@firebase/auth");function tn(e){if(en.logLevel<=He.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];en.error.apply(en,["Auth (".concat(kt,"): ").concat(e)].concat(n))}}function nn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw sn.apply(void 0,[e].concat(n))}function rn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return sn.apply(void 0,[e].concat(n))}function an(e,t,n){var r=Object.assign(Object.assign({},Jt()),W({},t,n));return new be("auth","Firebase",r).create(t,{appName:e.name})}function on(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&nn(e,"argument-error"),an(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function sn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Le(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Le(o)))}return Zt.create.apply(Zt,[e].concat(n))}function un(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw sn.apply(void 0,[t].concat(r))}}function cn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw tn(t),new Error(t)}function ln(e,t){e||cn(t)}var fn=new Map;function hn(e){ln(e instanceof Function,"Expected a class definition");var t=fn.get(e);return t?(ln(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fn.set(e,t),t)}function dn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function pn(){return"http:"===vn()||"https:"===vn()}function vn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var mn=function(){function e(t,n){G(this,e),this.shortDelay=t,this.longDelay=n,ln(n>t,"Short delay should be less than long delay!"),this.isMobile=pe()||ge()}return $(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(pn()||me()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function gn(e,t){ln(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var yn=function(){function e(){G(this,e)}return $(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),kn=(W(jt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),W(jt,"MISSING_CUSTOM_TOKEN","internal-error"),W(jt,"INVALID_IDENTIFIER","invalid-email"),W(jt,"MISSING_CONTINUE_URI","internal-error"),W(jt,"INVALID_PASSWORD","wrong-password"),W(jt,"MISSING_PASSWORD","internal-error"),W(jt,"EMAIL_EXISTS","email-already-in-use"),W(jt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),W(jt,"INVALID_IDP_RESPONSE","invalid-credential"),W(jt,"INVALID_PENDING_TOKEN","invalid-credential"),W(jt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),W(jt,"MISSING_REQ_TYPE","internal-error"),W(jt,"EMAIL_NOT_FOUND","user-not-found"),W(jt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),W(jt,"EXPIRED_OOB_CODE","expired-action-code"),W(jt,"INVALID_OOB_CODE","invalid-action-code"),W(jt,"MISSING_OOB_CODE","internal-error"),W(jt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),W(jt,"INVALID_ID_TOKEN","invalid-user-token"),W(jt,"TOKEN_EXPIRED","user-token-expired"),W(jt,"USER_NOT_FOUND","user-token-expired"),W(jt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),W(jt,"INVALID_CODE","invalid-verification-code"),W(jt,"INVALID_SESSION_INFO","invalid-verification-id"),W(jt,"INVALID_TEMPORARY_PROOF","invalid-credential"),W(jt,"MISSING_SESSION_INFO","missing-verification-id"),W(jt,"SESSION_EXPIRED","code-expired"),W(jt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),W(jt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),W(jt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),W(jt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),W(jt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),W(jt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),W(jt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),W(jt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),W(jt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),W(jt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),W(jt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),jt),wn=new mn(3e4,6e4);function bn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function _n(e,t,n,r){return xn.apply(this,arguments)}function xn(){return xn=Fe(Ue().mark((function e(t,n,r,i){var a,o=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",En(t,a,Fe(Ue().mark((function e(){var a,o,s,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ie(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",yn.fetch()(Cn(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),xn.apply(this,arguments)}function En(e,t,n){return Tn.apply(this,arguments)}function Tn(){return(Tn=Fe(Ue().mark((function e(t,n,r){var i,a,o,s,u,l,f,h,d,p;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},kn),n),e.prev=2,a=new An(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Pn(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Pn(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Pn(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw an(t,p,d);case 30:nn(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof we)){e.next=37;break}throw e.t0;case 37:nn(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function Sn(e,t,n,r){return In.apply(this,arguments)}function In(){return In=Fe(Ue().mark((function e(t,n,r,i){var a,o,s=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,_n(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&nn(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),In.apply(this,arguments)}function Cn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?gn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var An=function(){function e(t){var n=this;G(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(rn(n.auth,"timeout"))}),wn.get())}))}return $(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Pn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=rn(e,t,r);return i.customData._tokenResponse=n,i}function Nn(e,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_n(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function On(e,t){return Dn.apply(this,arguments)}function Dn(){return(Dn=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_n(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ln(e,t){return Mn.apply(this,arguments)}function Mn(){return(Mn=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_n(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function jn(){return jn=Fe(Ue().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Oe(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,un((a=Vn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Fn(Un(a.auth_time)),issuedAtTime:Fn(Un(a.iat)),expirationTime:Fn(Un(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),jn.apply(this,arguments)}function Un(e){return 1e3*Number(e)}function Vn(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return tn("JWT malformed, contained fewer than 3 sections"),null;try{var a=ce(r);return a?JSON.parse(a):(tn("Failed to decode base64 JWT payload"),null)}catch(o){return tn("Caught error parsing JWT payload as JSON",o),null}}function Bn(e,t){return zn.apply(this,arguments)}function zn(){return zn=Fe(Ue().mark((function e(t,n){var r=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof we&&qn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),zn.apply(this,arguments)}function qn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Hn=function(){function e(t){G(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return $(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Wn=function(){function e(t,n){G(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return $(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Fn(this.lastLoginAt),this.creationTime=Fn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Gn(e){return Kn.apply(this,arguments)}function Kn(){return Kn=Fe(Ue().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Bn(t,Ln(r,{idToken:i}));case 6:un(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Yn(o.providerUserInfo):[],u=Qn(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Kn.apply(this,arguments)}function $n(){return($n=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Oe(t),e.next=3,Gn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Le(n),Le(t))}function Yn(e){return e.map((function(e){var t=e.providerId,n=Ft(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Xn(e,t){return Jn.apply(this,arguments)}function Jn(){return(Jn=Fe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,En(t,{},Fe(Ue().mark((function e(){var r,i,a,o,s,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ie({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Cn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",yn.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zn=function(){function e(){G(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return $(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){un(e.idToken,"internal-error"),un("undefined"!==typeof e.idToken,"internal-error"),un("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Vn(e);return un(t,"internal-error"),un("undefined"!==typeof t.exp,"internal-error"),un("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Fe(Ue().mark((function e(t){var n,r=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],un(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return cn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(un("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(un("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(un("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function er(e,t){un("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var tr=function(){function e(t){G(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ft(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Wn(a.createdAt||void 0,a.lastLoginAt||void 0)}return $(e,[{key:"getIdToken",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(un(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return jn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return $n.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(un(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){un(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Fe(Ue().mark((function e(t){var n,r,i=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Gn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Bn(this,Nn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;un(k&&x,t,"internal-error");var E=Zn.fromJSON(this.name,x);un("string"===typeof k,t,"internal-error"),er(f,t.name),er(h,t.name),un("boolean"===typeof w,t,"internal-error"),un("boolean"===typeof b,t,"internal-error"),er(d,t.name),er(p,t.name),er(v,t.name),er(m,t.name),er(g,t.name),er(y,t.name);var T=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(T.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(){var t=Fe(Ue().mark((function t(n,r){var i,a,o,s=arguments;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Zn).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Gn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),nr=function(){function e(){G(this,e),this.type="NONE",this.storage={}}return $(e,[{key:"_isAvailable",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();nr.type="NONE";var rr=nr;function ir(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ar=function(){function e(t,n,r){G(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ir(this.userKey,a.apiKey,o),this.fullPersistenceKey=ir("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return $(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?tr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Fe(Ue().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(hn(rr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||hn(rr),s=ir(i,n.config.apiKey,n.name),u=null,c=Q(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=tr._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function or(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hr(t))return"Blackberry";if(dr(t))return"Webos";if(ur(t))return"Safari";if((t.includes("chrome/")||cr(t))&&!t.includes("edge/"))return"Chrome";if(fr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/firefox\//i.test(e)}function ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/crios\//i.test(e)}function lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/iemobile/i.test(e)}function fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/android/i.test(e)}function hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/blackberry/i.test(e)}function dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/webos/i.test(e)}function pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/iphone|ipad|ipod/i.test(e)}function vr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return pr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function mr(){return ye()&&10===document.documentMode}function gr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return pr(e)||fr(e)||dr(e)||hr(e)||/windows phone/i.test(e)||lr(e)}function yr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=or(de());break;case"Worker":t="".concat(or(de()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(kt,"/").concat(r)}var kr=function(){function e(t,n){G(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new br(this),this.idTokenSubscription=new br(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return $(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=hn(t)),this._initializationPromise=this.queue(Fe(Ue().mark((function r(){var i,a;return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ar.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Fe(Ue().mark((function e(t){var n,r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return un(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Oe(t):null)&&un(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Fe(Ue().mark((function e(t){var n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&un(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Fe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(hn(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new be("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Fe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return un(n=t&&hn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ar.create(this,[hn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Fe(Ue().mark((function e(t){var n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return un(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return un(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=W({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wr(e){return Oe(e)}var br=function(){function e(t){var n=this;G(this,e),this.auth=t,this.observer=null,this.addObserver=Pe((function(e){return n.observer=e}))}return $(e,[{key:"next",get:function(){return un(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function _r(e,t,n){var r=wr(e);un(r._canInitEmulator,r,"emulator-config-failed"),un(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=xr(t),o=function(e){var t=xr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Er(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Er(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function xr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Er(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Tr=function(){function e(t,n){G(this,e),this.providerId=t,this.signInMethod=n}return $(e,[{key:"toJSON",value:function(){return cn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return cn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return cn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return cn("not implemented")}}]),e}();function Sr(e,t){return Ir.apply(this,arguments)}function Ir(){return(Ir=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_n(t,"POST","/v1/accounts:resetPassword",bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cr(e,t){return Ar.apply(this,arguments)}function Ar(){return(Ar=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_n(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pr(e,t){return Nr.apply(this,arguments)}function Nr(){return(Nr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_n(t,"POST","/v1/accounts:update",bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rr(e,t){return Or.apply(this,arguments)}function Or(){return(Or=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn(t,"POST","/v1/accounts:signInWithPassword",bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dr(e,t){return Lr.apply(this,arguments)}function Lr(){return(Lr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_n(t,"POST","/v1/accounts:sendOobCode",bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mr(e,t){return Fr.apply(this,arguments)}function Fr(){return(Fr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jr(e,t){return Ur.apply(this,arguments)}function Ur(){return(Ur=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vr(e,t){return Br.apply(this,arguments)}function Br(){return(Br=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zr(e,t){return qr.apply(this,arguments)}function qr(){return(qr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hr(e,t){return Wr.apply(this,arguments)}function Wr(){return(Wr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn(t,"POST","/v1/accounts:signInWithEmailLink",bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gr(e,t){return Kr.apply(this,arguments)}function Kr(){return(Kr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn(t,"POST","/v1/accounts:signInWithEmailLink",bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $r=function(e){J(n,e);var t=re(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return G(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return $(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Rr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Hr(t,{email:this._email,oobCode:this._password}));case 5:nn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Cr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Gr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:nn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Tr);function Qr(e,t){return Yr.apply(this,arguments)}function Yr(){return(Yr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn(t,"POST","/v1/accounts:signInWithIdp",bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xr=function(e){J(n,e);var t=re(n);function n(){var e;return G(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return $(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Qr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Qr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Qr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ie(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nn("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ft(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Tr);function Jr(e,t){return Zr.apply(this,arguments)}function Zr(){return(Zr=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_n(t,"POST","/v1/accounts:sendVerificationCode",bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ei(){return(ei=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn(t,"POST","/v1/accounts:signInWithPhoneNumber",bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ti(){return(ti=Fe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(t,"POST","/v1/accounts:signInWithPhoneNumber",bn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Pn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ni=W({},"USER_NOT_FOUND","user-not-found");function ri(){return(ri=Fe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Sn(t,"POST","/v1/accounts:signInWithPhoneNumber",bn(t,r),ni));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ii=function(e){J(n,e);var t=re(n);function n(e){var r;return G(this,n),(r=t.call(this,"phone","phone")).params=e,r}return $(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ei.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ti.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ri.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Tr);var ai=function(){function e(t){var n,r,i,a,o,s;G(this,e);var u=Ce(Ae(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);un(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return $(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ce(Ae(e)).link,n=t?Ce(Ae(t)).deep_link_id:null,r=Ce(Ae(e)).deep_link_id;return(r?Ce(Ae(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(lb){return null}}}]),e}();var oi=function(){function e(){G(this,e),this.providerId=e.PROVIDER_ID}return $(e,null,[{key:"credential",value:function(e,t){return $r._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ai.parseLink(t);return un(n,"argument-error"),$r._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();oi.PROVIDER_ID="password",oi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var si=function(){function e(t){G(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return $(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ui=function(e){J(n,e);var t=re(n);function n(){var e;return G(this,n),(e=t.apply(this,arguments)).scopes=[],e}return $(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Le(this.scopes)}}]),n}(si),ci=function(e){J(n,e);var t=re(n);function n(){return G(this,n),t.apply(this,arguments)}return $(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return un(e.idToken||e.accessToken,"argument-error"),Xr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return un("providerId"in t&&"signInMethod"in t,"argument-error"),Xr._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(ui),li=function(e){J(n,e);var t=re(n);function n(){return G(this,n),t.call(this,"facebook.com")}return $(n,null,[{key:"credential",value:function(e){return Xr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(lb){return null}}}]),n}(ui);li.FACEBOOK_SIGN_IN_METHOD="facebook.com",li.PROVIDER_ID="facebook.com";var fi=function(e){J(n,e);var t=re(n);function n(){var e;return G(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return $(n,null,[{key:"credential",value:function(e,t){return Xr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(lb){return null}}}]),n}(ui);fi.GOOGLE_SIGN_IN_METHOD="google.com",fi.PROVIDER_ID="google.com";var hi=function(e){J(n,e);var t=re(n);function n(){return G(this,n),t.call(this,"github.com")}return $(n,null,[{key:"credential",value:function(e){return Xr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(lb){return null}}}]),n}(ui);hi.GITHUB_SIGN_IN_METHOD="github.com",hi.PROVIDER_ID="github.com";var di=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return $(n,[{key:"_getIdTokenResponse",value:function(e){return Qr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Qr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Qr(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Tr),pi=function(e){J(n,e);var t=re(n);function n(e){return G(this,n),un(e.startsWith("saml."),"argument-error"),t.call(this,e)}return $(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=di.fromJSON(e);return un(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return di._create(r,n)}catch(i){return null}}}]),n}(si),vi=function(e){J(n,e);var t=re(n);function n(){return G(this,n),t.call(this,"twitter.com")}return $(n,null,[{key:"credential",value:function(e,t){return Xr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(lb){return null}}}]),n}(ui);function mi(e,t){return gi.apply(this,arguments)}function gi(){return(gi=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn(t,"POST","/v1/accounts:signUp",bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}vi.TWITTER_SIGN_IN_METHOD="twitter.com",vi.PROVIDER_ID="twitter.com";var yi=function(){function e(t){G(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return $(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Fe(Ue().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,tr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=ki(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Fe(Ue().mark((function t(n,r,i){var a;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ki(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ki(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function wi(){return wi=Fe(Ue().mark((function e(t){var n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wr(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new yi({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,mi(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,yi._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),wi.apply(this,arguments)}var bi=function(e){J(n,e);var t=re(n);function n(e,r,i,a){var o,s;return G(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Y(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return $(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(we);function _i(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw bi._fromErrorAndOperation(e,n,t,r);throw n}))}function xi(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ei(e,t){return Ti.apply(this,arguments)}function Ti(){return Ti=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oe(t),e.next=3,Ci(!0,r,n);case 3:return e.t0=On,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=xi(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}function Si(e,t){return Ii.apply(this,arguments)}function Ii(){return Ii=Fe(Ue().mark((function e(t,n){var r,i,a=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Bn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",yi._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ii.apply(this,arguments)}function Ci(e,t,n){return Ai.apply(this,arguments)}function Ai(){return(Ai=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(n);case 2:i=xi(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",un(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pi(e,t){return Ni.apply(this,arguments)}function Ni(){return Ni=Fe(Ue().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Bn(t,_i(i,a,n,t),r);case 6:return un((o=e.sent).idToken,i,"internal-error"),un(s=Vn(o.idToken),i,"internal-error"),u=s.sub,un(t.uid===u,i,"user-mismatch"),e.abrupt("return",yi._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&nn(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ni.apply(this,arguments)}function Ri(e,t){return Oi.apply(this,arguments)}function Oi(){return Oi=Fe(Ue().mark((function e(t,n){var r,i,a,o,s=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,_i(t,i,n);case 4:return a=e.sent,e.next=7,yi._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Di(e,t){return Li.apply(this,arguments)}function Li(){return(Li=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(wr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mi(e,t){return Fi.apply(this,arguments)}function Fi(){return(Fi=Fe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oe(t),e.next=3,Ci(!1,r,n.providerId);case 3:return e.abrupt("return",Si(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ji(e,t){return Ui.apply(this,arguments)}function Ui(){return(Ui=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi(Oe(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vi(e,t){return Bi.apply(this,arguments)}function Bi(){return(Bi=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn(t,"POST","/v1/accounts:signInWithCustomToken",bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zi(){return(zi=Fe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wr(t),e.next=3,Vi(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,yi._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qi=function(){function e(t,n){G(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return $(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Hi._fromServerResponse(e,t):nn(e,"internal-error")}}]),e}(),Hi=function(e){J(n,e);var t=re(n);function n(e){var r;return G(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return $(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(qi);function Wi(e,t,n){var r;un((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),un("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(un(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(un(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Gi(){return(Gi=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oe(t),a={requestType:"PASSWORD_RESET",email:n},r&&Wi(i,a,r),e.next=5,jr(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ki(){return(Ki=Fe(Ue().mark((function e(t,n,r){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sr(Oe(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(){return($i=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pr(Oe(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qi(e,t){return Yi.apply(this,arguments)}function Yi(){return(Yi=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oe(t),e.next=3,Sr(r,{oobCode:n});case 3:i=e.sent,un(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return un(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:un(i.mfaInfo,r,"internal-error");case 13:un(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=qi._fromServerResponse(wr(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xi(){return Xi=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qi(Oe(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}function Ji(e,t,n){return Zi.apply(this,arguments)}function Zi(){return(Zi=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wr(t),e.next=3,mi(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,yi._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(){return(ea=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oe(t),a={requestType:"EMAIL_SIGNIN",email:n},un(r.handleCodeInApp,i,"argument-error"),r&&Wi(i,a,r),e.next=6,Vr(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(){return(ta=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oe(t),un((a=oi.credentialWithLink(n,r||dn()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Di(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return(ra=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_n(t,"POST","/v1/accounts:createAuthUri",bn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(){return(ia=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pn()?dn():"http://localhost",i={identifier:n,continueUri:r},e.next=4,na(Oe(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(){return(aa=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oe(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Wi(r.auth,a,n),e.next=8,Mr(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oa(){return(oa=Fe(Ue().mark((function e(t,n,r){var i,a,o,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oe(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Wi(i.auth,o,r),e.next=8,zr(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sa(e,t){return ua.apply(this,arguments)}function ua(){return(ua=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_n(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ca(){return(ca=Fe(Ue().mark((function e(t,n){var r,i,a,o,s,u,c;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Oe(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Bn(a,sa(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function la(e,t,n){return fa.apply(this,arguments)}function fa(){return(fa=Fe(Ue().mark((function e(t,n,r){var i,a,o,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Bn(t,Cr(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ha=$((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};G(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),da=function(e){J(n,e);var t=re(n);function n(e,r,i,a){var o;return G(this,n),(o=t.call(this,e,r,i)).username=a,o}return $(n)}(ha),pa=function(e){J(n,e);var t=re(n);function n(e,r){return G(this,n),t.call(this,e,"facebook.com",r)}return $(n)}(ha),va=function(e){J(n,e);var t=re(n);function n(e,r){return G(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return $(n)}(da),ma=function(e){J(n,e);var t=re(n);function n(e,r){return G(this,n),t.call(this,e,"google.com",r)}return $(n)}(ha),ga=function(e){J(n,e);var t=re(n);function n(e,r,i){return G(this,n),t.call(this,e,"twitter.com",r,i)}return $(n)}(da);function ya(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Vn(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ha(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new pa(a,i);case"github.com":return new va(a,i);case"google.com":return new ma(a,i);case"twitter.com":return new ga(a,i,e.screenName||null);case"custom":case"anonymous":return new ha(a,null);default:return new ha(a,r,i)}}(n)}var ka=function(){function e(t,n){G(this,e),this.type=t,this.credential=n}return $(e,[{key:"toJSON",value:function(){return{multiFactorSession:W({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),wa=function(){function e(t,n,r){G(this,e),this.session=t,this.hints=n,this.signInResolver=r}return $(e,[{key:"resolveSignIn",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=wr(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return qi._fromServerResponse(r,e)}));un(i.mfaPendingCredential,r,"internal-error");var o=ka._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Fe(Ue().mark((function e(t){var a,s,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,yi._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return un(n.user,r,"internal-error"),e.abrupt("return",yi._forOperation(n.user,n.operationType,s));case 17:nn(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ba(e,t){return _n(e,"POST","/v2/accounts/mfaEnrollment:start",bn(e,t))}var _a=function(){function e(t){var n=this;G(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return qi._fromServerResponse(t.auth,e)})))}))}return $(e,[{key:"getSession",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ka,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Bn(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Fe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Bn(this.user,_n(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",bn(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),xa=new WeakMap;var Ea="__sak",Ta=function(){function e(t,n){G(this,e),this.storageRetriever=t,this.type=n}return $(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ea,"1"),this.storage.removeItem(Ea),Promise.resolve(!0)):Promise.resolve(!1)}catch(lb){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Sa=function(e){J(n,e);var t=re(n);function n(){var e;return G(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=de();return ur(e)||pr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=gr(),e._shouldAllowMigration=!0,e}return $(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);mr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Fe(Ue().mark((function e(t,r){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt(Z(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fe(Ue().mark((function e(t){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt(Z(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt(Z(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ta);Sa.type="LOCAL";var Ia=Sa,Ca=function(e){J(n,e);var t=re(n);function n(){return G(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return $(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ta);Ca.type="SESSION";var Aa=Ca;function Pa(e){return Promise.all(e.map(function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Na=function(){function e(t){G(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return $(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Fe(Ue().mark((function e(t){var n,r,i,a,o,s,u,c;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Pa(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ra(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Na.receivers=[];var Oa=function(){function e(t){G(this,e),this.target=t,this.handlers=new Set}return $(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Ra("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Da(){return window}function La(){return"undefined"!==typeof Da().WorkerGlobalScope&&"function"===typeof Da().importScripts}function Ma(){return Fa.apply(this,arguments)}function Fa(){return(Fa=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ja(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ua="firebaseLocalStorageDb",Va="firebaseLocalStorage",Ba="fbase_key",za=function(){function e(t){G(this,e),this.request=t}return $(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function qa(e,t){return e.transaction([Va],t?"readwrite":"readonly").objectStore(Va)}function Ha(){var e=indexedDB.deleteDatabase(Ua);return new za(e).toPromise()}function Wa(){var e=indexedDB.open(Ua,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Va,{keyPath:Ba})}catch(r){n(r)}})),e.addEventListener("success",Fe(Ue().mark((function n(){var r;return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Va)){n.next=12;break}return r.close(),n.next=5,Ha();case 5:return n.t0=t,n.next=8,Wa();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ga(e,t,n){return Ka.apply(this,arguments)}function Ka(){return Ka=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qa(t,!0).put((W(i={},Ba,n),W(i,"value",r),i)),e.abrupt("return",new za(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function $a(e,t){return Qa.apply(this,arguments)}function Qa(){return Qa=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qa(t,!1).get(n),e.next=3,new za(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}function Ya(e,t){var n=qa(e,!0).delete(t);return new za(n).toPromise()}var Xa=function(){function e(){G(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return $(e,[{key:"_openDb",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Wa();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",La()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Fe(Ue().mark((function e(){var t=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Na._getInstance(La()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Fe(Ue().mark((function e(n,r){var i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Fe(Ue().mark((function e(){var t,n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ma();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Oa(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ja()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Wa();case 5:return t=e.sent,e.next=8,Ga(t,Ea,"1");case 8:return e.next=10,Ya(t,Ea);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Fe(Ue().mark((function e(t,n){var r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ga(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return $a(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Fe(Ue().mark((function e(t){var n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ya(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Fe(Ue().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=qa(e,!1).getAll();return new za(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Q(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Xa.type="LOCAL";var Ja=Xa;function Za(e,t){return _n(e,"POST","/v2/accounts/mfaSignIn:start",bn(e,t))}function eo(e){return to.apply(this,arguments)}function to(){return(to=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=rn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ro(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var io=1e12,ao=function(){function e(t){G(this,e),this.auth=t,this.counter=io,this._widgets=new Map}return $(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new oo(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||io;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||io;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||io,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),oo=function(){function e(t,n,r){var i=this;G(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;un(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return $(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var so=ro("rcb"),uo=new mn(3e4,6e4),co="https://www.google.com/recaptcha/api.js?",lo=function(){function e(){G(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Da().grecaptcha}return $(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return un(fo(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Da().grecaptcha):new Promise((function(r,i){var a=Da().setTimeout((function(){i(rn(e,"network-request-failed"))}),uo.get());Da()[so]=function(){Da().clearTimeout(a),delete Da()[so];var o=Da().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(rn(e,"internal-error"))},no("".concat(co,"?").concat(Ie({onload:so,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(rn(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Da().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function fo(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var ho=function(){function e(){G(this,e)}return $(e,[{key:"load",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ao(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),po="recaptcha",vo={theme:"light",type:"image"},mo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},vo),r=arguments.length>2?arguments[2]:void 0;G(this,e),this.parameters=n,this.type=po,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wr(r),this.isInvisible="invisible"===this.parameters.size,un("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;un(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ho:new lo,this.validateStartingState()}return $(e,[{key:"verify",value:function(){var e=Fe(Ue().mark((function e(){var t,n,r,i=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){un(!this.parameters.sitekey,this.auth,"argument-error"),un(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),un("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Da()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){un(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Fe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return un(pn()&&!La(),this.auth,"internal-error"),e.next=3,go();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,eo(this.auth);case 8:un(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return un(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function go(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var yo=function(){function e(t,n){G(this,e),this.verificationId=t,this.onConfirmation=n}return $(e,[{key:"confirm",value:function(e){var t=ii._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ko(){return(ko=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wr(t),e.next=3,xo(i,n,Oe(r));case 3:return a=e.sent,e.abrupt("return",new yo(a,(function(e){return Di(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(e,t,n){return bo.apply(this,arguments)}function bo(){return(bo=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oe(t),e.next=3,Ci(!1,i,"phone");case 3:return e.next=5,xo(i.auth,n,Oe(r));case 5:return a=e.sent,e.abrupt("return",new yo(a,(function(e){return Mi(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(){return(_o=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oe(t),e.next=3,xo(i.auth,n,Oe(r));case 3:return a=e.sent,e.abrupt("return",new yo(a,(function(e){return ji(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xo(e,t,n){return Eo.apply(this,arguments)}function Eo(){return Eo=Fe(Ue().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,un("string"===typeof a,t,"argument-error"),un(r.type===po,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return un("enroll"===s.type,t,"internal-error"),e.next=13,ba(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return un("signin"===s.type,t,"internal-error"),un(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Za(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Jr(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Eo.apply(this,arguments)}function To(){return(To=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Si(Oe(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var So=function(){function e(t){G(this,e),this.providerId=e.PROVIDER_ID,this.auth=wr(t)}return $(e,[{key:"verifyPhoneNumber",value:function(e,t){return xo(this.auth,e,Oe(t))}}],[{key:"credential",value:function(e,t){return ii._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ii._fromTokenResponse(n,r):null}}]),e}();function Io(e,t){return t?hn(t):(un(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}So.PROVIDER_ID="phone",So.PHONE_SIGN_IN_METHOD="phone";var Co=function(e){J(n,e);var t=re(n);function n(e){var r;return G(this,n),(r=t.call(this,"custom","custom")).params=e,r}return $(n,[{key:"_getIdTokenResponse",value:function(e){return Qr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Qr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Qr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Tr);function Ao(e){return Ri(e.auth,new Co(e),e.bypassAuthState)}function Po(e){var t=e.auth,n=e.user;return un(n,t,"internal-error"),Pi(n,new Co(e),e.bypassAuthState)}function No(e){return Ro.apply(this,arguments)}function Ro(){return(Ro=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,un(r=t.user,n,"internal-error"),e.abrupt("return",Si(r,new Co(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oo=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];G(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return $(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Fe(Ue().mark((function t(n,r){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Fe(Ue().mark((function e(t){var n,r,i,a,o,s,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ao;case"linkViaPopup":case"linkViaRedirect":return No;case"reauthViaPopup":case"reauthViaRedirect":return Po;default:nn(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Do=new mn(2e3,1e4);function Lo(e,t,n){return Mo.apply(this,arguments)}function Mo(){return(Mo=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wr(t),on(t,n,si),a=Io(i,r),o=new Vo(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fo(){return(Fo=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return on((i=Oe(t)).auth,n,si),a=Io(i.auth,r),o=new Vo(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jo(e,t,n){return Uo.apply(this,arguments)}function Uo(){return(Uo=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return on((i=Oe(t)).auth,n,si),a=Io(i.auth,r),o=new Vo(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vo=function(e){J(n,e);var t=re(n);function n(e,r,i,a,o){var s;return G(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Y(s),s}return $(n,[{key:"executeNotNull",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return un(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Fe(Ue().mark((function e(){var t,n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ln(1===this.filter.length,"Popup operations only handle one event"),t=Ra(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(rn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(rn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(rn(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Do.get())}()}}]),n}(Oo);Vo.currentPopupAction=null;var Bo=new Map,zo=function(e){J(n,e);var t=re(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return G(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return $(n,[{key:"execute",value:function(){var e=Fe(Ue().mark((function e(){var t,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Bo.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,qo(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Mt(Z(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Bo.set(this.auth._key(),t);case 21:return this.bypassAuthState||Bo.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Fe(Ue().mark((function e(t){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Mt(Z(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Mt(Z(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Oo);function qo(e,t){return Ho.apply(this,arguments)}function Ho(){return(Ho=Fe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$o(n),i=Ko(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e,t){return Go.apply(this,arguments)}function Go(){return(Go=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t)._set($o(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ko(e){return hn(e._redirectPersistence)}function $o(e){return ir("pendingRedirect",e.config.apiKey,e.name)}function Qo(e,t,n){return function(e,t,n){return Yo.apply(this,arguments)}(e,t,n)}function Yo(){return(Yo=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wr(t),on(t,n,si),a=Io(i,r),e.next=5,Wo(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xo(e,t,n){return function(e,t,n){return Jo.apply(this,arguments)}(e,t,n)}function Jo(){return(Jo=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return on((i=Oe(t)).auth,n,si),a=Io(i.auth,r),e.next=5,Wo(a,i.auth);case 5:return e.next=7,as(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zo(e,t,n){return function(e,t,n){return es.apply(this,arguments)}(e,t,n)}function es(){return(es=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return on((i=Oe(t)).auth,n,si),a=Io(i.auth,r),e.next=5,Ci(!1,i,n.providerId);case 5:return e.next=7,Wo(a,i.auth);case 7:return e.next=9,as(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return(ns=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wr(t)._initializationPromise;case 2:return e.abrupt("return",rs(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return is=Fe(Ue().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=wr(t),a=Io(i,n),o=new zo(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}function as(e){return os.apply(this,arguments)}function os(){return(os=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ra("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ss=function(){function e(t){G(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return $(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!cs(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(rn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(us(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(us(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function us(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function cs(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ls(e){return fs.apply(this,arguments)}function fs(){return fs=Fe(Ue().mark((function e(t){var n,r=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",_n(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}var hs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ds=/^https?/;function ps(){return(ps=Fe(Ue().mark((function e(t){var n,r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ls(t);case 4:n=e.sent,r=n.authorizedDomains,i=Q(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!vs(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:nn(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function vs(e){var t=dn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ds.test(r))return!1;if(hs.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ms=new mn(3e4,6e4);function gs(){var e=Da().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Le(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ys=null;function ks(e){return ys=ys||function(e){return new Promise((function(t,n){var r,i,a;function o(){gs(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){gs(),n(rn(e,"network-request-failed"))},timeout:ms.get()})}if(null===(i=null===(r=Da().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Da().gapi)||void 0===a?void 0:a.load)){var s=ro("iframefcb");return Da()[s]=function(){gapi.load?o():n(rn(e,"network-request-failed"))},no("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ys=null,e}))}(e),ys}var ws=new mn(5e3,15e3),bs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_s=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xs(e){var t=e.config;un(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?gn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:kt},i=_s.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ie(r).slice(1))}function Es(e){return Ts.apply(this,arguments)}function Ts(){return Ts=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ks(t);case 2:return n=e.sent,un(r=Da().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:xs(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bs,dontclear:!0},(function(e){return new Promise(function(){var n=Fe(Ue().mark((function n(r,i){var a,o,s;return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Da().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=rn(t,"network-request-failed"),o=Da().setTimeout((function(){i(a)}),ws.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}var Ss={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Is="_blank",Cs="http://localhost",As=function(){function e(t){G(this,e),this.window=t,this.associatedEvent=null}return $(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ps(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Ss),{width:r.toString(),height:i.toString(),top:a,left:o}),l=de().toLowerCase();n&&(s=cr(l)?Is:n),sr(l)&&(t=t||Cs,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(vr(l)&&"_self"!==s)return Ns(t||"",s),new As(null);var h=window.open(t||"",s,f);un(h,e,"popup-blocked");try{h.focus()}catch(d){}return new As(h)}function Ns(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Rs="__/auth/handler",Os="emulator/auth/handler";function Ds(e,t,n,r,i,a){un(e.config.authDomain,e,"auth-domain-config-required"),un(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:kt,eventId:i};if(t instanceof si){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=c(u[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof ui){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Rs);return gn(t,Os)}(e),"?").concat(Ie(p).slice(1))}var Ls="webStorageSupport",Ms=function(){function e(){G(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Aa,this._completeRedirectFn=rs}return $(e,[{key:"_openPopup",value:function(){var e=Fe(Ue().mark((function e(t,n,r,i){var a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ln(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Ds(t,n,r,dn(),i),e.abrupt("return",Ps(t,o,Ra()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Fe(Ue().mark((function e(t,n,r,i){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Ds(t,n,r,dn(),i),Da().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ln(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Es(t);case 2:return n=e.sent,r=new ss(t),n.register("authEvent",(function(e){return un(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ls,{type:Ls},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),nn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ps.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return gr()||ur()||pr()}}]),e}(),Fs=Ms,js=function(e){J(n,e);var t=re(n);function n(e){var r;return G(this,n),(r=t.call(this,"phone")).credential=e,r}return $(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return _n(e,"POST","/v2/accounts/mfaEnrollment:finalize",bn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return _n(e,"POST","/v2/accounts/mfaSignIn:finalize",bn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){G(this,e),this.factorId=t}return $(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return cn("unexpected MultiFactorSessionType")}}}]),e}()),Us=function(){function e(){G(this,e)}return $(e,null,[{key:"assertion",value:function(e){return js._fromCredential(e)}}]),e}();Us.FACTOR_ID="phone";var Vs,Bs="@firebase/auth",zs="0.19.4",qs=function(){function e(t){G(this,e),this.auth=t,this.internalListeners=new Map}return $(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){un(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Hs(){return window}Vs="Browser",lt(new Ve("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){un(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),un(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Vs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yr(Vs)},r=new kr(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),lt(new Ve("auth-internal",(function(e){return function(e){return new qs(e)}(wr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Tt(Bs,zs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Vs)),Tt(Bs,zs,"esm2017");function Ws(e,t,n){return Gs.apply(this,arguments)}function Gs(){return Gs=Fe(Ue().mark((function e(t,n,r){var i,a,o,s,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Hs(),o=a.BuildInfo,ln(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Js(n.sessionId);case 4:return s=e.sent,u={},pr()?u.ibi=o.packageName:fr()?u.apn=o.packageName:nn(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Ds(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}function Ks(){return(Ks=Fe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hs(),r=n.BuildInfo,i={},pr()?i.iosBundleId=r.packageName:fr()?i.androidPackageName=r.packageName:nn(t,"operation-not-supported-in-this-environment"),e.next=5,ls(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $s(e){var t=Hs().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Qs(e,t,n){return Ys.apply(this,arguments)}function Ys(){return Ys=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hs(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(rn(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),fr()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Ys.apply(this,arguments)}function Xs(e){var t,n,r,i,a,o,s,u,c,l,f=Hs();un("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),un("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),un("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),un("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),un("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Js(e){return Zs.apply(this,arguments)}function Zs(){return(Zs=Fe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=eu(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eu(e){if(ln(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var tu=function(e){J(n,e);var t=re(n);function n(){var e;return G(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return $(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Mt(Z(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ss);function nu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:su(),postBody:null,tenantId:e.tenantId,error:rn(e,"no-auth-event")}}function ru(e,t){return uu()._set(cu(e),t)}function iu(e){return au.apply(this,arguments)}function au(){return(au=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu()._get(cu(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,uu()._remove(cu(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ou(e,t){var n,r,i=function(e){var t=lu(e),n=t.link?decodeURIComponent(t.link):void 0,r=lu(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return lu(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=lu(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?rn(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function su(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function uu(){return hn(Ia)}function cu(e){return ir("authEvent",e.config.apiKey,e.name)}function lu(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||De(t)||s(t)||u();r[0];return Ce(r.slice(1).join("?"))}var fu=function(){function e(){G(this,e),this._redirectPersistence=Aa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=rs}return $(e,[{key:"_initialize",value:function(){var e=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new tu(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){nn(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Fe(Ue().mark((function e(t,n,r,i){var a,o,s,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xs(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Bo.clear(),e.next=10,this._originValidation(t);case 10:return o=nu(t,r,i),e.next=13,ru(t,o);case 13:return e.next=15,Ws(t,o,n);case 15:return s=e.sent,e.next=18,$s(s);case 18:return u=e.sent,e.abrupt("return",Qs(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ks.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Hs(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Fe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,iu(e);case 2:t.onEvent(du());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Fe(Ue().mark((function n(r){var i,a;return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,iu(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=ou(i,r.url)),t.onEvent(a||du());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Hs().handleOpenURL=function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),hu=fu;function du(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:rn("no-auth-event")}}function pu(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function vu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return!("file:"!==pu()&&"ionic:"!==pu()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function mu(){return ye()&&11===(null===document||void 0===document?void 0:document.documentMode)}function gu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return/Edge\/\d+/.test(e)}function yu(){try{var e=self.localStorage,t=Ra();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de();return mu()||gu(e)}()||ke()}catch(n){return ku()&&ke()}return!1}function ku(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function wu(){return("http:"===pu()||"https:"===pu()||me()||vu())&&!(ge()||ve())&&yu()&&!ku()}function bu(){return vu()&&"undefined"!==typeof document}function _u(){return xu.apply(this,arguments)}function xu(){return(xu=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bu()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Eu={LOCAL:"local",NONE:"none",SESSION:"session"},Tu=un,Su="persistence";function Iu(e,t){Tu(Object.values(Eu).includes(t),e,"invalid-persistence-type"),ge()?Tu(t!==Eu.SESSION,e,"unsupported-persistence-type"):ve()?Tu(t===Eu.NONE,e,"unsupported-persistence-type"):ku()?Tu(t===Eu.NONE||t===Eu.LOCAL&&ke(),e,"unsupported-persistence-type"):Tu(t===Eu.NONE||yu(),e,"unsupported-persistence-type")}function Cu(e){return Au.apply(this,arguments)}function Au(){return(Au=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Pu(),r=ir(Su,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pu(){return"undefined"!==typeof window?window:null}var Nu=un,Ru=function(){function e(){G(this,e),this.browserResolver=hn(Fs),this.cordovaResolver=hn(hu),this.underlyingResolver=null,this._redirectPersistence=Aa,this._completeRedirectFn=rs}return $(e,[{key:"_initialize",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Fe(Ue().mark((function e(t,n,r,i){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Fe(Ue().mark((function e(t,n,r,i){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return bu()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Nu(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_u();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ou(e){return e.unwrap()}function Du(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Uu(e,function(e,t){var n,r=Oe(e),i=t;return un(t.customData.operationType,r,"argument-error"),un(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),wa._fromError(r,i)}(e,t));else if(r){var i=Lu(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Lu(e){var t=(e instanceof we?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof we)&&"temporaryProof"in t&&"phoneNumber"in t)return So.credentialFromResult(e);var n,r=t.providerId;if(!r||r===zt)return null;switch(r){case Bt:n=fi;break;case Ut:n=li;break;case Vt:n=hi;break;case qt:n=vi;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?di._create(r,s):Xr._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new ci(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof we?n.credentialFromError(e):n.credentialFromResult(e)}function Mu(e,t){return t.catch((function(t){throw t instanceof we&&Du(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Lu(t)),additionalUserInfo:ya(e),user:Vu.getOrCreate(r)}}))}function Fu(e,t){return ju.apply(this,arguments)}function ju(){return(ju=Fe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Mu(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Uu=function(){function e(t,n){G(this,e),this.resolver=n,this.auth=t.wrapped()}return $(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Mu(Ou(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Vu=function(){function e(t){G(this,e),this._delegate=t,this.multiFactor=function(e){var t=Oe(e);return xa.has(t)||xa.set(t,_a._fromUser(t)),xa.get(t)}(t)}return $(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mu(this.auth,Mi(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fu(this.auth,wo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mu(this.auth,jo(this._delegate,t,Ru)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cu(wr(this.auth));case 2:return e.abrupt("return",Zo(this._delegate,t,Ru));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mu(this.auth,ji(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Fu(this.auth,function(e,t,n){return _o.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Mu(this.auth,function(e,t,n){return Fo.apply(this,arguments)}(this._delegate,e,Ru))}},{key:"reauthenticateWithRedirect",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cu(wr(this.auth));case 2:return e.abrupt("return",Xo(this._delegate,t,Ru));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return aa.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ei(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return la(Oe(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return la(Oe(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return To.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ca.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return oa.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Vu.USER_MAP=new WeakMap;var Bu=un,zu=function(){function e(t,n){if(G(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Bu(r,"invalid-api-key",{appName:t.name});var i=[rr];if("undefined"!==typeof window){i=function(e,t){var n=Pu();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=ir(Su,e,t);switch(n.sessionStorage.getItem(r)){case Eu.NONE:return[rr];case Eu.LOCAL:return[Ja,Aa];case Eu.SESSION:return[Aa];default:return[]}}(r,t.name);for(var a=0,o=[Ja,Ia,Aa];a<o.length;a++){var s=o[a];i.includes(s)||i.push(s)}}Bu(r,"invalid-api-key",{appName:t.name});var u="undefined"!==typeof window?Ru:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:u}}),this._delegate._updateErrorMap(Xt),this.linkUnderlyingAuth()}return $(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Vu.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){_r(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return $i.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Qi(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ki.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mu(this._delegate,Ji(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ia.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ai.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bu(wu(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ts(this._delegate,Ru);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Mu(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){wr(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=qu(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=qu(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ea.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Gi.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Iu(this._delegate,t),e.t0=t,e.next=e.t0===Eu.SESSION?4:e.t0===Eu.LOCAL?6:e.t0===Eu.NONE?11:13;break;case 4:return n=Aa,e.abrupt("break",14);case 6:return e.next=8,hn(Ja)._isAvailable();case 8:return r=e.sent,n=r?Ja:Ia,e.abrupt("break",14);case 11:return n=rr,e.abrupt("break",14);case 13:return e.abrupt("return",nn("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Mu(this._delegate,function(e){return wi.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Mu(this._delegate,Di(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Mu(this._delegate,function(e,t){return zi.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Mu(this._delegate,function(e,t,n){return Di(Oe(e),oi.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Mu(this._delegate,function(e,t,n){return ta.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Fu(this._delegate,function(e,t,n){return ko.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bu(wu(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Mu(this._delegate,Lo(this._delegate,t,Ru)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bu(wu(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Cu(this._delegate);case 3:return e.abrupt("return",Qo(this._delegate,t,Ru));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Xi.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function qu(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Vu.getOrCreate(e))},error:t,complete:n}}zu.Persistence=Eu;var Hu=function(){function e(){G(this,e),this.providerId="phone",this._delegate=new So(Ou(Dt.auth()))}return $(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return So.credential(e,t)}}]),e}();Hu.PHONE_SIGN_IN_METHOD=So.PHONE_SIGN_IN_METHOD,Hu.PROVIDER_ID=So.PROVIDER_ID;var Wu=un,Gu=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dt.app();G(this,e),Wu(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new mo(t,n,i.auth()),this.type=this._delegate.type}return $(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Ve("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new zu(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ht,PASSWORD_RESET:Wt,RECOVER_EMAIL:Gt,REVERT_SECOND_FACTOR_ADDITION:Kt,VERIFY_AND_CHANGE_EMAIL:$t,VERIFY_EMAIL:Qt}},EmailAuthProvider:oi,FacebookAuthProvider:li,GithubAuthProvider:hi,GoogleAuthProvider:fi,OAuthProvider:ci,SAMLAuthProvider:pi,PhoneAuthProvider:Hu,PhoneMultiFactorGenerator:Us,RecaptchaVerifier:Gu,TwitterAuthProvider:vi,Auth:zu,AuthCredential:Tr,Error:we}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.4")}(Dt);var Ku,$u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Qu={},Yu=Yu||{},Xu=$u||self;function Ju(){}function Zu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ec(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var tc="closure_uid_"+(1e9*Math.random()>>>0),nc=0;function rc(e,t,n){return e.call.apply(e.bind,arguments)}function ic(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ac(e,t,n){return(ac=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rc:ic).apply(null,arguments)}function oc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function sc(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function uc(){this.s=this.s,this.o=this.o}var cc={};uc.prototype.s=!1,uc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,tc)&&e[tc]||(e[tc]=++nc)}(this);delete cc[e]}},uc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var lc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},fc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function hc(e){return Array.prototype.concat.apply([],arguments)}function dc(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function pc(e){return/^[\s\xa0]*$/.test(e)}var vc,mc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function gc(e,t){return-1!=e.indexOf(t)}function yc(e,t){return e<t?-1:e>t?1:0}e:{var kc=Xu.navigator;if(kc){var wc=kc.userAgent;if(wc){vc=wc;break e}}vc=""}function bc(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function _c(e){var t={};for(var n in e)t[n]=e[n];return t}var xc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ec(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<xc.length;a++)n=xc[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Tc(e){return Tc[" "](e),e}Tc[" "]=Ju;var Sc,Ic=gc(vc,"Opera"),Cc=gc(vc,"Trident")||gc(vc,"MSIE"),Ac=gc(vc,"Edge"),Pc=Ac||Cc,Nc=gc(vc,"Gecko")&&!(gc(vc.toLowerCase(),"webkit")&&!gc(vc,"Edge"))&&!(gc(vc,"Trident")||gc(vc,"MSIE"))&&!gc(vc,"Edge"),Rc=gc(vc.toLowerCase(),"webkit")&&!gc(vc,"Edge");function Oc(){var e=Xu.document;return e?e.documentMode:void 0}e:{var Dc="",Lc=function(){var e=vc;return Nc?/rv:([^\);]+)(\)|;)/.exec(e):Ac?/Edge\/([\d\.]+)/.exec(e):Cc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rc?/WebKit\/(\S+)/.exec(e):Ic?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Lc&&(Dc=Lc?Lc[1]:""),Cc){var Mc=Oc();if(null!=Mc&&Mc>parseFloat(Dc)){Sc=String(Mc);break e}}Sc=Dc}var Fc,jc={};function Uc(){return function(e){var t=jc;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=mc(String(Sc)).split("."),n=mc("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=yc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||yc(0==a[2].length,0==o[2].length)||yc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Xu.document&&Cc){var Vc=Oc();Fc=Vc||(parseInt(Sc,10)||void 0)}else Fc=void 0;var Bc=Fc,zc=function(){if(!Xu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Xu.addEventListener("test",Ju,t),Xu.removeEventListener("test",Ju,t)}catch(n){}return e}();function qc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Hc(e,t){if(qc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Nc){e:{try{Tc(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Wc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Hc.Z.h.call(this)}}qc.prototype.h=function(){this.defaultPrevented=!0},sc(Hc,qc);var Wc={2:"touch",3:"pen",4:"mouse"};Hc.prototype.h=function(){Hc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Gc="closure_listenable_"+(1e6*Math.random()|0),Kc=0;function $c(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Kc,this.ca=this.fa=!1}function Qc(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Yc(e){this.src=e,this.g={},this.h=0}function Xc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=lc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Qc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Jc(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Yc.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Jc(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new $c(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Zc="closure_lm_"+(1e6*Math.random()|0),el={};function tl(e,t,n,r,i){if(r&&r.once)return rl(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)tl(e,t[a],n,r,i);return null}return n=ll(n),e&&e[Gc]?e.N(t,n,ec(r)?!!r.capture:!!r,i):nl(e,t,n,!1,r,i)}function nl(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ec(i)?!!i.capture:!!i,s=ul(e);if(s||(e[Zc]=s=new Yc(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=sl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)zc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ol(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function rl(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)rl(e,t[a],n,r,i);return null}return n=ll(n),e&&e[Gc]?e.O(t,n,ec(r)?!!r.capture:!!r,i):nl(e,t,n,!0,r,i)}function il(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)il(e,t[a],n,r,i);else r=ec(r)?!!r.capture:!!r,n=ll(n),e&&e[Gc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Jc(a=e.g[t],n,r,i))&&(Qc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ul(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Jc(t,n,r,i)),(n=-1<e?t[e]:null)&&al(n))}function al(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Gc])Xc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ol(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ul(t))?(Xc(n,e),0==n.h&&(n.src=null,t[Zc]=null)):Qc(e)}}}function ol(e){return e in el?el[e]:el[e]="on"+e}function sl(e,t){if(e.ca)e=!0;else{t=new Hc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&al(e),e=n.call(r,t)}return e}function ul(e){return(e=e[Zc])instanceof Yc?e:null}var cl="__closure_events_fn_"+(1e9*Math.random()>>>0);function ll(e){return"function"===typeof e?e:(e[cl]||(e[cl]=function(t){return e.handleEvent(t)}),e[cl])}function fl(){uc.call(this),this.i=new Yc(this),this.P=this,this.I=null}function hl(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new qc(t,e);else if(t instanceof qc)t.target=t.target||e;else{var i=t;Ec(t=new qc(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=dl(o,r,!0,t)&&i}if(i=dl(o=t.g=e,r,!0,t)&&i,i=dl(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=dl(o=t.g=n[a],r,!1,t)&&i}function dl(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Xc(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}sc(fl,uc),fl.prototype[Gc]=!0,fl.prototype.removeEventListener=function(e,t,n,r){il(this,e,t,n,r)},fl.prototype.M=function(){if(fl.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qc(n[r]);delete t.g[e],t.h--}}this.I=null},fl.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},fl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var pl=Xu.JSON.stringify;function vl(){var e=xl,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ml,gl=function(){function e(){G(this,e),this.h=this.g=null}return $(e,[{key:"add",value:function(e,t){var n=yl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),yl=new(function(){function e(t,n){G(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return $(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new kl}),(function(e){return e.reset()})),kl=function(){function e(){G(this,e),this.next=this.g=this.h=null}return $(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function wl(e){Xu.setTimeout((function(){throw e}),0)}function bl(e,t){ml||function(){var e=Xu.Promise.resolve(void 0);ml=function(){e.then(El)}}(),_l||(ml(),_l=!0),xl.add(e,t)}var _l=!1,xl=new gl;function El(){for(var e;e=vl();){try{e.h.call(e.g)}catch(n){wl(n)}var t=yl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_l=!1}function Tl(e,t){fl.call(this),this.h=e||1,this.g=t||Xu,this.j=ac(this.kb,this),this.l=Date.now()}function Sl(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Il(e,t,n){if("function"===typeof e)n&&(e=ac(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ac(e.handleEvent,e)}return 2147483647<Number(t)?-1:Xu.setTimeout(e,t||0)}function Cl(e){e.g=Il((function(){e.g=null,e.i&&(e.i=!1,Cl(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}sc(Tl,fl),(Ku=Tl.prototype).da=!1,Ku.S=null,Ku.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hl(this,"tick"),this.da&&(Sl(this),this.start()))}},Ku.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ku.M=function(){Tl.Z.M.call(this),Sl(this),delete this.g};var Al=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return $(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Cl(this)}},{key:"M",value:function(){Mt(Z(n.prototype),"M",this).call(this),this.g&&(Xu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(uc);function Pl(e){uc.call(this),this.h=e,this.g={}}sc(Pl,uc);var Nl=[];function Rl(e,t,n,r){Array.isArray(n)||(n&&(Nl[0]=n.toString()),n=Nl);for(var i=0;i<n.length;i++){var a=tl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ol(e){bc(e.g,(function(e,t){this.g.hasOwnProperty(t)&&al(e)}),e),e.g={}}function Dl(){this.g=!0}function Ll(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return pl(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Pl.prototype.M=function(){Pl.Z.M.call(this),Ol(this)},Pl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dl.prototype.Aa=function(){this.g=!1},Dl.prototype.info=function(){};var Ml={},Fl=null;function jl(){return Fl=Fl||new fl}function Ul(e){qc.call(this,Ml.Ma,e)}function Vl(e){var t=jl();hl(t,new Ul(t,e))}function Bl(e,t){qc.call(this,Ml.STAT_EVENT,e),this.stat=t}function zl(e){var t=jl();hl(t,new Bl(t,e))}function ql(e,t){qc.call(this,Ml.Na,e),this.size=t}function Hl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Xu.setTimeout((function(){e()}),t)}Ml.Ma="serverreachability",sc(Ul,qc),Ml.STAT_EVENT="statevent",sc(Bl,qc),Ml.Na="timingevent",sc(ql,qc);var Wl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Gl={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Kl(){}function $l(e){return e.h||(e.h=e.i())}function Ql(){}Kl.prototype.h=null;var Yl,Xl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Jl(){qc.call(this,"d")}function Zl(){qc.call(this,"c")}function ef(){}function tf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Pl(this),this.P=rf,e=Pc?125:void 0,this.W=new Tl(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new nf}function nf(){this.i=null,this.g="",this.h=!1}sc(Jl,qc),sc(Zl,qc),sc(ef,Kl),ef.prototype.g=function(){return new XMLHttpRequest},ef.prototype.i=function(){return{}},Yl=new ef;var rf=45e3,af={},of={};function sf(e,t,n){e.K=1,e.v=Pf(Ef(t)),e.s=n,e.U=!0,uf(e,null)}function uf(e,t){e.F=Date.now(),hf(e),e.A=Ef(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),qf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new nf,e.g=Wh(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Al(ac(e.Ia,e,e.g),e.O)),Rl(e.V,e.g,"readystatechange",e.gb),t=e.H?_c(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Vl(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function cf(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function lf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ff(e,n))==of){4==t&&(e.o=4,zl(14),i=!1),Ll(e.j,e.m,null,"[Incomplete Response]");break}if(r==af){e.o=4,zl(15),Ll(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ll(e.j,e.m,r,null),gf(e,r)}cf(e)&&r!=of&&r!=af&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,zl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fh(t),t.L=!0,zl(11))):(Ll(e.j,e.m,n,"[Invalid Chunked Response]"),mf(e),vf(e))}function ff(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?of:(n=Number(t.substring(n,r)),isNaN(n)?af:(r+=1)+n>t.length?of:(t=t.substr(r,n),e.C=r+n,t))}function hf(e){e.Y=Date.now()+e.P,df(e,e.P)}function df(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Hl(ac(e.eb,e),t)}function pf(e){e.B&&(Xu.clearTimeout(e.B),e.B=null)}function vf(e){0==e.l.G||e.I||Vh(e.l,e)}function mf(e){pf(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Sl(e.W),Ol(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function gf(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Xf(n.i,e)))if(n.I=e.N,!e.J&&Xf(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Uh(n),Ch(n)}Mh(n),zl(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Hl(ac(n.ab,n),6e3));if(1>=Yf(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else zh(n,11)}else if((e.J||n.g==e)&&Uh(n),!pc(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(gc(l,"spdy")||gc(l,"quic")||gc(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Jf(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Af(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Hh(r,r.H?r.la:null,r.W),d.J){Zf(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(pf(p),hf(p)),r.g=d}else Lh(r);0<n.l.length&&Nh(n)}else"stop"!=a[0]&&"close"!=a[0]||zh(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?zh(n,7):Ih(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Vl(4)}catch(a){}}function yf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Zu(e)||"string"===typeof e)fc(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Zu(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Zu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function kf(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof kf)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function wf(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];bf(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)bf(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function bf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ku=tf.prototype).setTimeout=function(e){this.P=e},Ku.gb=function(e){e=e.target;var t=this.L;t&&3==_h(e)?t.l():this.Ia(e)},Ku.Ia=function(e){try{if(e==this.g)e:{var t=_h(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Pc||this.g&&(this.h.h||this.g.ga()||xh(this.g)))){this.I||4!=t||7==n||Vl(8==n||0>=r?3:2),pf(this);var i=this.g.ba();this.N=i;t:if(cf(this)){var a=xh(this.g);e="";var o=a.length,s=4==_h(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){mf(this),vf(this);var u="";break t}this.h.i=new Xu.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pc(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,zl(12),mf(this),vf(this);break e}Ll(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,gf(this,i)}this.U?(lf(this,t,u),Pc&&this.i&&3==t&&(Rl(this.V,this.W,"tick",this.fb),this.W.start())):(Ll(this.j,this.m,u,null),gf(this,u)),4==t&&mf(this),this.i&&!this.I&&(4==t?Vh(this.l,this):(this.i=!1,hf(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,zl(12)):(this.o=0,zl(13)),mf(this),vf(this)}}}catch(t){}},Ku.fb=function(){if(this.g){var e=_h(this.g),t=this.g.ga();this.C<t.length&&(pf(this),lf(this,e,t),this.i&&4!=e&&hf(this))}},Ku.cancel=function(){this.I=!0,mf(this)},Ku.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Vl(3),zl(17)),mf(this),this.o=2,vf(this)):df(this,this.Y-e)},(Ku=kf.prototype).R=function(){wf(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ku.T=function(){return wf(this),this.g.concat()},Ku.get=function(e,t){return bf(this.h,e)?this.h[e]:t},Ku.set=function(e,t){bf(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ku.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var _f=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xf(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof xf){this.g=void 0!==t?t:e.g,Tf(this,e.j),this.s=e.s,Sf(this,e.i),If(this,e.m),this.l=e.l,t=e.h;var n=new Uf;n.i=t.i,t.g&&(n.g=new kf(t.g),n.h=t.h),Cf(this,n),this.o=e.o}else e&&(n=String(e).match(_f))?(this.g=!!t,Tf(this,n[1]||"",!0),this.s=Nf(n[2]||""),Sf(this,n[3]||"",!0),If(this,n[4]),this.l=Nf(n[5]||"",!0),Cf(this,n[6]||"",!0),this.o=Nf(n[7]||"")):(this.g=!!t,this.h=new Uf(null,this.g))}function Ef(e){return new xf(e)}function Tf(e,t,n){e.j=n?Nf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Sf(e,t,n){e.i=n?Nf(t,!0):t}function If(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Cf(e,t,n){t instanceof Uf?(e.h=t,function(e,t){t&&!e.j&&(Vf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Bf(this,t),qf(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Rf(t,Ff)),e.h=new Uf(t,e.g))}function Af(e,t,n){e.h.set(t,n)}function Pf(e){return Af(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Nf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Rf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Of),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Of(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Rf(t,Df,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Rf(t,Df,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Rf(n,"/"==n.charAt(0)?Mf:Lf,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Rf(n,jf)),e.join("")};var Df=/[#\/\?@]/g,Lf=/[#\?:]/g,Mf=/[#\?]/g,Ff=/[#\?@]/g,jf=/#/g;function Uf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Vf(e){e.g||(e.g=new kf,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Bf(e,t){Vf(e),t=Hf(e,t),bf(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,bf((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&wf(e)))}function zf(e,t){return Vf(e),t=Hf(e,t),bf(e.g.h,t)}function qf(e,t,n){Bf(e,t),0<n.length&&(e.i=null,e.g.set(Hf(e,t),dc(n)),e.h+=n.length)}function Hf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ku=Uf.prototype).add=function(e,t){Vf(this),this.i=null,e=Hf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ku.forEach=function(e,t){Vf(this),this.g.forEach((function(n,r){fc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ku.T=function(){Vf(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ku.R=function(e){Vf(this);var t=[];if("string"===typeof e)zf(this,e)&&(t=hc(t,this.g.get(Hf(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=hc(t,e[n])}return t},Ku.set=function(e,t){return Vf(this),this.i=null,zf(this,e=Hf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ku.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ku.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Wf=$((function e(t,n){G(this,e),this.h=t,this.g=n}));function Gf(e){this.l=e||$f,Xu.PerformanceNavigationTiming?e=0<(e=Xu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Xu.g&&Xu.g.Ea&&Xu.g.Ea()&&Xu.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Kf,$f=10;function Qf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Yf(e){return e.h?1:e.g?e.g.size:0}function Xf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Jf(e,t){e.g?e.g.add(t):e.h=t}function Zf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function eh(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Q(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return dc(e.i)}function th(){}function nh(){this.g=new th}function rh(e,t,n){var r=n||"";try{yf(e,(function(e,n){var i=e;ec(e)&&(i=pl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ih(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ah(e){this.l=e.$b||null,this.j=e.ib||!1}function oh(e,t){fl.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=sh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gf.prototype.cancel=function(){if(this.i=eh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Q(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},th.prototype.stringify=function(e){return Xu.JSON.stringify(e,void 0)},th.prototype.parse=function(e){return Xu.JSON.parse(e,void 0)},sc(ah,Kl),ah.prototype.g=function(){return new oh(this.l,this.j)},ah.prototype.i=(Kf={},function(){return Kf}),sc(oh,fl);var sh=0;function uh(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ch(e){e.readyState=4,e.l=null,e.j=null,e.A=null,lh(e)}function lh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ku=oh.prototype).open=function(e,t){if(this.readyState!=sh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,lh(this)},Ku.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Xu).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ku.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ch(this)),this.readyState=sh},Ku.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,lh(this)),this.g&&(this.readyState=3,lh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Xu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uh(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ku.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ch(this):lh(this),3==this.readyState&&uh(this)}},Ku.Ua=function(e){this.g&&(this.response=this.responseText=e,ch(this))},Ku.Ta=function(e){this.g&&(this.response=e,ch(this))},Ku.ha=function(){this.g&&ch(this)},Ku.setRequestHeader=function(e,t){this.v.append(e,t)},Ku.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ku.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(oh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fh=Xu.JSON.parse;function hh(e){fl.call(this),this.headers=new kf,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dh,this.K=this.L=!1}sc(hh,fl);var dh="",ph=/^https?$/i,vh=["POST","PUT"];function mh(e){return"content-type"==e.toLowerCase()}function gh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,yh(e),wh(e)}function yh(e){e.D||(e.D=!0,hl(e,"complete"),hl(e,"error"))}function kh(e){if(e.h&&"undefined"!=typeof Yu&&(!e.C[1]||4!=_h(e)||2!=e.ba()))if(e.v&&4==_h(e))Il(e.Fa,0,e);else if(hl(e,"readystatechange"),4==_h(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(_f)[1]||null;if(!a&&Xu.self&&Xu.self.location){var o=Xu.self.location.protocol;a=o.substr(0,o.length-1)}i=!ph.test(a?a.toLowerCase():"")}t=i}if(t)hl(e,"complete"),hl(e,"success");else{e.m=6;try{var s=2<_h(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",yh(e)}}finally{wh(e)}}}function wh(e,t){if(e.g){bh(e);var n=e.g,r=e.C[0]?Ju:null;e.g=null,e.C=null,t||hl(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function bh(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Xu.clearTimeout(e.A),e.A=null)}function _h(e){return e.g?e.g.readyState:0}function xh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case dh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(QS){return null}}function Eh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return bc(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Af(e,t,n))}function Th(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Sh(e){this.za=0,this.l=[],this.h=new Dl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Th("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Th("baseRetryDelayMs",5e3,e),this.$a=Th("retryDelaySeedMs",1e4,e),this.Ya=Th("forwardChannelMaxRetries",2,e),this.ra=Th("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Gf(e&&e.concurrentRequestLimit),this.Ca=new nh,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ih(e){if(Ah(e),3==e.G){var t=e.V++,n=Ef(e.F);Af(n,"SID",e.J),Af(n,"RID",t),Af(n,"TYPE","terminate"),Oh(e,n),(t=new tf(e,e.h,t,void 0)).K=2,t.v=Pf(Ef(n)),n=!1,Xu.navigator&&Xu.navigator.sendBeacon&&(n=Xu.navigator.sendBeacon(t.v.toString(),"")),!n&&Xu.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wh(t.l,null),t.g.ea(t.v)),t.F=Date.now(),hf(t)}qh(e)}function Ch(e){e.g&&(Fh(e),e.g.cancel(),e.g=null)}function Ah(e){Ch(e),e.u&&(Xu.clearTimeout(e.u),e.u=null),Uh(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Xu.clearTimeout(e.m),e.m=null)}function Ph(e,t){e.l.push(new Wf(e.Za++,t)),3==e.G&&Nh(e)}function Nh(e){Qf(e.i)||e.m||(e.m=!0,bl(e.Ha,e),e.C=0)}function Rh(e,t){var n;n=t?t.m:e.V++;var r=Ef(e.F);Af(r,"SID",e.J),Af(r,"RID",n),Af(r,"AID",e.U),Oh(e,r),e.o&&e.s&&Eh(r,e.o,e.s),n=new tf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Dh(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Jf(e.i,n),sf(n,r,t)}function Oh(e,t){e.j&&yf({},(function(e,n){Af(t,n,e)}))}function Dh(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ac(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{rh(l,o,"req"+c+"_")}catch(xd){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Lh(e){e.g||e.u||(e.Y=1,bl(e.Ga,e),e.A=0)}function Mh(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Hl(ac(e.Ga,e),Bh(e,e.A)),e.A++,!0)}function Fh(e){null!=e.B&&(Xu.clearTimeout(e.B),e.B=null)}function jh(e){e.g=new tf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ef(e.oa);Af(t,"RID","rpc"),Af(t,"SID",e.J),Af(t,"CI",e.N?"0":"1"),Af(t,"AID",e.U),Oh(e,t),Af(t,"TYPE","xmlhttp"),e.o&&e.s&&Eh(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Pf(Ef(t)),n.s=null,n.U=!0,uf(n,e)}function Uh(e){null!=e.v&&(Xu.clearTimeout(e.v),e.v=null)}function Vh(e,t){var n=null;if(e.g==t){Uh(e),Fh(e),e.g=null;var r=2}else{if(!Xf(e.i,t))return;n=t.D,Zf(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;hl(r=jl(),new ql(r,n,t,i)),Nh(e)}else Lh(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Yf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Hl(ac(e.Ha,e,t),Bh(e,e.C)),e.C++,!0))}(e,t)||2==r&&Mh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:zh(e,5);break;case 4:zh(e,10);break;case 3:zh(e,6);break;default:zh(e,2)}}function Bh(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function zh(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ac(e.jb,e);n||(n=new xf("//www.google.com/images/cleardot.gif"),Xu.location&&"http"==Xu.location.protocol||Tf(n,"https"),Pf(n)),function(e,t){var n=new Dl;if(Xu.Image){var r=new Image;r.onload=oc(ih,n,r,"TestLoadImage: loaded",!0,t),r.onerror=oc(ih,n,r,"TestLoadImage: error",!1,t),r.onabort=oc(ih,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=oc(ih,n,r,"TestLoadImage: timeout",!1,t),Xu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else zl(2);e.G=0,e.j&&e.j.va(t),qh(e),Ah(e)}function qh(e){e.G=0,e.I=-1,e.j&&(0==eh(e.i).length&&0==e.l.length||(e.i.i.length=0,dc(e.l),e.l.length=0),e.j.ua())}function Hh(e,t,n){var r=function(e){return e instanceof xf?Ef(e):new xf(e,void 0)}(n);if(""!=r.i)t&&Sf(r,t+"."+r.i),If(r,r.m);else{var i=Xu.location;r=function(e,t,n,r){var i=new xf(null,void 0);return e&&Tf(i,e),t&&Sf(i,t),n&&If(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&bc(e.aa,(function(e,t){Af(r,t,e)})),t=e.D,n=e.sa,t&&n&&Af(r,t,n),Af(r,"VER",e.ma),Oh(e,r),r}function Wh(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new hh(new ah({ib:!0})):new hh(e.qa)).L=e.H,t}function Gh(){}function Kh(){if(Cc&&!(10<=Number(Bc)))throw Error("Environmental error: no available transport.")}function $h(e,t){fl.call(this),this.g=new Sh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!pc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!pc(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Xh(this)}function Qh(e){Jl.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Yh(){Zl.call(this),this.status=1}function Xh(e){this.g=e}(Ku=hh.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yl.g(),this.C=this.u?$l(this.u):$l(Yl),this.g.onreadystatechange=ac(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void gh(this,a)}e=n||"";var i=new kf(this.headers);r&&yf(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=mh,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Xu.FormData&&e instanceof Xu.FormData,!(0<=lc(vh,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bh(this),0<this.B&&((this.K=function(e){return Cc&&Uc()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ac(this.pa,this)):this.A=Il(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){gh(this,a)}},Ku.pa=function(){"undefined"!=typeof Yu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hl(this,"timeout"),this.abort(8))},Ku.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,hl(this,"complete"),hl(this,"abort"),wh(this))},Ku.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wh(this,!0)),hh.Z.M.call(this)},Ku.Fa=function(){this.s||(this.F||this.v||this.l?kh(this):this.cb())},Ku.cb=function(){kh(this)},Ku.ba=function(){try{return 2<_h(this)?this.g.status:-1}catch(Kf){return-1}},Ku.ga=function(){try{return this.g?this.g.responseText:""}catch(Kf){return""}},Ku.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fh(t)}},Ku.Da=function(){return this.m},Ku.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ku=Sh.prototype).ma=8,Ku.G=1,Ku.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(QS){}},Ku.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new tf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ec(n=_c(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Dh(this,t,r),Af(i=Ef(this.F),"RID",e),Af(i,"CVER",22),this.D&&Af(i,"X-HTTP-Session-Id",this.D),Oh(this,i),this.o&&n&&Eh(i,this.o,n),Jf(this.i,t),this.Ra&&Af(i,"TYPE","init"),this.ja?(Af(i,"$req",r),Af(i,"SID","null"),t.$=!0,sf(t,i,null)):sf(t,i,r),this.G=2}}else 3==this.G&&(e?Rh(this,e):0==this.l.length||Qf(this.i)||Rh(this))},Ku.Ga=function(){if(this.u=null,jh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Hl(ac(this.bb,this),e)}},Ku.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,zl(10),Ch(this),jh(this))},Ku.ab=function(){null!=this.v&&(this.v=null,Ch(this),Mh(this),zl(19))},Ku.jb=function(e){e?(this.h.info("Successfully pinged google.com"),zl(2)):(this.h.info("Failed to ping google.com"),zl(1))},(Ku=Gh.prototype).xa=function(){},Ku.wa=function(){},Ku.va=function(){},Ku.ua=function(){},Ku.Oa=function(){},Kh.prototype.g=function(e,t){return new $h(e,t)},sc($h,fl),$h.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),bl(ac(e.hb,e,t))),zl(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Hh(e,null,e.W),Nh(e)},$h.prototype.close=function(){Ih(this.g)},$h.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ph(this.g,t)}else this.v?((t={}).__data__=pl(e),Ph(this.g,t)):Ph(this.g,e)},$h.prototype.M=function(){this.g.j=null,delete this.j,Ih(this.g),delete this.g,$h.Z.M.call(this)},sc(Qh,Jl),sc(Yh,Zl),sc(Xh,Gh),Xh.prototype.xa=function(){hl(this.g,"a")},Xh.prototype.wa=function(e){hl(this.g,new Qh(e))},Xh.prototype.va=function(e){hl(this.g,new Yh(e))},Xh.prototype.ua=function(){hl(this.g,"b")},Kh.prototype.createWebChannel=Kh.prototype.g,$h.prototype.send=$h.prototype.u,$h.prototype.open=$h.prototype.m,$h.prototype.close=$h.prototype.close,Wl.NO_ERROR=0,Wl.TIMEOUT=8,Wl.HTTP_ERROR=6,Gl.COMPLETE="complete",Ql.EventType=Xl,Xl.OPEN="a",Xl.CLOSE="b",Xl.ERROR="c",Xl.MESSAGE="d",fl.prototype.listen=fl.prototype.N,hh.prototype.listenOnce=hh.prototype.O,hh.prototype.getLastError=hh.prototype.La,hh.prototype.getLastErrorCode=hh.prototype.Da,hh.prototype.getStatus=hh.prototype.ba,hh.prototype.getResponseJson=hh.prototype.Qa,hh.prototype.getResponseText=hh.prototype.ga,hh.prototype.send=hh.prototype.ea;var Jh=Qu.createWebChannelTransport=function(){return new Kh},Zh=Qu.getStatEventTarget=function(){return jl()},ed=Qu.ErrorCode=Wl,td=Qu.EventType=Gl,nd=Qu.Event=Ml,rd=Qu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},id=Qu.FetchXmlHttpFactory=ah,ad=Qu.WebChannel=Ql,od=Qu.XhrIo=hh,sd="@firebase/firestore",ud=function(){function e(t){G(this,e),this.uid=t}return $(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ud.UNAUTHENTICATED=new ud(null),ud.GOOGLE_CREDENTIALS=new ud("google-credentials-uid"),ud.FIRST_PARTY=new ud("first-party-uid"),ud.MOCK_USER=new ud("mock-user");var cd="9.6.1",ld=new Ze("@firebase/firestore");function fd(){return ld.logLevel}function hd(e){if(ld.logLevel<=He.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vd);ld.debug.apply(ld,["Firestore (".concat(cd,"): ").concat(e)].concat(Le(i)))}}function dd(e){if(ld.logLevel<=He.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vd);ld.error.apply(ld,["Firestore (".concat(cd,"): ").concat(e)].concat(Le(i)))}}function pd(e){if(ld.logLevel<=He.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vd);ld.warn.apply(ld,["Firestore (".concat(cd,"): ").concat(e)].concat(Le(i)))}}function vd(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function md(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(cd,") INTERNAL ASSERTION FAILED: ")+e;throw dd(t),new Error(t)}function gd(e,t){e||md()}function yd(e,t){return e}var kd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},wd=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return $(n)}(ae(Error)),bd=$((function e(){var t=this;G(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),_d=$((function e(t,n){G(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),xd=function(){function e(){G(this,e)}return $(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ud.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ed=function(){function e(t){G(this,e),this.token=t,this.changeListener=null}return $(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Td=function(){function e(t){G(this,e),this.t=t,this.currentUser=ud.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return $(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new bd;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new bd,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){hd("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(hd("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new bd)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(hd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(gd("string"==typeof n.accessToken),new _d(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return gd(null===e||"string"==typeof e),new ud(e)}}]),e}(),Sd=$((function e(t,n,r){G(this,e),this.type="FirstParty",this.user=ud.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Id=function(){function e(t,n,r){G(this,e),this.h=t,this.l=n,this.m=r}return $(e,[{key:"getToken",value:function(){return Promise.resolve(new Sd(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ud.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Cd=$((function e(t){G(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ad=function(){function e(t){G(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return $(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&hd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){hd("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):hd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(gd("string"==typeof e.token),new Cd(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Pd=function(){function e(t,n){var r=this;G(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return $(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Nd(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Pd.I=-1;var Rd=function(){function e(){G(this,e)}return $(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Nd(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Od(e,t){return e<t?-1:e>t?1:0}function Dd(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ld(e){return e+"\0"}var Md=function(){function e(t,n){if(G(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new wd(kd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new wd(kd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new wd(kd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wd(kd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return $(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Od(this.nanoseconds,e.nanoseconds):Od(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Fd=function(){function e(t){G(this,e),this.timestamp=t}return $(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Md(0,0))}}]),e}();function jd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ud(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Vd(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Bd=function(){function e(t,n,r){G(this,e),void 0===n?n=0:n>t.length&&md(),void 0===r?r=t.length-n:r>t.length-n&&md(),this.segments=t,this.offset=n,this.len=r}return $(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),zd=function(e){J(n,e);var t=re(n);function n(){return G(this,n),t.apply(this,arguments)}return $(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new wd(kd.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Le(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Bd),qd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hd=function(e){J(n,e);var t=re(n);function n(){return G(this,n),t.apply(this,arguments)}return $(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return qd.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new wd(kd.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new wd(kd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new wd(kd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new wd(kd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Bd),Wd=function(){function e(t){G(this,e),this.fields=t,t.sort(Hd.comparator)}return $(e,[{key:"covers",value:function(e){var t,n=Q(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Dd(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Gd=function(){function e(t){G(this,e),this.binaryString=t}return $(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Od(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();Gd.EMPTY_BYTE_STRING=new Gd("");var Kd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $d(e){if(gd(!!e),"string"==typeof e){var t=0,n=Kd.exec(e);if(gd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Qd(e.seconds),nanos:Qd(e.nanos)}}function Qd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Yd(e){return"string"==typeof e?Gd.fromBase64String(e):Gd.fromUint8Array(e)}function Xd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Jd(e){var t=e.mapValue.fields.__previous_value__;return Xd(t)?Jd(t):t}function Zd(e){var t=$d(e.mapValue.fields.__local_write_time__.timestampValue);return new Md(t.seconds,t.nanos)}function ep(e){return null==e}function tp(e){return 0===e&&1/e==-1/0}function np(e){return"number"==typeof e&&Number.isInteger(e)&&!tp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var rp=function(){function e(t){G(this,e),this.path=t}return $(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===zd.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(zd.fromString(t))}},{key:"fromName",value:function(t){return new e(zd.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return zd.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new zd(t.slice()))}}]),e}();function ip(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xd(e)?4:10:md()}function ap(e,t){var n=ip(e);if(n!==ip(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zd(e).isEqual(Zd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=$d(e.timestampValue),r=$d(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Yd(e.bytesValue).isEqual(Yd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Qd(e.geoPointValue.latitude)===Qd(t.geoPointValue.latitude)&&Qd(e.geoPointValue.longitude)===Qd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Qd(e.integerValue)===Qd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Qd(e.doubleValue),r=Qd(t.doubleValue);return n===r?tp(n)===tp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Dd(e.arrayValue.values||[],t.arrayValue.values||[],ap);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(jd(n)!==jd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ap(n[i],r[i])))return!1;return!0}(e,t);default:return md()}}function op(e,t){return void 0!==(e.values||[]).find((function(e){return ap(e,t)}))}function sp(e,t){var n=ip(e),r=ip(t);if(n!==r)return Od(n,r);switch(n){case 0:return 0;case 1:return Od(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Qd(e.integerValue||e.doubleValue),r=Qd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return up(e.timestampValue,t.timestampValue);case 4:return up(Zd(e),Zd(t));case 5:return Od(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Yd(e),r=Yd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Od(n[i],r[i]);if(0!==a)return a}return Od(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Od(Qd(e.latitude),Qd(t.latitude));return 0!==n?n:Od(Qd(e.longitude),Qd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=sp(n[i],r[i]);if(a)return a}return Od(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Od(r[o],a[o]);if(0!==s)return s;var u=sp(n[r[o]],i[a[o]]);if(0!==u)return u}return Od(r.length,a.length)}(e.mapValue,t.mapValue);default:throw md()}}function up(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Od(e,t);var n=$d(e),r=$d(t),i=Od(n.seconds,r.seconds);return 0!==i?i:Od(n.nanos,r.nanos)}function cp(e){return lp(e)}function lp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=$d(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Yd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,rp.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Q(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=lp(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Q(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(lp(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):md();var t,n}function fp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function hp(e){return!!e&&"integerValue"in e}function dp(e){return!!e&&"arrayValue"in e}function pp(e){return!!e&&"nullValue"in e}function vp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function mp(e){return!!e&&"mapValue"in e}function gp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ud(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=gp(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=gp(e.arrayValue.values[r]);return n}return Object.assign({},e)}var yp=function(){function e(t){G(this,e),this.value=t}return $(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!mp(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gp(t)}},{key:"setAll",value:function(e){var t=this,n=Hd.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=gp(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());mp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ap(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];mp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ud(t,(function(t,n){return e[t]=n}));var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(gp(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function kp(e){var t=[];return Ud(e.fields,(function(e,n){var r=new Hd([e]);if(mp(n)){var i=kp(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Q(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Wd(t)}var wp=function(){function e(t,n,r,i,a){G(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return $(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=yp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=yp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Fd.min(),yp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,yp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,yp.empty(),2)}}]),e}(),bp=$((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;G(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function _p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new bp(e,t,n,r,i,a,o)}function xp(e){var t=yd(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+cp(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ep(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Mp(t.startAt)),t.endAt&&(n+="|ub:",n+=Mp(t.endAt)),t.R=n}return t.R}function Ep(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!jp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!ap(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vp(e.startAt,t.startAt)&&Vp(e.endAt,t.endAt)}function Tp(e){return rp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Sp=function(e){J(n,e);var t=re(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return $(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(sp(t,this.value)):null!==t&&ip(this.value)===ip(t)&&this.v(sp(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return md()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Ip(e,t,r):"array-contains"===t?new Np(e,r):"in"===t?new Rp(e,r):"not-in"===t?new Op(e,r):"array-contains-any"===t?new Dp(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Cp(e,n):new Ap(e,n)}}]),n}(function(){return $((function e(){G(this,e)}))}());var Ip=function(e){J(n,e);var t=re(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this,e,r,i)).key=rp.fromName(i.referenceValue),a}return $(n,[{key:"matches",value:function(e){var t=rp.comparator(e.key,this.key);return this.v(t)}}]),n}(Sp),Cp=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e,"in",r)).keys=Pp("in",r),i}return $(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Sp),Ap=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e,"not-in",r)).keys=Pp("not-in",r),i}return $(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Sp);function Pp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return rp.fromName(e.referenceValue)}))}var Np=function(e){J(n,e);var t=re(n);function n(e,r){return G(this,n),t.call(this,e,"array-contains",r)}return $(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return dp(t)&&op(t.arrayValue,this.value)}}]),n}(Sp),Rp=function(e){J(n,e);var t=re(n);function n(e,r){return G(this,n),t.call(this,e,"in",r)}return $(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&op(this.value.arrayValue,t)}}]),n}(Sp),Op=function(e){J(n,e);var t=re(n);function n(e,r){return G(this,n),t.call(this,e,"not-in",r)}return $(n,[{key:"matches",value:function(e){if(op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!op(this.value.arrayValue,t)}}]),n}(Sp),Dp=function(e){J(n,e);var t=re(n);function n(e,r){return G(this,n),t.call(this,e,"array-contains-any",r)}return $(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return op(t.value.arrayValue,e)}))}}]),n}(Sp),Lp=$((function e(t,n){G(this,e),this.position=t,this.before=n}));function Mp(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return cp(e)})).join(","))}var Fp=$((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";G(this,e),this.field=t,this.dir=n}));function jp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Up(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?rp.comparator(rp.fromName(o.referenceValue),n.key):sp(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Vp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ap(e.position[n],t.position[n]))return!1;return!0}var Bp=$((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;G(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function zp(e,t,n,r,i,a,o,s){return new Bp(e,t,n,r,i,a,o,s)}function qp(e){return new Bp(e)}function Hp(e){return!ep(e.limit)&&"F"===e.limitType}function Wp(e){return!ep(e.limit)&&"L"===e.limitType}function Gp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Kp(e){var t,n=Q(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function $p(e){return null!==e.collectionGroup}function Qp(e){var t=yd(e);if(null===t.S){t.S=[];var n=Kp(t),r=Gp(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Fp(n)),t.S.push(new Fp(Hd.keyField(),"asc"));else{var i,a=!1,o=Q(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Fp(Hd.keyField(),u))}}}return t.S}function Yp(e){var t=yd(e);if(!t.D)if("F"===t.limitType)t.D=_p(t.path,t.collectionGroup,Qp(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Q(Qp(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Fp(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Lp(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Lp(t.startAt.position,!t.startAt.before):null;t.D=_p(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function Xp(e,t,n){return new Bp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jp(e,t){return Ep(Yp(e),Yp(t))&&e.limitType===t.limitType}function Zp(e){return"".concat(xp(Yp(e)),"|lt:").concat(e.limitType)}function ev(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(cp(t.value));var t})).join(", "),"]")),ep(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Mp(e.startAt)),e.endAt&&(t+=", endAt: "+Mp(e.endAt)),"Target(".concat(t,")")}(Yp(e)),"; limitType=").concat(e.limitType,")")}function tv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):rp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Q(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Q(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Up(e.startAt,Qp(e),t))&&(!e.endAt||!Up(e.endAt,Qp(e),t))}(e,t)}function nv(e){return function(t,n){var r,i=!1,a=Q(Qp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=rv(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function rv(e,t,n){var r=e.field.isKeyField()?rp.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?sp(r,i):md()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return md()}}function iv(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tp(t)?"-0":t}}function av(e){return{integerValue:""+e}}function ov(e,t){return np(t)?av(t):iv(e,t)}var sv=$((function e(){G(this,e),this._=void 0}));function uv(e,t,n){return e instanceof fv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof hv?dv(e,t):e instanceof pv?vv(e,t):function(e,t){var n=lv(e,t),r=gv(n)+gv(e.N);return hp(n)&&hp(e.N)?av(r):iv(e.k,r)}(e,t)}function cv(e,t,n){return e instanceof hv?dv(e,t):e instanceof pv?vv(e,t):n}function lv(e,t){return e instanceof mv?hp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var fv=function(e){J(n,e);var t=re(n);function n(){return G(this,n),t.apply(this,arguments)}return $(n)}(sv),hv=function(e){J(n,e);var t=re(n);function n(e){var r;return G(this,n),(r=t.call(this)).elements=e,r}return $(n)}(sv);function dv(e,t){var n,r=yv(t),i=Q(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ap(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var pv=function(e){J(n,e);var t=re(n);function n(e){var r;return G(this,n),(r=t.call(this)).elements=e,r}return $(n)}(sv);function vv(e,t){var n,r=yv(t),i=Q(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ap(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var mv=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this)).k=e,i.N=r,i}return $(n)}(sv);function gv(e){return Qd(e.integerValue||e.doubleValue)}function yv(e){return dp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var kv=$((function e(t,n){G(this,e),this.field=t,this.transform=n}));var wv=$((function e(t,n){G(this,e),this.version=t,this.transformResults=n})),bv=function(){function e(t,n){G(this,e),this.updateTime=t,this.exists=n}return $(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function _v(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var xv=$((function e(){G(this,e)}));function Ev(e,t,n){e instanceof Av?function(e,t,n){var r=e.value.clone(),i=Rv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Pv?function(e,t,n){if(_v(e.precondition,t)){var r=Rv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Nv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Tv(e,t,n){e instanceof Av?function(e,t,n){if(_v(e.precondition,t)){var r=e.value.clone(),i=Ov(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Cv(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Pv?function(e,t,n){if(_v(e.precondition,t)){var r=Ov(e.fieldTransforms,n,t),i=t.data;i.setAll(Nv(e)),i.setAll(r),t.convertToFoundDocument(Cv(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){_v(e.precondition,t)&&t.convertToNoDocument(Fd.min())}(e,t)}function Sv(e,t){var n,r=null,i=Q(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=lv(a.transform,o||null);null!=s&&(null==r&&(r=yp.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Iv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Dd(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof hv&&t instanceof hv||e instanceof pv&&t instanceof pv?Dd(e.elements,t.elements,ap):e instanceof mv&&t instanceof mv?ap(e.N,t.N):e instanceof fv&&t instanceof fv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Cv(e){return e.isFoundDocument()?e.version:Fd.min()}var Av=function(e){J(n,e);var t=re(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return G(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return $(n)}(xv),Pv=function(e){J(n,e);var t=re(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return G(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return $(n)}(xv);function Nv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Rv(e,t,n){var r=new Map;gd(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,cv(o,s,n[i]))}return r}function Ov(e,t,n){var r,i=new Map,a=Q(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,uv(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Dv,Lv,Mv=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return $(n)}(xv),Fv=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return $(n)}(xv),jv=$((function e(t){G(this,e),this.count=t}));function Uv(e){switch(e){default:return md();case kd.CANCELLED:case kd.UNKNOWN:case kd.DEADLINE_EXCEEDED:case kd.RESOURCE_EXHAUSTED:case kd.INTERNAL:case kd.UNAVAILABLE:case kd.UNAUTHENTICATED:return!1;case kd.INVALID_ARGUMENT:case kd.NOT_FOUND:case kd.ALREADY_EXISTS:case kd.PERMISSION_DENIED:case kd.FAILED_PRECONDITION:case kd.ABORTED:case kd.OUT_OF_RANGE:case kd.UNIMPLEMENTED:case kd.DATA_LOSS:return!0}}function Vv(e){if(void 0===e)return dd("GRPC error has no .code"),kd.UNKNOWN;switch(e){case Dv.OK:return kd.OK;case Dv.CANCELLED:return kd.CANCELLED;case Dv.UNKNOWN:return kd.UNKNOWN;case Dv.DEADLINE_EXCEEDED:return kd.DEADLINE_EXCEEDED;case Dv.RESOURCE_EXHAUSTED:return kd.RESOURCE_EXHAUSTED;case Dv.INTERNAL:return kd.INTERNAL;case Dv.UNAVAILABLE:return kd.UNAVAILABLE;case Dv.UNAUTHENTICATED:return kd.UNAUTHENTICATED;case Dv.INVALID_ARGUMENT:return kd.INVALID_ARGUMENT;case Dv.NOT_FOUND:return kd.NOT_FOUND;case Dv.ALREADY_EXISTS:return kd.ALREADY_EXISTS;case Dv.PERMISSION_DENIED:return kd.PERMISSION_DENIED;case Dv.FAILED_PRECONDITION:return kd.FAILED_PRECONDITION;case Dv.ABORTED:return kd.ABORTED;case Dv.OUT_OF_RANGE:return kd.OUT_OF_RANGE;case Dv.UNIMPLEMENTED:return kd.UNIMPLEMENTED;case Dv.DATA_LOSS:return kd.DATA_LOSS;default:return md()}}(Lv=Dv||(Dv={}))[Lv.OK=0]="OK",Lv[Lv.CANCELLED=1]="CANCELLED",Lv[Lv.UNKNOWN=2]="UNKNOWN",Lv[Lv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lv[Lv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lv[Lv.NOT_FOUND=5]="NOT_FOUND",Lv[Lv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lv[Lv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lv[Lv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lv[Lv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lv[Lv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lv[Lv.ABORTED=10]="ABORTED",Lv[Lv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lv[Lv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lv[Lv.INTERNAL=13]="INTERNAL",Lv[Lv.UNAVAILABLE=14]="UNAVAILABLE",Lv[Lv.DATA_LOSS=15]="DATA_LOSS";var Bv=function(){function e(t,n){G(this,e),this.comparator=t,this.root=n||qv.EMPTY}return $(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new zv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new zv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new zv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new zv(this.root,e,this.comparator,!0)}}]),e}(),zv=function(){function e(t,n,r,i){G(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return $(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),qv=function(){function e(t,n,r,i,a){G(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return $(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw md();if(this.right.isRed())throw md();var e=this.left.check();if(e!==this.right.check())throw md();return e+(this.isRed()?0:1)}}]),e}();qv.EMPTY=null,qv.RED=!0,qv.BLACK=!1,qv.EMPTY=new(function(){function e(){G(this,e),this.size=0}return $(e,[{key:"key",get:function(){throw md()}},{key:"value",get:function(){throw md()}},{key:"color",get:function(){throw md()}},{key:"left",get:function(){throw md()}},{key:"right",get:function(){throw md()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new qv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Hv=function(){function e(t){G(this,e),this.comparator=t,this.data=new Bv(this.comparator)}return $(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Wv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Wv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Wv=function(){function e(t){G(this,e),this.iter=t}return $(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Gv=new Bv(rp.comparator);function Kv(){return Gv}var $v=new Bv(rp.comparator);function Qv(){return $v}var Yv=new Bv(rp.comparator);function Xv(){return Yv}var Jv=new Hv(rp.comparator);function Zv(){for(var e=Jv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var em=new Hv(Od);function tm(){return em}var nm=function(){function e(t,n,r,i,a){G(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return $(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,rm.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Fd.min(),r,tm(),Kv(),Zv())}}]),e}(),rm=function(){function e(t,n,r,i,a){G(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return $(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Gd.EMPTY_BYTE_STRING,n,Zv(),Zv(),Zv())}}]),e}(),im=$((function e(t,n,r,i){G(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),am=$((function e(t,n){G(this,e),this.targetId=t,this.O=n})),om=$((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;G(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),sm=function(){function e(){G(this,e),this.M=0,this.L=lm(),this.B=Gd.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return $(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Zv(),t=Zv(),n=Zv();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:md()}})),new rm(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=lm()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),um=function(){function e(t){G(this,e),this.et=t,this.nt=new Map,this.st=Kv(),this.it=cm(),this.rt=new Hv(Od)}return $(e,[{key:"ot",value:function(e){var t,n=Q(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=Q(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:md()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(Tp(i))if(0===n){var a=new rp(i.path);this.ct(t,a,wp.newNoDocument(a,Fd.min()))}else gd(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Tp(a.target)){var o=new rp(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,wp.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Zv();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new nm(e,n,this.rt,this.st,r);return this.st=Kv(),this.it=cm(),this.rt=new Hv(Od),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new sm,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Hv(Od),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||hd("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new sm),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function cm(){return new Bv(rp.comparator)}function lm(){return new Bv(rp.comparator)}var fm={asc:"ASCENDING",desc:"DESCENDING"},hm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dm=$((function e(t,n){G(this,e),this.databaseId=t,this.C=n}));function pm(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function vm(e,t){return e.C?t.toBase64():t.toUint8Array()}function mm(e,t){return pm(e,t.toTimestamp())}function gm(e){return gd(!!e),Fd.fromTimestamp(function(e){var t=$d(e);return new Md(t.seconds,t.nanos)}(e))}function ym(e,t){return function(e){return new zd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function km(e){var t=zd.fromString(e);return gd(Hm(t)),t}function wm(e,t){return ym(e.databaseId,t.path)}function bm(e,t){var n=km(t);if(n.get(1)!==e.databaseId.projectId)throw new wd(kd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new wd(kd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rp(Tm(n))}function _m(e,t){return ym(e.databaseId,t)}function xm(e){var t=km(e);return 4===t.length?zd.emptyPath():Tm(t)}function Em(e){return new zd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Tm(e){return gd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Sm(e,t,n){return{name:wm(e,t),fields:n.value.mapValue.fields}}function Im(e,t,n){var r=bm(e,t.name),i=gm(t.updateTime),a=new yp({mapValue:{fields:t.fields}}),o=wp.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Cm(e,t){return"found"in t?function(e,t){gd(!!t.found),t.found.name,t.found.updateTime;var n=bm(e,t.found.name),r=gm(t.found.updateTime),i=new yp({mapValue:{fields:t.found.fields}});return wp.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){gd(!!t.missing),gd(!!t.readTime);var n=bm(e,t.missing),r=gm(t.readTime);return wp.newNoDocument(n,r)}(e,t):md()}function Am(e,t){var n;if(t instanceof Av)n={update:Sm(e,t.key,t.value)};else if(t instanceof Mv)n={delete:wm(e,t.key)};else if(t instanceof Pv)n={update:Sm(e,t.key,t.data),updateMask:qm(t.fieldMask)};else{if(!(t instanceof Fv))return md();n={verify:wm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof fv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof pv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof mv)return{fieldPath:t.field.canonicalString(),increment:n.N};throw md()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:mm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:md()}(e,t.precondition)),n}function Pm(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?bv.updateTime(gm(e.updateTime)):void 0!==e.exists?bv.exists(e.exists):bv.none()}(t.currentDocument):bv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)gd("REQUEST_TIME"===t.setToServerValue),n=new fv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new hv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new pv(i)}else"increment"in t?n=new mv(e,t.increment):md();var a=Hd.fromServerFormat(t.fieldPath);return new kv(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=bm(e,t.update.name),a=new yp({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Wd(t.map((function(e){return Hd.fromServerFormat(e)})))}(t.updateMask);return new Pv(i,a,o,n,r)}return new Av(i,a,n,r)}if(t.delete){var s=bm(e,t.delete);return new Mv(s,n)}if(t.verify){var u=bm(e,t.verify);return new Fv(u,n)}return md()}function Nm(e,t){return{documents:[_m(e,t.path)]}}function Rm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=_m(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=_m(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(vp(e.value))return{unaryFilter:{field:Um(e.field),op:"IS_NAN"}};if(pp(e.value))return{unaryFilter:{field:Um(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vp(e.value))return{unaryFilter:{field:Um(e.field),op:"IS_NOT_NAN"}};if(pp(e.value))return{unaryFilter:{field:Um(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Um(e.field),op:jm(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Um(e.field),direction:Fm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||ep(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Lm(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Lm(t.endAt)),n}function Om(e){var t=xm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){gd(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Dm(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Fp(Vm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return ep(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Mm(n.startAt));var l=null;return n.endAt&&(l=Mm(n.endAt)),zp(t,i,s,o,u,"F",c,l)}function Dm(e){return e?void 0!==e.unaryFilter?[zm(e)]:void 0!==e.fieldFilter?[Bm(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Dm(e)})).reduce((function(e,t){return e.concat(t)})):md():[]}function Lm(e){return{before:e.before,values:e.position}}function Mm(e){var t=!!e.before,n=e.values||[];return new Lp(n,t)}function Fm(e){return fm[e]}function jm(e){return hm[e]}function Um(e){return{fieldPath:e.canonicalString()}}function Vm(e){return Hd.fromServerFormat(e.fieldPath)}function Bm(e){return Sp.create(Vm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return md()}}(e.fieldFilter.op),e.fieldFilter.value)}function zm(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Vm(e.unaryFilter.field);return Sp.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Vm(e.unaryFilter.field);return Sp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Vm(e.unaryFilter.field);return Sp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Vm(e.unaryFilter.field);return Sp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return md()}}function qm(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Hm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Wm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Km(t)),t=Gm(e.get(n),t);return Km(t)}function Gm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Km(e){return e+"\x01\x01"}function $m(e){var t=e.length;if(gd(t>=2),2===t)return gd("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),zd.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&md(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:md()}a=o+2}return new zd(r)}var Qm=$((function e(t,n){G(this,e),this.seconds=t,this.nanoseconds=n})),Ym=$((function e(t,n,r){G(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Ym.store="owner",Ym.key="owner";var Xm=$((function e(t,n,r){G(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Xm.store="mutationQueues",Xm.keyPath="userId";var Jm=$((function e(t,n,r,i,a){G(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Jm.store="mutations",Jm.keyPath="batchId",Jm.userMutationsIndex="userMutationsIndex",Jm.userMutationsKeyPath=["userId","batchId"];var Zm=function(){function e(){G(this,e)}return $(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Wm(t)]}},{key:"key",value:function(e,t,n){return[e,Wm(t),n]}}]),e}();Zm.store="documentMutations",Zm.PLACEHOLDER=new Zm;var eg=$((function e(t,n){G(this,e),this.path=t,this.readTime=n})),tg=$((function e(t,n){G(this,e),this.path=t,this.version=n})),ng=$((function e(t,n,r,i,a,o){G(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));ng.store="remoteDocuments",ng.readTimeIndex="readTimeIndex",ng.readTimeIndexPath="readTime",ng.collectionReadTimeIndex="collectionReadTimeIndex",ng.collectionReadTimeIndexPath=["parentPath","readTime"];var rg=$((function e(t){G(this,e),this.byteSize=t}));rg.store="remoteDocumentGlobal",rg.key="remoteDocumentGlobalKey";var ig=$((function e(t,n,r,i,a,o,s){G(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));ig.store="targets",ig.keyPath="targetId",ig.queryTargetsIndexName="queryTargetsIndex",ig.queryTargetsKeyPath=["canonicalId","targetId"];var ag=$((function e(t,n,r){G(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));ag.store="targetDocuments",ag.keyPath=["targetId","path"],ag.documentTargetsIndex="documentTargetsIndex",ag.documentTargetsKeyPath=["path","targetId"];var og=$((function e(t,n,r,i){G(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));og.key="targetGlobalKey",og.store="targetGlobal";var sg=$((function e(t,n){G(this,e),this.collectionId=t,this.parent=n}));sg.store="collectionParents",sg.keyPath=["collectionId","parent"];var ug=$((function e(t,n,r,i){G(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));ug.store="clientMetadata",ug.keyPath="clientId";var cg=$((function e(t,n,r){G(this,e),this.bundleId=t,this.createTime=n,this.version=r}));cg.store="bundles",cg.keyPath="bundleId";var lg=$((function e(t,n,r){G(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));lg.store="namedQueries",lg.keyPath="name";var fg=[Xm.store,Jm.store,Zm.store,ng.store,ig.store,Ym.store,og.store,ag.store].concat([ug.store]).concat([rg.store]).concat([sg.store]).concat([cg.store,lg.store]),hg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",dg=function(){function e(){G(this,e),this.onCommittedListeners=[]}return $(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),pg=function(){function e(t){var n=this;G(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return $(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&md(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Q(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),vg=function(){function e(t,n){var r=this;G(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new bd,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new yg(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=xg(e.target.error);r.It.reject(new yg(t,n))}}return $(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(hd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new wg(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new yg(n,t)}}}]),e}(),mg=function(){function e(t,n,r){G(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt(de())&&dd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return $(e,[{key:"Ct",value:function(){var e=Fe(Ue().mark((function e(t){var n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return hd("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new yg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new wd(kd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new wd(kd.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new yg(t,n))},i.onupgradeneeded=function(e){hd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){hd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Fe(Ue().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ue().mark((function e(){var n,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=vg.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),pg.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,hd("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return hd("SimpleDb","Removing database:",e),bg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!ke())return!1;if(e.vt())return!0;var t=de(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCQHR4wuzDSp2xFpNB9wb7R2ZrsKAH8uZI",REACT_APP_AUTH_DOMAIN:"netflix-clone-b920b.firebaseapp.com",REACT_APP_DATABASE_URL:"https://netflix-clone-b920b.firebaseio.com",REACT_APP_PROJECT_ID:"netflix-clone-b920b",REACT_APP_STORAGE_BUCKET:"netflix-clone-b920b.appspot.com",REACT_APP_MESSAGIN_ID:"39262417152",REACT_APP_APP_ID:"1:39262417152:web:e59e0e00ad324ea5dbc3e5"})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),gg=function(){function e(t){G(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return $(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return bg(this.$t.delete())}}]),e}(),yg=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this,kd.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return $(n)}(wd);function kg(e){return"IndexedDbTransactionError"===e.name}var wg=function(){function e(t){G(this,e),this.store=t}return $(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(hd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(hd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),bg(n)}},{key:"add",value:function(e){return hd("SimpleDb","ADD",this.store.name,e,e),bg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return bg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),hd("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return hd("SimpleDb","DELETE",this.store.name,e),bg(this.store.delete(e))}},{key:"count",value:function(){return hd("SimpleDb","COUNT",this.store.name),bg(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){hd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new pg((function(n,r){t.onerror=function(e){var t=xg(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new pg((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new gg(i),o=t(i.primaryKey,i.value,a);if(o instanceof pg){var s=o.catch((function(e){return a.done(),pg.reject(e)}));n.push(s)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return pg.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function bg(e){return new pg((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=xg(e.target.error);n(t)}}))}var _g=!1;function xg(e){var t=mg.Pt(de());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new wd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return _g||(_g=!0,setTimeout((function(){throw r}),0)),r}}return e}var Eg=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return $(n)}(dg);function Tg(e,t){var n=yd(e);return mg.Dt(n.Wt,t)}var Sg=function(){function e(t,n,r,i){G(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return $(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ev(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Q(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Tv(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Q(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Tv(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Fd.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Zv())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Dd(this.mutations,e.mutations,(function(e,t){return Iv(e,t)}))&&Dd(this.baseMutations,e.baseMutations,(function(e,t){return Iv(e,t)}))}}]),e}(),Ig=function(){function e(t,n,r,i){G(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return $(e,null,[{key:"from",value:function(t,n,r){gd(t.mutations.length===r.length);for(var i=Xv(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Cg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fd.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Fd.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Gd.EMPTY_BYTE_STRING;G(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return $(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Ag=$((function e(t){G(this,e),this.Gt=t}));function Pg(e,t){if(t.document)return Im(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=rp.fromSegments(t.noDocument.path),r=Lg(t.noDocument.readTime),i=wp.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=rp.fromSegments(t.unknownDocument.path),o=Lg(t.unknownDocument.version);return wp.newUnknownDocument(a,o)}return md()}function Ng(e,t,n){var r=Rg(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:wm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:pm(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new ng(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Dg(t.version),c=t.hasCommittedMutations;return new ng(null,new eg(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Dg(t.version);return new ng(new tg(l,f),null,null,!0,r,i)}return md()}function Rg(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Og(e){var t=new Md(e[0],e[1]);return Fd.fromTimestamp(t)}function Dg(e){var t=e.toTimestamp();return new Qm(t.seconds,t.nanoseconds)}function Lg(e){var t=new Md(e.seconds,e.nanoseconds);return Fd.fromTimestamp(t)}function Mg(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Pm(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Pm(e.Gt,t)})),s=Md.fromMillis(t.localWriteTimeMs);return new Sg(t.batchId,s,n,o)}function Fg(e){var t,n,r=Lg(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Lg(e.lastLimboFreeSnapshotVersion):Fd.min();return void 0!==e.query.documents?(gd(1===(n=e.query).documents.length),t=Yp(qp(xm(n.documents[0])))):t=function(e){return Yp(Om(e))}(e.query),new Cg(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Gd.fromBase64String(e.resumeToken))}function jg(e,t){var n,r=Dg(t.snapshotVersion),i=Dg(t.lastLimboFreeSnapshotVersion);n=Tp(t.target)?Nm(e.Gt,t.target):Rm(e.Gt,t.target);var a=t.resumeToken.toBase64();return new ig(t.targetId,xp(t.target),r,a,t.sequenceNumber,i,n)}function Ug(e){var t=Om({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Xp(t,t.limit,"L"):t}var Vg=function(){function e(){G(this,e)}return $(e,[{key:"getBundleMetadata",value:function(e,t){return Bg(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Lg(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Bg(e).put({bundleId:(n=t).id,createTime:Dg(gm(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return zg(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ug(t.bundledQuery),readTime:Lg(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return zg(e).put(function(e){return{name:e.name,readTime:Dg(gm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Bg(e){return Tg(e,cg.store)}function zg(e){return Tg(e,lg.store)}var qg=function(){function e(){G(this,e),this.zt=new Hg}return $(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),pg.resolve()}},{key:"getCollectionParents",value:function(e,t){return pg.resolve(this.zt.getEntries(t))}}]),e}(),Hg=function(){function e(){G(this,e),this.index={}}return $(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Hv(zd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Hv(zd.comparator)).toArray()}}]),e}(),Wg=function(){function e(){G(this,e),this.Ht=new Hg}return $(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Wm(i)};return Gg(e).put(a)}return pg.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ld(t),""],!1,!0);return Gg(e).Bt(r).next((function(e){var r,i=Q(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push($m(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function Gg(e){return Tg(e,sg.store)}var Kg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$g=function(){function e(t,n,r){G(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return $(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Qg(e,t,n){var r=e.store(Jm.store),i=e.store(Zm.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){gd(1===s)})));var c,l=[],f=Q(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Zm.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return pg.waitFor(a).next((function(){return l}))}function Yg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw md();t=e.noDocument}return JSON.stringify(t).length}$g.DEFAULT_COLLECTION_PERCENTILE=10,$g.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$g.DEFAULT=new $g(41943040,$g.DEFAULT_COLLECTION_PERCENTILE,$g.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$g.DISABLED=new $g(-1,0,0);var Xg=function(){function e(t,n,r,i){G(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return $(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zg(e).jt({index:Jm.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ey(e),o=Zg(e);return o.add({}).next((function(s){gd("number"==typeof s);var u,c=new Sg(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Am(e.Gt,t)})),i=n.mutations.map((function(t){return Am(e.Gt,t)}));return new Jm(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Hv((function(e,t){return Od(e.canonicalString(),t.canonicalString())})),d=Q(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Zm.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Zm.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),pg.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Zg(e).get(t).next((function(e){return e?(gd(e.userId===n.userId),Mg(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?pg.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Zg(e).jt({index:Jm.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(gd(t.batchId>=r),a=Mg(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Zg(e).jt({index:Jm.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zg(e).Bt(Jm.userMutationsIndex,n).next((function(e){return e.map((function(e){return Mg(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Zm.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ey(e).jt({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],f=s[2],h=$m(l);if(u===n.userId&&t.path.isEqual(h))return Zg(e).get(f).next((function(e){if(!e)throw md();gd(e.userId===n.userId),a.push(Mg(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Hv(Od),i=[];return t.forEach((function(t){var a=Zm.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=ey(e).jt({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],f=$m(u);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),pg.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Zm.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Hv(Od);return ey(e).jt({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],f=o[2],h=$m(l);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Zg(e).get(t).next((function(e){if(null===e)throw md();gd(e.userId===n.userId),r.push(Mg(n.k,e))})))})),pg.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Qg(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),pg.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return pg.resolve();var r=IDBKeyRange.lowerBound(Zm.prefixForUser(t.userId)),i=[];return ey(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=$m(e[1]);i.push(a)}else r.done()})).next((function(){gd(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Jg(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return ty(e).get(this.userId).next((function(e){return e||new Xm(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return gd(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Jg(e,t,n){var r=Zm.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return ey(e).jt({range:a,Kt:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Zg(e){return Tg(e,Jm.store)}function ey(e){return Tg(e,Zm.store)}function ty(e){return Tg(e,Xm.store)}var ny=function(){function e(t){G(this,e),this.se=t}return $(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),ry=function(){function e(t,n){G(this,e),this.referenceDelegate=t,this.k=n}return $(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new ny(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return Fd.fromTimestamp(new Md(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return iy(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return gd(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return iy(e).jt((function(o,s){var u=Fg(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return pg.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return iy(e).jt((function(e,n){var r=Fg(n);t(r)}))}},{key:"oe",value:function(e){return ay(e).get(og.key).next((function(e){return gd(null!==e),e}))}},{key:"ae",value:function(e,t){return ay(e).put(og.key,t)}},{key:"ce",value:function(e,t){return iy(e).put(jg(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=xp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return iy(e).jt({range:r,index:ig.queryTargetsIndexName},(function(e,n,r){var a=Fg(n);Ep(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=oy(e);return t.forEach((function(t){var o=Wm(t.path);i.push(a.put(new ag(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),pg.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=oy(e);return pg.forEach(t,(function(t){var a=Wm(t.path);return pg.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=oy(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=oy(e),i=Zv();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=$m(e[1]),a=new rp(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Wm(t.path),r=IDBKeyRange.bound([n],[Ld(n)],!1,!0),i=0;return oy(e).jt({index:ag.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return iy(e).get(t).next((function(e){return e?Fg(e):null}))}}]),e}();function iy(e){return Tg(e,ig.store)}function ay(e){return Tg(e,og.store)}function oy(e){return Tg(e,ag.store)}function sy(e){return uy.apply(this,arguments)}function uy(){return uy=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===kd.FAILED_PRECONDITION&&t.message===hg){e.next=2;break}throw t;case 2:hd("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),uy.apply(this,arguments)}function cy(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=Od(r,o);return 0===u?Od(i,s):u}var ly=function(){function e(t){G(this,e),this.he=t,this.buffer=new Hv(cy),this.le=0}return $(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();cy(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),fy=function(){function e(t,n){G(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return $(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;hd("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Fe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!kg(n.t0)){n.next=12;break}hd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,sy(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),hy=function(){function e(t,n){G(this,e),this.ge=t,this.params=n}return $(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return pg.resolve(Pd.I);var r=new ly(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(hd("LruGarbageCollector","Garbage collection skipped; disabled"),pg.resolve(Kg)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(hd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Kg):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(hd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),fd()<=He.DEBUG&&hd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),pg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),dy=function(){function e(t,n){G(this,e),this.db=t,this.garbageCollector=function(e,t){return new hy(e,t)}(this,n)}return $(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return py(e,n)}},{key:"removeReference",value:function(e,t,n){return py(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return py(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return ty(e).Qt((function(r){return Jg(e,r,t).next((function(e){return e&&(n=!0),pg.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),oy(e).delete([0,Wm(o.path)])}))}));i.push(u)}})).next((function(){return pg.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return py(e,t)}},{key:"Ie",value:function(e,t){var n,r=oy(e),i=Pd.I;return r.jt({index:ag.documentTargetsIndex},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Pd.I&&t(new rp($m(n)),i),i=u,n=s):i=Pd.I})).next((function(){i!==Pd.I&&t(new rp($m(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function py(e,t){return oy(e).put(function(e,t){return new ag(0,Wm(e.path),t)}(t,e.currentSequenceNumber))}var vy=function(){function e(t,n){G(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return $(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Ud(this.inner,(function(t,n){var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Vd(this.inner)}}]),e}(),my=function(){function e(){G(this,e),this.changes=new vy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return $(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Fd.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:wp.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?pg.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),gy=function(){function e(t,n){G(this,e),this.k=t,this.Jt=n}return $(e,[{key:"addEntry",value:function(e,t,n){return wy(e).put(by(t),n)}},{key:"removeEntry",value:function(e,t){var n=wy(e),r=by(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return wy(e).get(by(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return wy(e).get(by(t)).next((function(e){return{document:n.Pe(t,e),size:Yg(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Kv();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=Kv(),i=new Bv(rp.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,Yg(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return pg.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return wy(e).jt({range:r},(function(e,t,r){for(var o=rp.fromSegments(e);a&&rp.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=Kv(),a=t.path.length+1,o={};if(n.isEqual(Fd.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Rg(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=ng.collectionReadTimeIndex}return wy(e).jt(o,(function(e,n,o){if(e.length===a){var s=Pg(r.k,n);t.path.isPrefixOf(s.key.path)?tv(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new yy(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return ky(e).get(rg.key).next((function(e){return gd(!!e),e}))}},{key:"Re",value:function(e,t){return ky(e).put(rg.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=Pg(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(Fd.min()))return n}return wp.newInvalidDocument(e)}}]),e}(),yy=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new vy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return $(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Hv((function(e,t){return Od(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=Ng(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=Yg(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=Ng(t.De.k,wp.newNoDocument(a,Fd.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),pg.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(my);function ky(e){return Tg(e,rg.store)}function wy(e){return Tg(e,ng.store)}function by(e){return e.path.toArray()}var _y=function(){function e(t){G(this,e),this.k=t}return $(e,[{key:"Nt",value:function(e,t,n,r){var i=this;gd(n<r&&n>=0&&r<=11);var a=new vg("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ym.store)}(e),function(e){e.createObjectStore(Xm.store,{keyPath:Xm.keyPath}),e.createObjectStore(Jm.store,{keyPath:Jm.keyPath,autoIncrement:!0}).createIndex(Jm.userMutationsIndex,Jm.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Zm.store)}(e),xy(e),function(e){e.createObjectStore(ng.store)}(e));var o=pg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(ag.store),e.deleteObjectStore(ig.store),e.deleteObjectStore(og.store)}(e),xy(e)),o=o.next((function(){return function(e){var t=e.store(og.store),n=new og(0,0,Fd.min().toTimestamp(),0);return t.put(og.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Jm.store).Bt().next((function(n){e.deleteObjectStore(Jm.store),e.createObjectStore(Jm.store,{keyPath:Jm.keyPath,autoIncrement:!0}).createIndex(Jm.userMutationsIndex,Jm.userMutationsKeyPath,{unique:!0});var r=t.store(Jm.store),i=n.map((function(e){return r.put(e)}));return pg.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(ug.store,{keyPath:ug.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(rg.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(ng.store);t.createIndex(ng.readTimeIndex,ng.readTimeIndexPath,{unique:!1}),t.createIndex(ng.collectionReadTimeIndex,ng.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(cg.store,{keyPath:cg.keyPath})}(e),function(e){e.createObjectStore(lg.store,{keyPath:lg.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(ng.store).jt((function(e,n){t+=Yg(n)})).next((function(){var n=new rg(t);return e.store(rg.store).put(rg.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(Xm.store),r=e.store(Jm.store);return n.Bt().next((function(n){return pg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(Jm.userMutationsIndex,i).next((function(r){return pg.forEach(r,(function(r){gd(r.userId===n.userId);var i=Mg(t.k,r);return Qg(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(ag.store),n=e.store(ng.store);return e.store(og.store).get(og.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new zd(n),o=function(e){return[0,Wm(e)]}(a);r.push(t.get(o).next((function(n){return n?pg.resolve():function(n){return t.put(new ag(0,Wm(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return pg.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(sg.store,{keyPath:sg.keyPath});var n=t.store(sg.store),r=new Hg,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Wm(i)})}};return t.store(ng.store).jt({Kt:!0},(function(e,t){var n=new zd(e);return i(n.popLast())})).next((function(){return t.store(Zm.store).jt({Kt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],$m(r));return i(a.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(ig.store);return n.jt((function(e,r){var i=Fg(r),a=jg(t.k,i);return n.put(a)}))}}]),e}();function xy(e){e.createObjectStore(ag.store,{keyPath:ag.keyPath}).createIndex(ag.documentTargetsIndex,ag.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ig.store,{keyPath:ig.keyPath}).createIndex(ig.queryTargetsIndexName,ig.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(og.store)}var Ey="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ty=function(){function e(t,n,r,i,a,o,s,u,c,l){if(G(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=s,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new wd(kd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dy(this,i),this.Ge=n+"main",this.k=new Ag(u),this.ze=new mg(this.Ge,11,new _y(this.k)),this.He=new ry(this.referenceDelegate,this.k),this.Jt=new Wg,this.Je=function(e,t){return new gy(e,t)}(this.k,this.Jt),this.Ye=new Vg,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&dd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return $(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new wd(kd.FAILED_PRECONDITION,Ey);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Pd(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Fe(Ue().mark((function n(r){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Fe(Ue().mark((function t(n){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Iy(t).put(new ug(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(kg(t))return hd("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return hd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return Sy(e).get(Ym.key).next((function(e){return pg.resolve(t.un(e))}))}},{key:"hn",value:function(e){return Iy(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Fe(Ue().mark((function e(){var t,n,r,i,a=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Tg(e,ug.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return pg.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=Q(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?pg.resolve(!0):Sy(e).get(Ym.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new wd(kd.FAILED_PRECONDITION,Ey);return!1}}return!(!t.networkEnabled||!t.inForeground)||Iy(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&hd("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Fe(Ue().mark((function e(){var t=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[Ym.store,ug.store],(function(e){var n=new Eg(e,Pd.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Iy(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return Xg.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;hd("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,fg,(function(a){return i=new Eg(a,r.Be?r.Be.next():Pd.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw dd("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new wd(kd.FAILED_PRECONDITION,hg);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return Sy(e).get(Ym.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new wd(kd.FAILED_PRECONDITION,Ey)}))}},{key:"cn",value:function(e){var t=new Ym(this.clientId,this.allowTabSynchronization,Date.now());return Sy(e).put(Ym.key,t)}},{key:"an",value:function(e){var t=this,n=Sy(e);return n.get(Ym.key).next((function(e){return t.un(e)?(hd("IndexedDbPersistence","Releasing primary lease."),n.delete(Ym.key)):pg.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(dd("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return hd("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return dd("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(sc){dd("Failed to set zombie client id.",sc)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(sc){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return mg.bt()}}]),e}();function Sy(e){return Tg(e,Ym.store)}function Iy(e){return Tg(e,ug.store)}function Cy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ay=$((function e(t,n){G(this,e),this.progress=t,this.In=n})),Py=function(){function e(t,n,r){G(this,e),this.Je=t,this.An=n,this.Jt=r}return $(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=Q(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=Q(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return rp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):$p(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new rp(t)).next((function(e){var t=Qv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Qv();return this.Jt.getCollectionParents(e,i).next((function(o){return pg.forEach(o,(function(o){var s=function(e,t){return new Bp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=Q(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=Q(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=wp.newInvalidDocument(c),r=r.insert(c,l)),Tv(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){tv(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Zv(),a=Q(t);try{for(a.s();!(r=a.n()).done;){var o,s=Q(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof Pv&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),Ny=function(){function e(t,n,r,i){G(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return $(e,null,[{key:"$n",value:function(t,n){var r,i=Zv(),a=Zv(),o=Q(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Ry=function(){function e(){G(this,e)}return $(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Fd.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Hp(t)||Wp(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(fd()<=He.DEBUG&&hd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ev(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Hv(nv(e));return t.forEach((function(t,r){tv(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return fd()<=He.DEBUG&&hd("QueryEngine","Using full collection scan to execute query:",ev(t)),this.On.getDocumentsMatchingQuery(e,t,Fd.min())}}]),e}(),Oy=function(){function e(t,n,r,i){G(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Bv(Od),this.Kn=new vy((function(e){return xp(e)}),Ep),this.jn=Fd.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Py(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return $(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function Dy(e,t,n,r){return new Oy(e,t,n,r)}function Ly(e,t){return My.apply(this,arguments)}function My(){return My=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yd(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Py(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=Zv(),u=Q(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=Q(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Q(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=Q(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}function Fy(e,t){var n=yd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=pg.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);gd(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function jy(e){var t=yd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function Uy(e,t){var n=yd(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var s=i.get(a);if(s){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return gd(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var s=Kv();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Vy(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Fd.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return pg.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function Vy(e,t,n,r,i){var a=Zv();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Kv();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Fd.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):hd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function By(e,t){var n=yd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function zy(e,t){var n=yd(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,pg.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Cg(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function qy(e,t,n){return Hy.apply(this,arguments)}function Hy(){return Hy=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yd(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),kg(e.t1)){e.next=12;break}throw e.t1;case 12:hd("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Hy.apply(this,arguments)}function Wy(e,t,n){var r=yd(e),i=Fd.min(),a=Zv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=yd(e),i=r.Kn.get(n);return void 0!==i?pg.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Yp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Fd.min(),n?a:Zv())})).next((function(e){return{documents:e,zn:a}}))}))}function Gy(e,t){var n=yd(e),r=yd(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Ky(e){var t=yd(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=yd(e),i=Kv(),a=Rg(n),o=wy(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:ng.readTimeIndex,range:s},(function(e,t){var n=Pg(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Og(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function $y(e){return Qy.apply(this,arguments)}function Qy(){return Qy=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yd(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=wy(e),n=Fd.min();return t.jt({index:ng.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Og(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),Qy.apply(this,arguments)}function Yy(e,t,n,r){return Xy.apply(this,arguments)}function Xy(){return Xy=Fe(Ue().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=yd(t),o=Zv(),s=Kv(),u=Xv(),c=Q(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,zy(a,function(e){return Yp(qp(zd.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Vy(e,d,s,Fd.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Xy.apply(this,arguments)}function Jy(e,t){return Zy.apply(this,arguments)}function Zy(){return Zy=Fe(Ue().mark((function e(t,n){var r,i,a,o=arguments;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Zv(),e.next=3,zy(t,Yp(Ug(n.bundledQuery)));case 3:return i=e.sent,a=yd(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=gm(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Gd.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Zy.apply(this,arguments)}var ek=function(){function e(t){G(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return $(e,[{key:"getBundleMetadata",value:function(e,t){return pg.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:gm(n.createTime)}),pg.resolve()}},{key:"getNamedQuery",value:function(e,t){return pg.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Ug(e.bundledQuery),readTime:gm(e.readTime)}}(t)),pg.resolve()}}]),e}(),tk=function(){function e(){G(this,e),this.ts=new Hv(nk.es),this.ns=new Hv(nk.ss)}return $(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new nk(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new nk(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new rp(new zd([])),r=new nk(n,e),i=new nk(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new rp(new zd([])),n=new nk(t,e),r=new nk(t,e+1),i=Zv();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new nk(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),nk=function(){function e(t,n){G(this,e),this.key=t,this.fs=n}return $(e,null,[{key:"es",value:function(e,t){return rp.comparator(e.key,t.key)||Od(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Od(e.fs,t.fs)||rp.comparator(e.key,t.key)}}]),e}(),rk=function(){function e(t,n){G(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Hv(nk.es)}return $(e,[{key:"checkEmpty",value:function(e){return pg.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Sg(i,t,n,r);this.An.push(a);var o,s=Q(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new nk(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return pg.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return pg.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return pg.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return pg.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return pg.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new nk(t,0),i=new nk(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),pg.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Hv(Od);return t.forEach((function(e){var t=new nk(e,0),i=new nk(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),pg.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;rp.isDocumentKey(i)||(i=i.child(""));var a=new nk(new rp(i),0),o=new Hv(Od);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),pg.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;gd(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return pg.forEach(t.mutations,(function(i){var a=new nk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new nk(t,0),r=this.ws.firstAfterOrEqual(n);return pg.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,pg.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),ik=function(){function e(t,n){G(this,e),this.Jt=t,this.Ts=n,this.docs=new Bv(rp.comparator),this.size=0}return $(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return pg.resolve(n?n.document.clone():wp.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Kv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():wp.newInvalidDocument(e))})),pg.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Kv(),i=new rp(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||tv(t,c)&&(r=r.insert(c.key,c.clone()))}return pg.resolve(r)}},{key:"Es",value:function(e,t){return pg.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ak(this)}},{key:"getSize",value:function(e){return pg.resolve(this.size)}}]),e}(),ak=function(e){J(n,e);var t=re(n);function n(e){var r;return G(this,n),(r=t.call(this)).De=e,r}return $(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),pg.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(my),ok=function(){function e(t){G(this,e),this.persistence=t,this.Is=new vy((function(e){return xp(e)}),Ep),this.lastRemoteSnapshotVersion=Fd.min(),this.highestTargetId=0,this.As=0,this.Rs=new tk,this.targetCount=0,this.Ps=ny.ie()}return $(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),pg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return pg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return pg.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),pg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),pg.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new ny(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,pg.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),pg.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,pg.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),pg.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return pg.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return pg.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),pg.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),pg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),pg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return pg.resolve(n)}},{key:"containsKey",value:function(e,t){return pg.resolve(this.Rs.containsKey(t))}}]),e}(),sk=function(){function e(t,n){var r=this;G(this,e),this.bs={},this.Be=new Pd(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new ok(this),this.Jt=new qg,this.Je=function(e,t){return new ik(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Ag(n),this.Ye=new ek(this.k)}return $(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new rk(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;hd("MemoryPersistence","Starting transaction:",e);var i=new uk(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return pg.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),uk=function(e){J(n,e);var t=re(n);function n(e){var r;return G(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return $(n)}(dg),ck=function(){function e(t){G(this,e),this.persistence=t,this.Cs=new tk,this.Ns=null}return $(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw md()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),pg.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),pg.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),pg.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pg.forEach(this.xs,(function(r){var i=rp.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return pg.or([function(){return pg.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function lk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function fk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function hk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var dk=function(){function e(t,n,r,i){G(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return $(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new wd(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(dd("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),pk=function(){function e(t,n,r){G(this,e),this.targetId=t,this.state=n,this.error=r}return $(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new wd(i.error.code,i.error.message))),a?new e(t,i.state,r):(dd("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),vk=function(){function e(t,n){G(this,e),this.clientId=t,this.activeTargetIds=n}return $(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=tm(),o=0;i&&o<r.activeTargetIds.length;++o)i=np(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(dd("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),mk=function(){function e(t,n){G(this,e),this.clientId=t,this.onlineState=n}return $(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(dd("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),gk=function(){function e(){G(this,e),this.activeTargetIds=tm()}return $(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),yk=function(){function e(t,n,r,i,a){G(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Bv(Od),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=lk(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new gk),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return $(e,[{key:"start",value:function(){var e=Fe(Ue().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=Q(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(lk(this.persistenceKey,i)))&&(o=vk.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=Q(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(hk(this.persistenceKey,e));if(n){var r=pk.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(hk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return hd("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){hd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){hd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(hd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void dd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(Fe(Ue().mark((function e(){var r,i,a,o,s,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=Pd.I;if(null!=e)try{var n=JSON.parse(e);gd("number"==typeof n),t=n}catch(e){dd("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Pd.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new dk(this.currentUser,e,t,n),i=fk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=fk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=hk(this.persistenceKey,e),i=new pk(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return vk.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return dk.Fs(new ud(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return pk.Fs(r,t)}},{key:"Zs",value:function(e){return mk.Fs(e)}},{key:"fi",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:hd("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=tm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),kk=function(){function e(){G(this,e),this.pi=new gk,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return $(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new gk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),wk=function(){function e(){G(this,e)}return $(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),bk=function(){function e(){var t=this;G(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return $(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){hd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Q(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){hd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Q(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),_k={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},xk=function(){function e(t){G(this,e),this.Vi=t.Vi,this.Si=t.Si}return $(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Ek=function(e){J(n,e);var t=re(n);function n(e){var r;return G(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return $(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new od;o.listenOnce(td.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ed.NO_ERROR:var t=o.getResponseJson();hd("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ed.TIMEOUT:hd("Connection",'RPC "'+e+'" timed out'),a(new wd(kd.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:var n=o.getStatus();if(hd("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(kd).indexOf(t)>=0?t:kd.UNKNOWN}(r.status);a(new wd(s,r.message))}else a(new wd(kd.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new wd(kd.UNAVAILABLE,"Connection failed."));break;default:md()}}finally{hd("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Jh(),a=Zh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new id({})),this.qi(o.initMessageHeaders,t,n),pe()||ge()||de().indexOf("Electron/")>=0||ye()||de().indexOf("MSAppHost/")>=0||me()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");hd("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new xk({Vi:function(e){l?hd("Connection","Not sending because WebChannel is closed:",e):(c||(hd("Connection","Opening WebChannel transport."),u.open(),c=!0),hd("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,ad.EventType.OPEN,(function(){l||hd("Connection","WebChannel transport opened.")})),h(u,ad.EventType.CLOSE,(function(){l||(l=!0,hd("Connection","WebChannel transport closed"),f.Fi())})),h(u,ad.EventType.ERROR,(function(e){l||(l=!0,pd("Connection","WebChannel transport errored:",e),f.Fi(new wd(kd.UNAVAILABLE,"The operation could not be completed")))})),h(u,ad.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];gd(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){hd("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Dv[e];if(void 0!==t)return Vv(t)}(a),s=i.message;void 0===o&&(o=kd.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new wd(o,s)),u.close()}else hd("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,nd.STAT_EVENT,(function(e){e.stat===rd.PROXY?hd("Connection","Detected buffering proxy"):e.stat===rd.NOPROXY&&hd("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){G(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return $(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);hd("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return hd("RestConnection","Received: ",e),e}),(function(t){throw pd("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+cd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=_k[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function Tk(){return"undefined"!=typeof window?window:null}function Sk(){return"undefined"!=typeof document?document:null}function Ik(e){return new dm(e,!0)}var Ck=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;G(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return $(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&hd("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Ak=function(){function e(t,n,r,i,a,o,s,u){G(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Ck(t,n)}return $(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===kd.RESOURCE_EXHAUSTED?(dd(n.toString()),dd("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===kd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new wd(kd.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return hd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(hd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Pk=function(e){J(n,e);var t=re(n);function n(e,r,i,a,o,s){var u;return G(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return $(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:md()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(gd(void 0===t||"string"==typeof t),Gd.fromBase64String(t||"")):(gd(void 0===t||t instanceof Uint8Array),Gd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?kd.UNKNOWN:Vv(e.code);return new wd(t,e.message||"")}(o);n=new om(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=bm(e,u.document.name),l=gm(u.document.updateTime),f=new yp({mapValue:{fields:u.document.fields}}),h=wp.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new im(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=bm(e,v.document),g=v.readTime?gm(v.readTime):Fd.min(),y=wp.newNoDocument(m,g),k=v.removedTargetIds||[];n=new im([],k,y.key,y)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=bm(e,w.document),_=w.removedTargetIds||[];n=new im([],_,b,null)}else{if(!("filter"in t))return md();t.filter;var x=t.filter;x.targetId;var E=x.count||0,T=new jv(E),S=x.targetId;n=new am(S,T)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Fd.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Fd.min():t.readTime?gm(t.readTime):Fd.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=Em(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Tp(r)?{documents:Nm(e,r)}:{query:Rm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=vm(e,t.resumeToken):t.snapshotVersion.compareTo(Fd.min())>0&&(n.readTime=pm(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return md()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Em(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Ak),Nk=function(e){J(n,e);var t=re(n);function n(e,r,i,a,o,s){var u;return G(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return $(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Mt(Z(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(gd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(gd(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?gm(e.updateTime):gm(t);return n.isEqual(Fd.min())&&(n=gm(t)),new wv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=gm(e.commitTime);return this.listener.Cr(n,t)}return gd(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Em(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Am(t.k,e)}))};this.gr(n)}}]),n}(Ak),Rk=function(e){J(n,e);var t=re(n);function n(e,r,i,a){var o;return G(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return $(n,[{key:"Fr",value:function(){if(this.$r)throw new wd(kd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===kd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new wd(kd.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===kd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new wd(kd.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return $((function e(){G(this,e)}))}()),Ok=function(){function e(t,n){G(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return $(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(dd(t),this.Lr=!1):hd("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),Dk=$((function e(t,n,r,i,a){var o=this;G(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Wk(o),!e.t0){e.next=5;break}return hd("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yd(t)).Gr.add(4),e.next=4,Fk(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,Lk(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Ok(r,i)}));function Lk(e){return Mk.apply(this,arguments)}function Mk(){return Mk=Fe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Wk(t)){e.next=18;break}n=Q(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Mk.apply(this,arguments)}function Fk(e){return jk.apply(this,arguments)}function jk(){return jk=Fe(Ue().mark((function e(t){var n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Q(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),jk.apply(this,arguments)}function Uk(e,t){var n=yd(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Hk(n)?qk(n):yw(n).lr()&&Bk(n,t))}function Vk(e,t){var n=yd(e),r=yw(n);n.Wr.delete(t),r.lr()&&zk(n,t),0===n.Wr.size&&(r.lr()?r._r():Wk(n)&&n.Jr.set("Unknown"))}function Bk(e,t){e.Yr.X(t.targetId),yw(e).br(t)}function zk(e,t){e.Yr.X(t),yw(e).vr(t)}function qk(e){e.Yr=new um({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),yw(e).start(),e.Jr.Br()}function Hk(e){return Wk(e)&&!yw(e).hr()&&e.Wr.size>0}function Wk(e){return 0===yd(e).Gr.size}function Gk(e){e.Yr=void 0}function Kk(e){return $k.apply(this,arguments)}function $k(){return $k=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){Bk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),$k.apply(this,arguments)}function Qk(e,t){return Yk.apply(this,arguments)}function Yk(){return Yk=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gk(t),Hk(t)?(t.Jr.Kr(n),qk(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Yk.apply(this,arguments)}function Xk(e,t,n){return Jk.apply(this,arguments)}function Jk(){return Jk=Fe(Ue().mark((function e(t,n,r){var i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof om&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Q(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),hd("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Zk(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof im?t.Yr.ot(n):n instanceof am?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Fd.min())){e.next=29;break}return e.prev=14,e.next=17,jy(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Gd.EMPTY_BYTE_STRING,n.snapshotVersion)),zk(e,t);var r=new Cg(n.target,t,1,n.sequenceNumber);Bk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),hd("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Zk(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Jk.apply(this,arguments)}function Zk(e,t,n){return ew.apply(this,arguments)}function ew(){return ew=Fe(Ue().mark((function e(t,n,r){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kg(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Fk(t);case 5:t.Jr.set("Offline"),r||(r=function(){return jy(t.localStore)}),t.asyncQueue.enqueueRetryable(Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hd("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,Lk(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ew.apply(this,arguments)}function tw(e,t){return t().catch((function(n){return Zk(e,n,t)}))}function nw(e){return rw.apply(this,arguments)}function rw(){return rw=Fe(Ue().mark((function e(t){var n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yd(t),r=kw(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!iw(n)){e.next=19;break}return e.prev=3,e.next=6,By(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,aw(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Zk(n,e.t0);case 17:e.next=2;break;case 19:ow(n)&&sw(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),rw.apply(this,arguments)}function iw(e){return Wk(e)&&e.Qr.length<10}function aw(e,t){e.Qr.push(t);var n=kw(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function ow(e){return Wk(e)&&!kw(e).hr()&&e.Qr.length>0}function sw(e){kw(e).start()}function uw(e){return cw.apply(this,arguments)}function cw(){return cw=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kw(t).kr();case 1:case"end":return e.stop()}}),e)}))),cw.apply(this,arguments)}function lw(e){return fw.apply(this,arguments)}function fw(){return fw=Fe(Ue().mark((function e(t){var n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=kw(t),r=Q(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}function hw(e,t,n){return dw.apply(this,arguments)}function dw(){return dw=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Ig.from(i,n,r),e.next=3,tw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,nw(t);case 5:case"end":return e.stop()}}),e)}))),dw.apply(this,arguments)}function pw(e,t){return vw.apply(this,arguments)}function vw(){return vw=Fe(Ue().mark((function e(t,n){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&kw(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Uv(i=n.code)||i===kd.ABORTED){e.next=7;break}return r=t.Qr.shift(),kw(t).wr(),e.next=5,tw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,nw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ow(t)&&sw(t);case 5:case"end":return e.stop()}}),e)}))),vw.apply(this,arguments)}function mw(e,t){return gw.apply(this,arguments)}function gw(){return gw=Fe(Ue().mark((function e(t,n){var r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yd(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,Lk(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Fk(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),gw.apply(this,arguments)}function yw(e){return e.Xr||(e.Xr=function(e,t,n){var r=yd(e);return r.Fr(),new Pk(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Kk.bind(null,e),Ni:Qk.bind(null,e),Pr:Xk.bind(null,e)}),e.zr.push(function(){var t=Fe(Ue().mark((function t(n){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Hk(e)?qk(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:Gk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function kw(e){return e.Zr||(e.Zr=function(e,t,n){var r=yd(e);return r.Fr(),new Nk(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:uw.bind(null,e),Ni:pw.bind(null,e),Nr:lw.bind(null,e),Cr:hw.bind(null,e)}),e.zr.push(function(){var t=Fe(Ue().mark((function t(n){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,nw(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(hd("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var ww=function(){function e(t,n,r,i,a){G(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new bd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return $(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wd(kd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function bw(e,t){if(dd("AsyncQueue","".concat(t,": ").concat(e)),kg(e))return new wd(kd.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var _w=function(){function e(t){G(this,e),this.comparator=t?function(e,n){return t(e,n)||rp.comparator(e.key,n.key)}:function(e,t){return rp.comparator(e.key,t.key)},this.keyedMap=Qv(),this.sortedSet=new Bv(this.comparator)}return $(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),xw=function(){function e(){G(this,e),this.eo=new Bv(rp.comparator)}return $(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):md():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Ew=function(){function e(t,n,r,i,a,o,s,u){G(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return $(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,_w.emptySet(n),a,r,i,!0,!1)}}]),e}(),Tw=$((function e(){G(this,e),this.so=void 0,this.listeners=[]})),Sw=$((function e(){G(this,e),this.queries=new vy((function(e){return Zp(e)}),Jp),this.onlineState="Unknown",this.io=new Set}));function Iw(e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=Fe(Ue().mark((function e(t,n){var r,i,a,o,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yd(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Tw),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=bw(e.t0,"Initialization of query '".concat(ev(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Ow(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Cw.apply(this,arguments)}function Aw(e,t){return Pw.apply(this,arguments)}function Pw(){return Pw=Fe(Ue().mark((function e(t,n){var r,i,a,o,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yd(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Pw.apply(this,arguments)}function Nw(e,t){var n,r=yd(e),i=!1,a=Q(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Q(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ow(r)}function Rw(e,t,n){var r=yd(e),i=r.queries.get(t);if(i){var a,o=Q(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Ow(e){e.io.forEach((function(e){e.next()}))}var Dw=function(){function e(t,n,r){G(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return $(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Q(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Ew(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Ew.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),Lw=function(){function e(t,n){G(this,e),this.payload=t,this.byteLength=n}return $(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),Mw=function(){function e(t){G(this,e),this.k=t}return $(e,[{key:"Hn",value:function(e){return bm(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Im(this.k,e.document,!1):wp.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return gm(e)}}]),e}(),Fw=function(){function e(t,n,r){G(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=jw(t)}return $(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new Mw(this.k),i=Q(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=Q(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Zv()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Fe(Ue().mark((function e(){var t,n,r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yy(this.localStore,new Mw(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=Q(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Jy(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Ay(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function jw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Uw=$((function e(t){G(this,e),this.key=t})),Vw=$((function e(t){G(this,e),this.key=t})),Bw=function(){function e(t,n){G(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Zv(),this.mutatedKeys=Zv(),this.Ao=nv(t),this.Ro=new _w(this.Ao)}return $(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new xw,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Hp(this.query)&&i.size===this.query.limit?i.last():null,c=Wp(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=tv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Hp(this.query)||Wp(this.query))for(;o.size>this.query.limit;){var l=Hp(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return md()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new Ew(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new xw,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Zv(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new Vw(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new Uw(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Zv();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Ew.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),zw=$((function e(t,n,r){G(this,e),this.query=t,this.targetId=n,this.view=r})),qw=$((function e(t){G(this,e),this.key=t,this.$o=!1})),Hw=function(){function e(t,n,r,i,a,o){G(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new vy((function(e){return Zp(e)}),Jp),this.Mo=new Map,this.Lo=new Set,this.Bo=new Bv(rp.comparator),this.Uo=new Map,this.qo=new tk,this.Ko={},this.jo=new Map,this.Qo=ny.re(),this.onlineState="Unknown",this.Wo=void 0}return $(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function Ww(e,t){return Gw.apply(this,arguments)}function Gw(){return Gw=Fe(Ue().mark((function e(t,n){var r,i,a,o,s,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jb(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,zy(r.localStore,Yp(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,Kw(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&Uk(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Gw.apply(this,arguments)}function Kw(e,t,n,r){return $w.apply(this,arguments)}function $w(){return $w=Fe(Ue().mark((function e(t,n,r,i){var a,o,s,u,c,l;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Fe(Ue().mark((function e(t,n,r,i){var a,o,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,Wy(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(pb(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Wy(t.localStore,n,!0);case 3:return a=e.sent,o=new Bw(n,a.zn),s=o.bo(a.documents),u=rm.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),pb(t,r,c.Co),l=new zw(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),$w.apply(this,arguments)}function Qw(e,t){return Yw.apply(this,arguments)}function Yw(){return Yw=Fe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yd(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!Jp(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,qy(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Vk(r.remoteStore,i.targetId),hb(r,i.targetId)})).catch(sy);case 9:e.next=14;break;case 11:return hb(r,i.targetId),e.next=14,qy(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}function Xw(e,t,n){return Jw.apply(this,arguments)}function Jw(){return Jw=Fe(Ue().mark((function e(t,n,r){var i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ub(t),e.prev=1,e.next=4,function(e,t){var n,r=yd(e),i=Md.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Zv());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=Q(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Sv(c,n.get(c.key));null!=l&&s.push(new Pv(c.key,l,kp(l.value.mapValue),bv.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Bv(Od)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,gb(i,a.changes);case 9:return e.next=11,nw(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=bw(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Jw.apply(this,arguments)}function Zw(e,t){return eb.apply(this,arguments)}function eb(){return eb=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yd(t),e.prev=1,e.next=4,Uy(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(gd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?gd(n.$o):e.removedDocuments.size>0&&(gd(n.$o),n.$o=!1))})),e.next=8,gb(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,sy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),eb.apply(this,arguments)}function tb(e,t,n){var r=yd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=yd(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Q(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ow(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function nb(e,t,n){return rb.apply(this,arguments)}function rb(){return rb=Fe(Ue().mark((function e(t,n,r){var i,a,o,s,u,c;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=yd(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Bv(rp.comparator)).insert(o,wp.newNoDocument(o,Fd.min())),u=Zv().add(o),c=new nm(Fd.min(),new Map,new Hv(Od),s,u),e.next=9,Zw(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),mb(i),e.next=16;break;case 14:return e.next=16,qy(i.localStore,n,!1).then((function(){return hb(i,n,r)})).catch(sy);case 16:case"end":return e.stop()}}),e)}))),rb.apply(this,arguments)}function ib(e,t){return ab.apply(this,arguments)}function ab(){return ab=Fe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yd(t),i=n.batch.batchId,e.prev=1,e.next=4,Fy(r.localStore,n);case 4:return a=e.sent,fb(r,i,null),lb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,gb(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,sy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ab.apply(this,arguments)}function ob(e,t,n){return sb.apply(this,arguments)}function sb(){return sb=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yd(t),e.prev=1,e.next=4,function(e,t){var n=yd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return gd(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,fb(i,n,r),lb(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,gb(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,sy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),sb.apply(this,arguments)}function ub(e,t){return cb.apply(this,arguments)}function cb(){return cb=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wk((r=yd(t)).remoteStore)||hd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=yd(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=bw(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),cb.apply(this,arguments)}function lb(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function fb(e,t,n){var r=yd(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function hb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Q(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||db(e,t)}))}function db(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Vk(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),mb(e))}function pb(e,t,n){var r,i=Q(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Uw?(e.qo.addReference(a.key,t),vb(e,a)):a instanceof Vw?(hd("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||db(e,a.key)):md()}}catch(o){i.e(o)}finally{i.f()}}function vb(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(hd("SyncEngine","New document in limbo: "+n),e.Lo.add(r),mb(e))}function mb(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new rp(zd.fromString(t)),r=e.Qo.next();e.Uo.set(r,new qw(n)),e.Bo=e.Bo.insert(n,r),Uk(e.remoteStore,new Cg(Yp(qp(n.path)),r,2,Pd.I))}}function gb(e,t,n){return yb.apply(this,arguments)}function yb(){return yb=Fe(Ue().mark((function e(t,n,r){var i,a,o,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yd(t),a=[],o=[],s=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Ny.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yd(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return pg.forEach(n,(function(t){return pg.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return pg.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),kg(e.t0)){e.next=10;break}throw e.t0;case 10:hd("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Q(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),yb.apply(this,arguments)}function kb(e,t){return wb.apply(this,arguments)}function wb(){return wb=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=yd(t)).currentUser.isEqual(n)){e.next=11;break}return hd("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ly(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new wd(kd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,gb(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),wb.apply(this,arguments)}function bb(e,t){var n=yd(e),r=n.Uo.get(t);if(r&&r.$o)return Zv().add(r.key);var i=Zv(),a=n.Mo.get(t);if(!a)return i;var o,s=Q(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Oo.get(u);i=i.unionWith(c.view.Po)}}catch(l){s.e(l)}finally{s.f()}return i}function _b(e,t){return xb.apply(this,arguments)}function xb(){return xb=Fe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yd(t),e.next=3,Wy(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&pb(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),xb.apply(this,arguments)}function Eb(e){return Tb.apply(this,arguments)}function Tb(){return Tb=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yd(t),e.abrupt("return",Ky(n.localStore).then((function(e){return gb(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Tb.apply(this,arguments)}function Sb(e,t,n,r){return Ib.apply(this,arguments)}function Ib(){return Ib=Fe(Ue().mark((function e(t,n,r,i){var a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=yd(t),e.next=3,function(e,t){var n=yd(e),r=yd(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):pg.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,nw(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(fb(a,n,i||null),lb(a,n),function(e,t){yd(yd(e).An).ee(t)}(a.localStore,n)):md();case 11:return e.next=13,gb(a,o);case 13:e.next=16;break;case 15:hd("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Ib.apply(this,arguments)}function Cb(e,t){return Ab.apply(this,arguments)}function Ab(){return Ab=Fe(Ue().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jb(r=yd(t)),Ub(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Pb(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,mw(r.remoteStore,!0);case 9:o=Q(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Uk(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return hb(r,t),qy(r.localStore,t,!0)})),Vk(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Pb(r,c);case 21:return function(e){var t=yd(e);t.Uo.forEach((function(e,n){Vk(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new Bv(rp.comparator)}(r),r.Wo=!1,e.next=25,mw(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Ab.apply(this,arguments)}function Pb(e,t,n){return Nb.apply(this,arguments)}function Nb(){return Nb=Fe(Ue().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,g;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=yd(t),a=[],o=[],s=Q(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,zy(i.localStore,Yp(f[0]));case 11:l=e.sent,h=Q(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Oo.get(p),e.next=20,_b(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Gy(i.localStore,c);case 36:return g=e.sent,e.next=39,zy(i.localStore,g);case 39:return l=e.sent,e.next=42,Kw(i,Rb(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Nb.apply(this,arguments)}function Rb(e){return zp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ob(e){var t=yd(e);return yd(yd(t.localStore).persistence).Tn()}function Db(e,t,n,r){return Lb.apply(this,arguments)}function Lb(){return Lb=Fe(Ue().mark((function e(t,n,r,i){var a,o,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=yd(t)).Wo){e.next=5;break}hd("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Ky(a.localStore);case 11:return o=e.sent,s=nm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,gb(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,qy(a.localStore,n,!0);case 18:return hb(a,n,i),e.abrupt("break",21);case 20:md();case 21:case"end":return e.stop()}}),e)}))),Lb.apply(this,arguments)}function Mb(e,t,n){return Fb.apply(this,arguments)}function Fb(){return Fb=Fe(Ue().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=jb(t)).Wo){e.next=45;break}a=Q(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Mo.has(s)){e.next=10;break}return hd("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Gy(i.localStore,s);case 12:return u=e.sent,e.next=15,zy(i.localStore,u);case 15:return c=e.sent,e.next=18,Kw(i,Rb(u),c.targetId,!1);case 18:Uk(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Q(r),e.prev=30,h=Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,qy(i.localStore,t,!1).then((function(){Vk(i.remoteStore,t),hb(i,t)})).catch(sy);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Fb.apply(this,arguments)}function jb(e){var t=yd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nb.bind(null,t),t.Fo.Pr=Nw.bind(null,t.eventManager),t.Fo.zo=Rw.bind(null,t.eventManager),t}function Ub(e){var t=yd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ib.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ob.bind(null,t),t}function Vb(e,t,n){var r=yd(e);(function(){var e=Fe(Ue().mark((function e(t,n,r){var i,a,o,s,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=yd(e),r=gm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(jw(i)),a=new Fw(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,gb(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=yd(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),pd("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Bb=function(){function e(){G(this,e),this.synchronizeTabs=!1}return $(e,[{key:"initialize",value:function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Ik(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Dy(this.persistence,new Ry,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new sk(ck.ks,this.k)}},{key:"Jo",value:function(e){return new kk}},{key:"terminate",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zb=function(e){J(n,e);var t=re(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return $(n,[{key:"initialize",value:function(){var e=Fe(Ue().mark((function e(t){var r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt(Z(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,$y(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,Ub(this.ta.syncEngine);case 8:return e.next=10,nw(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return Dy(this.persistence,new Ry,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new fy(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=Cy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?$g.withCacheSize(this.cacheSizeBytes):$g.DEFAULT;return new Ty(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Tk(),Sk(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new kk}}]),n}(Bb),qb=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return $(n,[{key:"initialize",value:function(){var e=Fe(Ue().mark((function e(t){var r,i=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt(Z(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof yk,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:Sb.bind(null,r),gi:Db.bind(null,r),yi:Mb.bind(null,r),Tn:Ob.bind(null,r),_i:Eb.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cb(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Tk();if(!yk.bt(t))throw new wd(kd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Cy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(zb),Hb=function(){function e(){G(this,e)}return $(e,[{key:"initialize",value:function(){var e=Fe(Ue().mark((function e(t,n){var r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return tb(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=kb.bind(null,this.syncEngine),e.next=12,mw(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Sw}},{key:"createDatastore",value:function(e){var t,n=Ik(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Ek(t));return function(e,t,n,r){return new Rk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return tb(o.syncEngine,e,0)},a=bk.bt()?new bk:new wk,new Dk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Hw(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yd(t),hd("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Fk(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Wb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Fe(Ue().mark((function r(){var i;return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Gb=function(){function e(t){G(this,e),this.observer=t,this.muted=!1}return $(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Kb=function(){function e(t,n){var r=this;G(this,e),this.sa=t,this.k=n,this.metadata=new bd,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return $(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=Fe(Ue().mark((function e(){var t,n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new Lw(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=Fe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=Fe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),$b=function(){function e(t){G(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return $(e,[{key:"lookup",value:function(){var e=Fe(Ue().mark((function e(t){var n,r=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new wd(kd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a,o,s,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yd(t),i=Em(r.k)+"/documents",a={documents:n.map((function(e){return wm(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Cm(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());gd(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Mv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Fe(Ue().mark((function e(){var t,n=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=rp.fromPath(t);n.mutations.push(new Fv(r,n.precondition(r)))})),e.next=7,function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yd(t),i=Em(r.k)+"/documents",a={writes:n.map((function(e){return Am(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw md();t=Fd.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new wd(kd.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?bv.updateTime(t):bv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Fd.min()))throw new wd(kd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bv.updateTime(t)}return bv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Qb=function(){function e(t,n,r,i){G(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new Ck(this.asyncQueue,"transaction_retry")}return $(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(Fe(Ue().mark((function t(){var n,r;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new $b(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!ep(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Uv(t)}return!1}}]),e}(),Yb=function(){function e(t,n,r,i){var a=this;G(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ud.UNAUTHENTICATED,this.clientId=Rd.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hd("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return $(e,[{key:"getConfiguration",value:function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new wd(kd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new bd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Fe(Ue().mark((function n(){var r;return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=bw(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Xb(e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),hd("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ly(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Jb.apply(this,arguments)}function Zb(e,t){return e_.apply(this,arguments)}function e_(){return e_=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,t_(t);case 3:return r=e.sent,hd("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Fe(Ue().mark((function e(t,n){var r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=yd(t)).asyncQueue.verifyOperationInProgress(),hd("RemoteStore","RemoteStore received new credentials"),i=Wk(r),r.Gr.add(3),e.next=6,Fk(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,Lk(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}function t_(e){return n_.apply(this,arguments)}function n_(){return n_=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return hd("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Xb(t,new Bb);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e){return i_.apply(this,arguments)}function i_(){return i_=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return hd("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Zb(t,new Hb);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e){return t_(e).then((function(e){return e.persistence}))}function o_(e){return t_(e).then((function(e){return e.localStore}))}function s_(e){return r_(e).then((function(e){return e.remoteStore}))}function u_(e){return r_(e).then((function(e){return e.syncEngine}))}function c_(e){return l_.apply(this,arguments)}function l_(){return l_=Fe(Ue().mark((function e(t){var n,r;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r_(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Ww.bind(null,n.syncEngine),r.onUnlisten=Qw.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),l_.apply(this,arguments)}function f_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new bd;return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function i(){return Ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Gb({next:function(a){t.enqueueAndForget((function(){return Aw(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new wd(kd.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new wd(kd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Dw(qp(n.path),a,{includeMetadataChanges:!0,wo:!0});return Iw(e,o)},i.next=3,c_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function h_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new bd;return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function i(){return Ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Gb({next:function(n){t.enqueueAndForget((function(){return Aw(e,o)})),n.fromCache&&"server"===r.source?i.reject(new wd(kd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Dw(n,a,{includeMetadataChanges:!0,wo:!0});return Iw(e,o)},i.next=3,c_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var d_=$((function e(t,n,r,i,a,o,s,u){G(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),p_=function(){function e(t,n){G(this,e),this.projectId=t,this.database=n||"(default)"}return $(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),v_=new Map;function m_(e,t,n){if(!n)throw new wd(kd.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function g_(e,t,n,r){if(!0===t&&!0===r)throw new wd(kd.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function y_(e){if(!rp.isDocumentKey(e))throw new wd(kd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function k_(e){if(rp.isDocumentKey(e))throw new wd(kd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function w_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":md()}function b_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new wd(kd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=w_(e);throw new wd(kd.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function __(e,t){if(t<=0)throw new wd(kd.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var x_=function(){function e(t){var n;if(G(this,e),void 0===t.host){if(void 0!==t.ssl)throw new wd(kd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new wd(kd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,g_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return $(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),E_=function(){function e(t,n,r){G(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1,t instanceof p_?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new wd(kd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new p_(e.options.projectId)}(t))}return $(e,[{key:"app",get:function(){if(!this._app)throw new wd(kd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new wd(kd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xd;switch(e.type){case"gapi":var t=e.client;return gd(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Id(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new wd(kd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=v_.get(e);t&&(hd("ComponentProvider","Removing Datastore"),v_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function T_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=b_(e,E_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&pd("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=ud.MOCK_USER;else{o=he(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new wd(kd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new ud(u)}e._authCredentials=new Ed(new _d(o,s))}}var S_=function(){function e(t,n,r){G(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return $(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new C_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),I_=function(){function e(t,n,r){G(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return $(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),C_=function(e){J(n,e);var t=re(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this,e,r,qp(i)))._path=i,a.type="collection",a}return $(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new S_(this.firestore,null,new rp(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(I_);function A_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Oe(e),m_("collection","path",t),e instanceof E_){var a=zd.fromString.apply(zd,[t].concat(r));return k_(a),new C_(e,null,a)}if(!(e instanceof S_||e instanceof C_))throw new wd(kd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zd.fromString.apply(zd,[t].concat(r)));return k_(o),new C_(e.firestore,null,o)}function P_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Oe(e),1===arguments.length&&(t=Rd.A()),m_("doc","path",t),e instanceof E_){var a=zd.fromString.apply(zd,[t].concat(r));return y_(a),new S_(e,null,new rp(a))}if(!(e instanceof S_||e instanceof C_))throw new wd(kd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zd.fromString.apply(zd,[t].concat(r)));return y_(o),new S_(e.firestore,e instanceof C_?e.converter:null,new rp(o))}function N_(e,t){return e=Oe(e),t=Oe(t),(e instanceof S_||e instanceof C_)&&(t instanceof S_||t instanceof C_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function R_(e,t){return e=Oe(e),t=Oe(t),e instanceof I_&&t instanceof I_&&e.firestore===t.firestore&&Jp(e._query,t._query)&&e.converter===t.converter}var O_=function(){function e(){var t=this;G(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Ck(this,"async_queue_retry"),this.Ra=function(){var e=Sk();e&&hd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Sk();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return $(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=Sk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new bd;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=Fe(Ue().mark((function e(){var t=this;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),kg(e.t0)){e.next=12;break}throw e.t0;case 12:hd("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw dd("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=ww.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&md()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=Q(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Q(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function D_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Q(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var L_=function(){function e(){G(this,e),this._progressObserver={},this._taskCompletionResolver=new bd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return $(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),M_=function(e){J(n,e);var t=re(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new O_,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return $(n,[{key:"_terminate",value:function(){return this._firestoreClient||j_(this),this._firestoreClient.terminate()}}]),n}(E_);function F_(e){return e._firestoreClient||j_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function j_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new d_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Yb(e._authCredentials,e._appCheckCredentials,e._queue,r)}function U_(e,t,n){var r=new bd;return e.asyncQueue.enqueue(Fe(Ue().mark((function i(){return Ue().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Xb(e,n);case 3:return i.next=5,Zb(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===kd.FAILED_PRECONDITION||e.code===kd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function V_(e){return function(e){return e.asyncQueue.enqueue(Fe(Ue().mark((function t(){var n,r;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a_(e);case 2:return n=t.sent,t.next=5,s_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=yd(e);return t.Gr.delete(0),Lk(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(F_(e=b_(e,M_)))}function B_(e){return function(e){return e.asyncQueue.enqueue(Fe(Ue().mark((function t(){var n,r;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a_(e);case 2:return n=t.sent,t.next=5,s_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yd(t)).Gr.add(0),e.next=4,Fk(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(F_(e=b_(e,M_)))}function z_(e,t){var n=F_(e=b_(e,M_)),r=new L_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Kb(e,t)}(function(e,t){if(e instanceof Uint8Array)return Wb(e,t);if(e instanceof ArrayBuffer)return Wb(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Ik(t));e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Vb,t.next=3,u_(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function q_(e,t){return function(e,t){return e.asyncQueue.enqueue(Fe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=yd(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,o_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(F_(e=b_(e,M_)),t).then((function(t){return t?new I_(e,null,t.query):null}))}function H_(e){if(e._initialized||e._terminated)throw new wd(kd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var W_=function(){function e(){G(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new wd(kd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hd(n)}return $(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var G_=function(){function e(t){G(this,e),this._byteString=t}return $(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Gd.fromBase64String(t))}catch(t){throw new wd(kd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Gd.fromUint8Array(t))}}]),e}(),K_=$((function e(t){G(this,e),this._methodName=t})),$_=function(){function e(t,n){if(G(this,e),!isFinite(t)||t<-90||t>90)throw new wd(kd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new wd(kd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return $(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Od(this._lat,e._lat)||Od(this._long,e._long)}}]),e}(),Q_=/^__.*__$/,Y_=function(){function e(t,n,r){G(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return $(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Pv(e,this.data,this.fieldMask,t,this.fieldTransforms):new Av(e,this.data,t,this.fieldTransforms)}}]),e}(),X_=function(){function e(t,n,r){G(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return $(e,[{key:"toMutation",value:function(e,t){return new Pv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function J_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw md()}}var Z_=function(){function e(t,n,r,i,a,o){G(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return $(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return kx(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(J_(this.xa)&&Q_.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),ex=function(){function e(t,n,r){G(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Ik(t)}return $(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Z_({xa:e,methodName:t,Ka:n,path:Hd.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function tx(e){var t=e._freezeSettings(),n=Ik(e._databaseId);return new ex(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nx(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);vx("Data must be an object, but it was:",o,r);var s,u,c=dx(r,o);if(a.merge)s=new Wd(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Q(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=mx(t,d,n);if(!o.contains(p))throw new wd(kd.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));wx(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Wd(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Y_(new yp(c),s,u)}var rx=function(e){J(n,e);var t=re(n);function n(){return G(this,n),t.apply(this,arguments)}return $(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(K_);function ix(e,t,n){return new Z_({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var ax=function(e){J(n,e);var t=re(n);function n(){return G(this,n),t.apply(this,arguments)}return $(n,[{key:"_toFieldTransform",value:function(e){return new kv(e.path,new fv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(K_),ox=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e)).Qa=r,i}return $(n,[{key:"_toFieldTransform",value:function(e){var t=ix(this,e,!0),n=this.Qa.map((function(e){return hx(e,t)})),r=new hv(n);return new kv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(K_),sx=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e)).Qa=r,i}return $(n,[{key:"_toFieldTransform",value:function(e){var t=ix(this,e,!0),n=this.Qa.map((function(e){return hx(e,t)})),r=new pv(n);return new kv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(K_),ux=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e)).Wa=r,i}return $(n,[{key:"_toFieldTransform",value:function(e){var t=new mv(e.k,ov(e.k,this.Wa));return new kv(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(K_);function cx(e,t,n,r){var i=e.ja(1,t,n);vx("Data must be an object, but it was:",i,r);var a=[],o=yp.empty();Ud(r,(function(e,r){var s=yx(t,e,n);r=Oe(r);var u=i.La(s);if(r instanceof rx)a.push(s);else{var c=hx(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Wd(a);return new X_(o,s,i.fieldTransforms)}function lx(e,t,n,r,i,a){var o=e.ja(1,t,n),s=[mx(t,r,n)],u=[i];if(a.length%2!=0)throw new wd(kd.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(mx(t,a[c])),u.push(a[c+1]);for(var l=[],f=yp.empty(),h=s.length-1;h>=0;--h)if(!wx(l,s[h])){var d=s[h],p=u[h];p=Oe(p);var v=o.La(d);if(p instanceof rx)l.push(d);else{var m=hx(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Wd(l);return new X_(f,g,o.fieldTransforms)}function fx(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return hx(n,e.ja(r?4:3,t))}function hx(e,t){if(px(e=Oe(e)))return vx("Unsupported field value:",t,e),dx(e,t);if(e instanceof K_)return function(e,t){if(!J_(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Q(e);try{for(a.s();!(n=a.n()).done;){var o=hx(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Oe(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ov(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Md.fromDate(e);return{timestampValue:pm(t.k,n)}}if(e instanceof Md){var r=new Md(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:pm(t.k,r)}}if(e instanceof $_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof G_)return{bytesValue:vm(t.k,e._byteString)};if(e instanceof S_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ym(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(w_(e)))}(e,t)}function dx(e,t){var n={};return Vd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ud(e,(function(e,r){var i=hx(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function px(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Md||e instanceof $_||e instanceof G_||e instanceof S_||e instanceof K_)}function vx(e,t,n){if(!px(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=w_(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function mx(e,t,n){if((t=Oe(t))instanceof W_)return t._internalPath;if("string"==typeof t)return yx(e,t);throw kx("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var gx=new RegExp("[~\\*/\\[\\]]");function yx(e,t,n){if(t.search(gx)>=0)throw kx("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ie(W_,Le(t.split(".")))._internalPath}catch(r){throw kx("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function kx(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new wd(kd.INVALID_ARGUMENT,s+e+u)}function wx(e,t){return e.some((function(e){return e.isEqual(t)}))}var bx=function(){function e(t,n,r,i,a){G(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return $(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new S_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new _x(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(xx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),_x=function(e){J(n,e);var t=re(n);function n(){return G(this,n),t.apply(this,arguments)}return $(n,[{key:"data",value:function(){return Mt(Z(n.prototype),"data",this).call(this)}}]),n}(bx);function xx(e,t){return"string"==typeof t?yx(e,t):t instanceof W_?t._internalPath:t._delegate._internalPath}var Ex=function(){function e(t,n){G(this,e),this.hasPendingWrites=t,this.fromCache=n}return $(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Tx=function(e){J(n,e);var t=re(n);function n(e,r,i,a,o,s){var u;return G(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return $(n,[{key:"exists",value:function(){return Mt(Z(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Sx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(xx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(bx),Sx=function(e){J(n,e);var t=re(n);function n(){return G(this,n),t.apply(this,arguments)}return $(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Mt(Z(n.prototype),"data",this).call(this,e)}}]),n}(Tx),Ix=function(){function e(t,n,r,i){G(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ex(i.hasPendingWrites,i.fromCache),this.query=r}return $(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Sx(n._firestore,n._userDataWriter,r.key,r,new Ex(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wd(kd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Sx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ex(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Sx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ex(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Cx(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Cx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return md()}}function Ax(e,t){return e instanceof Tx&&t instanceof Tx?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ix&&t instanceof Ix&&e._firestore===t._firestore&&R_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Px(e){if(Wp(e)&&0===e.explicitOrderBy.length)throw new wd(kd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nx=$((function e(){G(this,e)}));function Rx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Ox=function(e){J(n,e);var t=re(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return $(n,[{key:"_apply",value:function(e){var t=tx(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new wd(kd.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){Hx(o,a);var u,c=[],l=Q(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(qx(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=qx(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Hx(o,a),s=fx(n,"where",o,"in"===a||"not-in"===a);var h=Sp.create(i,a,s);return function(e,t){if(t.V()){var n=Kp(e);if(null!==n&&!n.isEqual(t.field))throw new wd(kd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Gp(e);null!==r&&Wx(e,t.field,r)}var i=function(e,t){var n,r=Q(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new wd(kd.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new wd(kd.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new I_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Bp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Nx);var Dx=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return $(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new wd(kd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new wd(kd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Fp(t,n);return function(e,t){if(null===Gp(e)){var n=Kp(e);null!==n&&Wx(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new I_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Bp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Nx);var Lx=function(e){J(n,e);var t=re(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return $(n,[{key:"_apply",value:function(e){return new I_(e.firestore,e.converter,Xp(e._query,this.Ya,this.Xa))}}]),n}(Nx);var Mx=function(e){J(n,e);var t=re(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return $(n,[{key:"_apply",value:function(e){var t=zx(e,this.type,this.Za,this.tc);return new I_(e.firestore,e.converter,function(e,t){return new Bp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Nx);function Fx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Mx("startAt",t,!0)}function jx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Mx("startAfter",t,!1)}var Ux=function(e){J(n,e);var t=re(n);function n(e,r,i){var a;return G(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return $(n,[{key:"_apply",value:function(e){var t=zx(e,this.type,this.Za,this.tc);return new I_(e.firestore,e.converter,function(e,t){return new Bp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Nx);function Vx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ux("endBefore",t,!0)}function Bx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ux("endAt",t,!1)}function zx(e,t,n,r){if(n[0]=Oe(n[0]),n[0]instanceof bx)return function(e,t,n,r,i){if(!r)throw new wd(kd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Q(Qp(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(fp(t,r.key));else{var c=r.data.field(u.field);if(Xd(c))throw new wd(kd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new wd(kd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Lp(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=tx(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new wd(kd.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new wd(kd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!$p(e)&&-1!==c.indexOf("/"))throw new wd(kd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(zd.fromString(c));if(!rp.isDocumentKey(l))throw new wd(kd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new rp(l);s.push(fp(t,f))}else{var h=fx(n,r,c);s.push(h)}}return new Lp(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function qx(e,t,n){if("string"==typeof(n=Oe(n))){if(""===n)throw new wd(kd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!$p(t)&&-1!==n.indexOf("/"))throw new wd(kd.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(zd.fromString(n));if(!rp.isDocumentKey(r))throw new wd(kd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return fp(e,new rp(r))}if(n instanceof S_)return fp(e,n._key);throw new wd(kd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(w_(n),"."))}function Hx(e,t){if(!Array.isArray(e)||0===e.length)throw new wd(kd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new wd(kd.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Wx(e,t,n){if(!n.isEqual(t))throw new wd(kd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Gx=function(){function e(){G(this,e)}return $(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ip(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw md()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ud(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new $_(Qd(e.latitude),Qd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Jd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Zd(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=$d(e);return new Md(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=zd.fromString(e);gd(Hm(n));var r=new p_(n.get(1),n.get(3)),i=new rp(n.popFirst(5));return r.isEqual(t)||dd("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Kx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var $x=function(e){J(n,e);var t=re(n);function n(e){var r;return G(this,n),(r=t.call(this)).firestore=e,r}return $(n,[{key:"convertBytes",value:function(e){return new G_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new S_(this.firestore,null,t)}}]),n}(Gx),Qx=function(){function e(t,n){G(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=tx(t)}return $(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Yx(e,this._firestore),i=Kx(r.converter,t,n),a=nx(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,bv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Yx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Oe(t))||t instanceof W_?lx(this._dataReader,"WriteBatch.update",i._key,t,n,o):cx(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,bv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Yx(e,this._firestore);return this._mutations=this._mutations.concat(new Mv(t._key,bv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new wd(kd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Yx(e,t){if((e=Oe(e)).firestore!==t)throw new wd(kd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Xx=function(e){J(n,e);var t=re(n);function n(e){var r;return G(this,n),(r=t.call(this)).firestore=e,r}return $(n,[{key:"convertBytes",value:function(e){return new G_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new S_(this.firestore,null,t)}}]),n}(Gx);function Jx(e){e=b_(e,S_);var t=b_(e.firestore,M_),n=F_(t),r=new Xx(t);return function(e,t){var n=new bd;return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function r(){return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Fe(Ue().mark((function e(t,n,r){var i,a;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=yd(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new wd(kd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=bw(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,o_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Tx(t,r,e._key,n,new Ex(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Zx(e){e=b_(e,I_);var t=b_(e.firestore,M_),n=F_(t),r=new Xx(t);return function(e,t){var n=new bd;return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function r(){return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Fe(Ue().mark((function e(t,n,r){var i,a,o,s,u;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wy(t,n,!0);case 3:i=e.sent,a=new Bw(n,i.zn),o=a.bo(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=bw(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,o_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Ix(t,r,e,n)}))}function eE(e,t,n){e=b_(e,S_);var r=b_(e.firestore,M_),i=Kx(e.converter,t,n);return iE(r,[nx(tx(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,bv.none())])}function tE(e,t,n){e=b_(e,S_);for(var r=b_(e.firestore,M_),i=tx(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return iE(r,[("string"==typeof(t=Oe(t))||t instanceof W_?lx(i,"updateDoc",e._key,t,n,o):cx(i,"updateDoc",e._key,t)).toMutation(e._key,bv.exists(!0))])}function nE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Oe(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||D_(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(D_(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof S_)l=b_(e.firestore,M_),f=qp(e._key.path),c={next:function(t){n[u]&&n[u](aE(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=b_(e,I_);l=b_(p.firestore,M_),f=p._query;var v=new Xx(l);c={next:function(e){n[u]&&n[u](new Ix(l,v,p,e))},error:n[u+1],complete:n[u+2]},Px(e._query)}return function(e,t,n,r){var i=new Gb(r),a=new Dw(t,i,n);return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Iw,t.next=3,c_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Aw,t.next=3,c_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(F_(l),f,h,c)}function rE(e,t){return function(e,t){var n=new Gb(t);return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){yd(e).io.add(t),t.next()},t.next=3,c_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){yd(e).io.delete(t)},t.next=3,c_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(F_(e=b_(e,M_)),D_(t)?t:{next:t})}function iE(e,t){return function(e,t){var n=new bd;return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function r(){return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Xw,r.next=3,u_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(F_(e),t)}function aE(e,t,n){var r=n.docs.get(t._key),i=new Xx(e);return new Tx(e,i,t._key,r,new Ex(n.hasPendingWrites,n.fromCache),t.converter)}var oE=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e,r))._firestore=e,i}return $(n,[{key:"get",value:function(e){var t=this,r=Yx(e,this._firestore),i=new Xx(this._firestore);return Mt(Z(n.prototype),"get",this).call(this,e).then((function(e){return new Tx(t._firestore,i,r._key,e._document,new Ex(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){G(this,e),this._firestore=t,this._transaction=n,this._dataReader=tx(t)}return $(e,[{key:"get",value:function(e){var t=this,n=Yx(e,this._firestore),r=new $x(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return md();var i=e[0];if(i.isFoundDocument())return new bx(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new bx(t._firestore,r,n._key,null,n.converter);throw md()}))}},{key:"set",value:function(e,t,n){var r=Yx(e,this._firestore),i=Kx(r.converter,t,n),a=nx(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Yx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Oe(t))||t instanceof W_?lx(this._dataReader,"Transaction.update",i._key,t,n,o):cx(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Yx(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function sE(e,t){return function(e,t){var n=new bd;return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function r(){var i;return Ue().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return r_(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Qb(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(F_(e=b_(e,M_)),(function(n){return t(new oE(e,n))}))}function uE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ox("arrayUnion",t)}function cE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sx("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){cd=e}(kt),lt(new Ve("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new M_(i,new Td(e.getProvider("auth-internal")),new Ad(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Tt(sd,"3.4.1",e),Tt(sd,"3.4.1","esm2017")}();function lE(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new wd("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function fE(){if("undefined"===typeof Uint8Array)throw new wd("unimplemented","Uint8Arrays are not available in this environment.")}function hE(){if("undefined"==typeof atob)throw new wd("unimplemented","Blobs are unavailable in Firestore in this environment.")}var dE=function(){function e(t){G(this,e),this._delegate=t}return $(e,[{key:"toBase64",value:function(){return hE(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return fE(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return hE(),new e(G_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return fE(),new e(G_.fromUint8Array(t))}}]),e}();function pE(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Q(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var vE=function(){function e(){G(this,e)}return $(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){H_(e=b_(e,M_));var n=F_(e),r=e._freezeSettings(),i=new Hb;return U_(n,i,new zb(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){H_(e=b_(e,M_));var t=F_(e),n=e._freezeSettings(),r=new Hb;return U_(t,r,new qb(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new wd(kd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new bd;return e._queue.enqueueAndForgetEvenWhileRestricted(Fe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mg.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,mg.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Cy(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),mE=function(){function e(t,n,r){var i=this;G(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof p_||(this._appCompat=t)}return $(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||pd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return V_(this._delegate)}},{key:"disableNetwork",value:function(){return B_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&g_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new bd;return e.asyncQueue.enqueueAndForget(Fe(Ue().mark((function n(){return Ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ub,n.next=3,u_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(F_(e=b_(e,M_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return rE(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new wd("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new PE(this,A_(this._delegate,e))}catch(t){throw _E(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new bE(this,P_(this._delegate,e))}catch(t){throw _E(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new IE(this,function(e,t){if(e=b_(e,E_),m_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new wd(kd.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new I_(e,null,function(e){return new Bp(zd.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw _E(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return sE(this._delegate,(function(n){return e(new yE(t,n))}))}},{key:"batch",value:function(){var e=this;return F_(this._delegate),new kE(new Qx(this._delegate,(function(t){return iE(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return z_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return q_(this._delegate,e).then((function(e){return e?new IE(t,e):null}))}}]),e}(),gE=function(e){J(n,e);var t=re(n);function n(e){var r;return G(this,n),(r=t.call(this)).firestore=e,r}return $(n,[{key:"convertBytes",value:function(e){return new dE(new G_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return bE.forKey(t,this.firestore,null)}}]),n}(Gx);var yE=function(){function e(t,n){G(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new gE(t)}return $(e,[{key:"get",value:function(e){var t=this,n=NE(e);return this._delegate.get(n).then((function(e){return new TE(t._firestore,new Tx(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=NE(e);return n?(lE("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=NE(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=NE(e);return this._delegate.delete(t),this}}]),e}(),kE=function(){function e(t){G(this,e),this._delegate=t}return $(e,[{key:"set",value:function(e,t,n){var r=NE(e);return n?(lE("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=NE(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=NE(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),wE=function(){function e(t,n,r){G(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return $(e,[{key:"fromFirestore",value:function(e,t){var n=new Sx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new SE(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new gE(t),n),i.set(n,a)),a}}]),e}();wE.INSTANCES=new WeakMap;var bE=function(){function e(t,n){G(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new gE(t)}return $(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new PE(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new PE(this.firestore,A_(this._delegate,e))}catch(t){throw _E(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Oe(e))instanceof S_&&N_(this._delegate,e)}},{key:"set",value:function(e,t){t=lE("DocumentReference.set",t);try{return t?eE(this._delegate,e,t):eE(this._delegate,e)}catch(n){throw _E(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?tE(this._delegate,e):tE.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw _E(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return iE(b_(e.firestore,M_),[new Mv(e._key,bv.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xE(n),a=EE(n,(function(t){return new TE(e.firestore,new Tx(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return nE(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Jx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=b_(e,S_);var t=b_(e.firestore,M_);return f_(F_(t),e._key,{source:"server"}).then((function(n){return aE(t,e,n)}))}(this._delegate):function(e){e=b_(e,S_);var t=b_(e.firestore,M_);return f_(F_(t),e._key).then((function(n){return aE(t,e,n)}))}(this._delegate),t.then((function(e){return new TE(n.firestore,new Tx(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(wE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new wd("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new S_(n._delegate,r,new rp(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new S_(n._delegate,r,t))}}]),e}();function _E(e,t,n){return e.message=e.message.replace(t,n),e}function xE(e){var t,n=Q(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!pE(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function EE(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=pE(e[0])?e[0]:pE(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var TE=function(){function e(t,n){G(this,e),this._firestore=t,this._delegate=n}return $(e,[{key:"ref",get:function(){return new bE(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Ax(this._delegate,e._delegate)}}]),e}(),SE=function(e){J(n,e);var t=re(n);function n(){return G(this,n),t.apply(this,arguments)}return $(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||md()}(void 0!==t),t}}]),n}(TE),IE=function(){function e(t,n){G(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new gE(t)}return $(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Rx(this._delegate,function(e,t,n){var r=t,i=xx("where",e);return new Ox(i,r,n)}(t,n,r)))}catch(i){throw _E(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Rx(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=xx("orderBy",e);return new Dx(n,t)}(t,n)))}catch(r){throw _E(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Rx(this._delegate,function(e){return __("limit",e),new Lx("limit",e,"F")}(t)))}catch(n){throw _E(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Rx(this._delegate,function(e){return __("limitToLast",e),new Lx("limitToLast",e,"L")}(t)))}catch(n){throw _E(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Rx(this._delegate,Fx.apply(void 0,arguments)))}catch(t){throw _E(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Rx(this._delegate,jx.apply(void 0,arguments)))}catch(t){throw _E(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Rx(this._delegate,Vx.apply(void 0,arguments)))}catch(t){throw _E(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Rx(this._delegate,Bx.apply(void 0,arguments)))}catch(t){throw _E(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return R_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Zx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=b_(e,I_);var t=b_(e.firestore,M_),n=F_(t),r=new Xx(t);return h_(n,e._query,{source:"server"}).then((function(n){return new Ix(t,r,e,n)}))}(this._delegate):function(e){e=b_(e,I_);var t=b_(e.firestore,M_),n=F_(t),r=new Xx(t);return Px(e._query),h_(n,e._query).then((function(n){return new Ix(t,r,e,n)}))}(this._delegate),t.then((function(e){return new AE(n.firestore,new Ix(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xE(n),a=EE(n,(function(t){return new AE(e.firestore,new Ix(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return nE(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(wE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),CE=function(){function e(t,n){G(this,e),this._firestore=t,this._delegate=n}return $(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new SE(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),AE=function(){function e(t,n){G(this,e),this._firestore=t,this._delegate=n}return $(e,[{key:"query",get:function(){return new IE(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new SE(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new CE(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new SE(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Ax(this._delegate,e._delegate)}}]),e}(),PE=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return $(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new bE(this.firestore,e):null}},{key:"doc",value:function(e){try{return new bE(this.firestore,void 0===e?P_(this._delegate):P_(this._delegate,e))}catch(t){throw _E(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=b_(e.firestore,M_),r=P_(e),i=Kx(e.converter,t);return iE(n,[nx(tx(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,bv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new bE(t.firestore,e)}))}},{key:"isEqual",value:function(e){return N_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(wE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(IE);function NE(e){return b_(e,S_)}var RE=function(){function e(){G(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ie(W_,n)}return $(e,[{key:"isEqual",value:function(e){return(e=Oe(e))instanceof W_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Hd.keyField().canonicalString())}}]),e}(),OE=function(){function e(t){G(this,e),this._delegate=t}return $(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new ax("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new rx("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=uE.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=cE.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new ux("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),DE={Firestore:mE,GeoPoint:$_,Timestamp:Md,Blob:dE,Transaction:yE,WriteBatch:kE,DocumentReference:bE,DocumentSnapshot:TE,Query:IE,QueryDocumentSnapshot:SE,QuerySnapshot:AE,CollectionReference:PE,FieldPath:RE,FieldValue:OE,setLogLevel:function(e){!function(e){ld.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ve("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},DE)))}(e,(function(e,t){return new mE(e,t,new vE)})),e.registerVersion("@firebase/firestore-compat","0.1.10")}(Dt);var LE="firebasestorage.googleapis.com",ME=function(e){J(n,e);var t=re(n);function n(e,r){var i;return G(this,n),(i=t.call(this,FE(e),"Firebase Storage: ".concat(r," (").concat(FE(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Y(i),n.prototype),i}return $(n,[{key:"_codeEquals",value:function(e){return FE(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(we);function FE(e){return"storage/"+e}function jE(){return new ME("unknown","An unknown error occurred, please check the error payload for server response.")}function UE(){return new ME("canceled","User canceled the upload/download.")}function VE(){return new ME("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function BE(e){return new ME("invalid-argument",e)}function zE(){return new ME("app-deleted","The Firebase app was deleted.")}function qE(e){return new ME("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function HE(e,t){return new ME("invalid-format","String does not match format '"+e+"': "+t)}function WE(e){throw new ME("internal-error","Internal error: "+e)}var GE,KE=function(){function e(t,n){G(this,e),this.bucket=t,this.path_=n}return $(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new ME("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===LE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new ME("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),$E=function(){function e(t){G(this,e),this.promise_=Promise.reject(t)}return $(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function QE(e){return"string"===typeof e||e instanceof String}function YE(e){return XE()&&e instanceof Blob}function XE(){return"undefined"!==typeof Blob}function JE(e,t,n,r){if(r<t)throw BE("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw BE("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function ZE(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function eT(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(GE||(GE={}));var tT=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;G(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return $(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=jE();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?zE():UE());else i(new ME("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new nT(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new nT(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===GE.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new nT(o,r))}else{var s=r.getErrorCode()===GE.ABORT;t(!1,new nT(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),nT=$((function e(t,n,r){G(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function rT(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function iT(){for(var e=rT(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(XE())return new Blob(n);throw new ME("unsupported-environment","This browser doesn't seem to support creating Blobs")}var aT={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},oT=$((function e(t,n){G(this,e),this.data=t,this.contentType=n||null}));function sT(e,t){switch(e){case aT.RAW:return new oT(uT(t));case aT.BASE64:case aT.BASE64URL:return new oT(cT(e,t));case aT.DATA_URL:return new oT(function(e){var t=new lT(e);return t.base64?cT(aT.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw HE(aT.DATA_URL,"Malformed data URL.")}return uT(t)}(t.rest)}(t),new lT(t).contentType)}throw jE()}function uT(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function cT(e,t){switch(e){case aT.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw HE(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case aT.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw HE(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw HE(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var lT=$((function e(t){G(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw HE(aT.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var fT=function(){function e(t,n){G(this,e);var r=0,i="";YE(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return $(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(YE(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(XE()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(iT.apply(null,i))}var a=n.map((function(e){return QE(e)?sT(aT.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function hT(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function dT(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function pT(e,t){return t}var vT=$((function e(t,n,r,i){G(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||pT})),mT=null;function gT(){if(mT)return mT;var e=[];e.push(new vT("bucket")),e.push(new vT("generation")),e.push(new vT("metageneration")),e.push(new vT("name","fullPath",!0));var t=new vT("name");t.xform=function(e,t){return function(e){return!QE(e)||e.length<2?e:dT(e)}(t)},e.push(t);var n=new vT("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new vT("timeCreated")),e.push(new vT("updated")),e.push(new vT("md5Hash",null,!0)),e.push(new vT("cacheControl",null,!0)),e.push(new vT("contentDisposition",null,!0)),e.push(new vT("contentEncoding",null,!0)),e.push(new vT("contentLanguage",null,!0)),e.push(new vT("contentType",null,!0)),e.push(new vT("metadata","customMetadata",!0)),mT=e}function yT(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new KE(n,r);return t._makeStorageReference(i)}})}(r,e),r}function kT(e,t,n){var r=hT(t);return null===r?null:yT(e,r,n)}function wT(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function bT(e,t,n){var r=hT(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Q(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new KE(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=Q(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new KE(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var _T=$((function e(t,n,r,i){G(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function xT(e){if(!e)throw jE()}function ET(e,t){return function(n,r){var i=kT(e,r,t);return xT(null!==i),i}}function TT(e,t){return function(n,r){var i=kT(e,r,t);return xT(null!==i),function(e,t,n,r){var i=hT(t);if(null===i)return null;if(!QE(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return ZE("/b/"+o(i)+"/o/"+o(a),n,r)+eT({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function ST(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new ME("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ME("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new ME("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new ME("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function IT(e){var t=ST(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new ME("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function CT(e,t,n){var r=ZE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new _T(r,"GET",ET(e,n),i);return a.errorHandler=IT(t),a}function AT(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=ZE(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new _T(o,"GET",function(e,t){return function(n,r){var i=bT(e,t,r);return xT(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=ST(t),u}function PT(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function NT(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=PT(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wT(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=fT.getBlob(c,r,l);if(null===f)throw VE();var h={name:u.fullPath},d=ZE(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new _T(d,"POST",ET(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=ST(t),v}var RT=$((function e(t,n,r,i){G(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function OT(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){xT(!1)}return xT(!!n&&-1!==(t||["active"]).indexOf(n)),n}var DT=262144;function LT(e,t,n,r,i,a,o,s){var u=new RT(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new ME("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw VE();var v=t.maxUploadRetryTime,m=new _T(n,"POST",(function(e,n){var i,o=OT(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?ET(t,a)(e,n):null,new RT(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=ST(e),m}var MT={STATE_CHANGED:"state_changed"},FT={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jT(e){switch(e){case"running":case"pausing":case"canceling":return FT.RUNNING;case"paused":return FT.PAUSED;case"success":return FT.SUCCESS;case"canceled":return FT.CANCELED;default:return FT.ERROR}}var UT=$((function e(t,n,r){G(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function VT(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var BT=function(){function e(){var t=this;G(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=GE.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=GE.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=GE.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return $(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw WE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw WE("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw WE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw WE("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw WE("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),zT=function(e){J(n,e);var t=re(n);function n(){return G(this,n),t.apply(this,arguments)}return $(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(BT);function qT(){return new zT}var HT=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;G(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=gT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return $(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=PT(t,r,i),s={name:o.fullPath},u=ZE(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=wT(o,n),f=e.maxUploadRetryTime,h=new _T(u,"POST",(function(e){var t;OT(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){xT(!1)}return xT(QE(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=ST(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,qT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new _T(n,"POST",(function(e){var t=OT(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){xT(!1)}n||xT(!1);var i=Number(n);return xT(!isNaN(i)),new RT(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=ST(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,qT,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=DT*this._chunkMultiplier,n=new RT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=LT(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,qT,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){DT*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=CT(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,qT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=NT(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,qT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=UE(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=jT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new UT(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(jT(this._state)){case FT.SUCCESS:VT(this._resolve.bind(null,this.snapshot))();break;case FT.CANCELED:case FT.ERROR:VT(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(jT(this._state)){case FT.RUNNING:case FT.PAUSED:e.next&&VT(e.next.bind(e,this.snapshot))();break;case FT.SUCCESS:e.complete&&VT(e.complete.bind(e))();break;default:e.error&&VT(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),WT=function(){function e(t,n){G(this,e),this._service=t,this._location=n instanceof KE?n:KE.makeFromUrl(n,t.host)}return $(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new KE(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return dT(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new KE(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw qE(e)}}]),e}();function GT(e,t,n){return KT.apply(this,arguments)}function KT(){return(KT=Fe(Ue().mark((function e(t,n,r){var i,a,o,s;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,$T(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,Le(s.prefixes)),(a=n.items).push.apply(a,Le(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,GT(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $T(e,t){null!=t&&"number"===typeof t.maxResults&&JE("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=AT(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,qT)}function QT(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=ZE(t.fullServerUrl(),e.host,e._protocol),a=wT(n,r),o=e.maxOperationRetryTime,s=new _T(i,"PATCH",ET(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=IT(t),s}(e.storage,e._location,t,gT());return e.storage.makeRequestWithTokens(n,qT)}function YT(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=ZE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new _T(r,"GET",TT(e,n),i);return a.errorHandler=IT(t),a}(e.storage,e._location,gT());return e.storage.makeRequestWithTokens(t,qT).then((function(e){if(null===e)throw new ME("no-download-url","The given file does not have any download URLs.");return e}))}function XT(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=ZE(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new _T(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=IT(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,qT)}function JT(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new KE(e._location.bucket,n);return new WT(e.storage,r)}function ZT(e,t){if(e instanceof rS){var n=e;if(null==n._bucket)throw new ME("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new WT(n,n._bucket);return null!=t?ZT(r,t):r}return void 0!==t?JT(e,t):e}function eS(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof rS)return new WT(e,t);throw BE("To use ref(service, url), the first argument must be a Storage instance.")}return ZT(e,t)}function tS(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:KE.makeFromBucketSpec(n,e)}function nS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:he(i,e.app.options.projectId))}var rS=function(){function e(t,n,r,i,a){G(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=LE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?KE.makeFromBucketSpec(i,this._host):tS(this._host,this.app.options)}return $(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=KE.makeFromBucketSpec(this._url,e):this._bucket=tS(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){JE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){JE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Fe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Fe(Ue().mark((function e(){var t,n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new WT(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new $E(zE());var a=function(e,t,n,r,i,a){var o=eT(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new tT(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Fe(Ue().mark((function e(t,n){var r,i,a,o;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),iS="@firebase/storage",aS="0.9.0",oS="storage";function sS(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new HT(e,new fT(t),n)}(e=Oe(e),t,n)}function uS(e){return function(e){e._throwIfRoot("getMetadata");var t=CT(e.storage,e._location,gT());return e.storage.makeRequestWithTokens(t,qT)}(e=Oe(e))}function cS(e){return function(e){var t={prefixes:[],items:[]};return GT(e,t).then((function(){return t}))}(e=Oe(e))}function lS(e,t){return eS(e=Oe(e),t)}function fS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};nS(e,t,n,r)}function hS(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new rS(r,i,a,n,kt)}lt(new Ve(oS,hS,"PUBLIC").setMultipleInstances(!0)),Tt(iS,aS,""),Tt(iS,aS,"esm2017");var dS=function(){function e(t,n,r){G(this,e),this._delegate=t,this.task=n,this.ref=r}return $(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),pS=function(){function e(t,n){G(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return $(e,[{key:"snapshot",get:function(){return new dS(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new dS(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new dS(e,i,i._ref))}:{next:t.next?function(e){return t.next(new dS(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),vS=function(){function e(t,n){G(this,e),this._delegate=t,this._service=n}return $(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new mS(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new mS(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),mS=function(){function e(t,n){G(this,e),this._delegate=t,this.storage=n}return $(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return JT(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new pS(sS(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aT.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=sT(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new pS(new HT(this._delegate,new fT(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return cS(this._delegate).then((function(t){return new vS(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return $T(e=Oe(e),t)}(this._delegate,e||void 0).then((function(e){return new vS(e,t.storage)}))}},{key:"getMetadata",value:function(){return uS(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return QT(e=Oe(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return YT(Oe(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),XT(Oe(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw qE(e)}}]),e}(),gS=function(){function e(t,n){G(this,e),this.app=t,this._delegate=n}return $(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(yS(e))throw BE("ref() expected a child path but got a URL, use refFromURL instead.");return new mS(lS(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!yS(e))throw BE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{KE.makeFromUrl(e,this._delegate.host)}catch(t){throw BE("refFromUrl() expected a valid full URL but got an invalid one.")}return new mS(lS(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fS(this._delegate,e,t,n)}}]),e}();function yS(e){return/^[A-Za-z]+:\/\//.test(e)}function kS(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new gS(r,i)}!function(e){var t={TaskState:FT,TaskEvent:MT,StringFormat:aT,Storage:gS,Reference:mS};e.INTERNAL.registerComponent(new Ve("storage-compat",kS,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.8")}(Dt);Dt.initializeApp({apiKey:"AIzaSyCQHR4wuzDSp2xFpNB9wb7R2ZrsKAH8uZI",authDomain:"netflix-clone-b920b.firebaseapp.com",databaseURL:"https://netflix-clone-b920b.firebaseio.com",projectId:"netflix-clone-b920b",storageBucket:"netflix-clone-b920b.appspot.com",messagingSenderId:"39262417152",appId:"1:39262417152:web:e59e0e00ad324ea5dbc3e5"});var wS=Dt,bS=Dt.auth(),_S=Dt.firestore(),xS=n(184);function ES(e){var t=e.isLogIn,n=e.newAccount,i=e.setNewAccount,a=c((0,r.useState)(!1),2),o=a[0],s=a[1],u=c((0,r.useState)(""),2),l=u[0],f=u[1],h=A();(0,r.useEffect)((function(){return window.addEventListener("scroll",(function(){window.scrollY>50?s(!0):s(!1)})),function(){window.removeEventListener("scroll",(function(){}))}}),[]);var d=function(){h("/"),f(""),window.location.reload()},p=function(e){"signin"===e.target.name?(console.log("\ub85c\uadf8\uc778\ubc84\ud2bc"),i(!1)):"signup"===e.target.name&&(console.log("\uac00\uc785\ubc84\ud2bc"),i(!0)),h("/auth"),console.log(n,i)};return(0,xS.jsx)(xS.Fragment,{children:(0,xS.jsxs)("nav",{className:"nav ".concat(o&&"nav__black"," "),children:[(0,xS.jsx)("img",{alt:"Netflix logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Netflix_2015_N_logo.svg/185px-Netflix_2015_N_logo.svg.png",className:"nav__logo_m",onClick:d,href:"/"}),(0,xS.jsx)("img",{alt:"Netflix logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/170px-Netflix_2015_logo.svg.png",className:"nav__logo_pc",onClick:d,href:"/"}),t&&(0,xS.jsx)("div",{className:"nav__inputs",children:(0,xS.jsxs)("div",{className:"nav__searchbar",children:[(0,xS.jsx)("input",{value:l,onChange:function(e){f(e.target.value),h("/search?q=".concat(e.target.value))},className:"nav__input",type:"text",placeholder:"Search"}),(0,xS.jsx)("img",{src:"https://img.icons8.com/ios-glyphs/30/ffffff/search--v1.png",className:"nav__inputIcon",alt:""})]})}),!0===t?(0,xS.jsxs)("div",{className:"nav__logins_done",children:[(0,xS.jsxs)("p",{className:"nav__userName",children:[bS.currentUser.displayName||bS.currentUser.email,"\ub2d8 \ubc18\uac11\uc2b5\ub2c8\ub2e4."]}),(0,xS.jsx)("img",{alt:"User logged",src:bS.currentUser.photoURL||"https://upload.wikimedia.org/wikipedia/commons/0/0b/Netflix-avatar.png?20201013161117",className:"nav__avatar"}),(0,xS.jsx)("button",{className:"nav__signin",onClick:function(){bS.signOut()},children:"\ub85c\uadf8\uc544\uc6c3"})]}):(0,xS.jsx)(xS.Fragment,{children:(0,xS.jsxs)("div",{className:"nav__logins",children:[(0,xS.jsx)("p",{className:"nav__logins-t ".concat(o&&"nav__black_logins-t"),children:"\ubb34\uc81c\ud55c\uc73c\ub85c \uc990\uae30\ub294 \uc2dc\ub9ac\uc988\uc640 \uc601\ud654"}),(0,xS.jsx)("button",{className:"nav__signup",onClick:p,href:"/auth",name:"signup",children:"\uc9c0\uae08 \uac00\uc785\ud558\uae30"}),(0,xS.jsx)("button",{className:"nav__signin ".concat(o&&"nav__black_signin"),onClick:p,href:"/auth",name:"signin",children:"\ub85c\uadf8\uc778"})]})})]})})}function TS(e){var t=e.isLogIn,n=c((0,r.useState)(""),2),i=n[0],a=n[1],o=A();return(0,xS.jsxs)(xS.Fragment,{children:[t&&(0,xS.jsx)("div",{className:"footer__inputs",children:(0,xS.jsxs)("div",{className:"footer__searchbar",children:[(0,xS.jsx)("input",{value:i,onChange:function(e){a(e.target.value),o("/search?q=".concat(e.target.value))},className:"footer__input",type:"text",placeholder:"Search"}),(0,xS.jsx)("img",{src:"https://img.icons8.com/ios-glyphs/30/ffffff/search--v1.png",className:"footer__inputIcon",alt:""})]})}),(0,xS.jsx)("div",{className:"FooterContainer",children:(0,xS.jsxs)("div",{className:"FooterLinkContainer",children:[(0,xS.jsx)("div",{className:"FooterLinkTitle",children:"\ub137\ud50c\ub9ad\uc2a4 \ub300\ud55c\ubbfc\uad6d"}),(0,xS.jsxs)("div",{className:"FooterLinkContent",children:[(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko/node.412",children:"\ub137\ud50c\ub9ad\uc2a4 \uc18c\uac1c"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\uc790\uc8fc \ubb3b\ub294 \uc9c8\ubb38"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\uace0\uac1d \uc13c\ud130"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\ubbf8\ub514\uc5b4 \uc13c\ud130"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\uc785\uc0ac \uc815\ubcf4"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\uc774\uc6a9 \uc57d\uad00"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\uac1c\uc778 \uc815\ubcf4"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\ud68c\uc0ac \uc815\ubcf4"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://fast.com",children:"\uc18d\ub3c4 \ud14c\uc2a4\ud2b8"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\ucfe0\ud0a4 \uc124\uc815"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\ubc95\uc801 \uace0\uc9c0"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\ubb38\uc758 \ud558\uae30"})]}),(0,xS.jsx)("div",{className:"FooterDescContainer",children:(0,xS.jsx)("div",{className:"FooterDescRights",children:"Netflix 2022 Rights Resverd."})})]})})]})}var SS=n(569),IS=n.n(SS)().create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"ce1fb6e7c3a8d77dec122e525aff0db5",language:"ko-KR"}});function CS(){var e=function(){var e=(0,r.useContext)(_).matches,t=e[e.length-1];return t?t.params:{}}().movieId,t=c((0,r.useState)({}),2),n=t[0],i=t[1];return(0,r.useEffect)((function(){function t(){return(t=Fe(Ue().mark((function t(){var n;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,IS.get("/movie/".concat(e));case 2:n=t.sent,i(n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),n?(0,xS.jsx)("section",{children:(0,xS.jsx)("img",{className:"modal__poster-img",src:"https://image.tmdb.org/t/p/original/".concat(n.backdrop_path),alt:"modal__poster-img"})}):null}function AS(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function PS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PS(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var RS={fetchNowPlaying:"movie/now_playing",fetchNetflixOriginals:"/discover/tv?with_networks=213",fetchTrending:"/trending/all/week",fetchTopRated:"/movie/top_rated",fetchActionMovies:"/discover/movie?with_genres=28",fetchComedyMovies:"/discover/movie?with_genres=35",fetchHorrorMovies:"/discover/movie?with_genres=27",fetchRomanceMovies:"/discover/movie?with_genres=10749",fetchDocumentaries:"/discover/movie?with_genres=99"},OS=n(441),DS=n(613),LS=n.n(DS);var MS=function(e){function t(e,r,u,c,h){for(var d,p,v,m,w,_=0,x=0,E=0,T=0,S=0,R=0,D=v=d=0,M=0,F=0,j=0,U=0,V=u.length,B=V-1,z="",q="",H="",W="";M<V;){if(p=u.charCodeAt(M),M===B&&0!==x+T+E+_&&(0!==x&&(p=47===x?10:47),T=E=_=0,V++,B++),0===x+T+E+_){if(M===B&&(0<F&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=u.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<B;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=u.substring(U,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=N}if(U=(v=t(r,F,v,p,h+1)).length,0<O&&(w=s(3,v,F=n(N,z,j),r,C,I,U,p,h,c),z=F.join(""),void 0!==w&&0===(U=(v=w.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:z=z.replace(b,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(g,"$1 $2"))+"{"+v+"}",v=1===P||2===P&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,j),v,c,h+1);H+=v,v=j=F=D=d=0,z="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(z=(0<F?z.replace(f,""):z).trim()).length))switch(0===D&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(U=(z=z.replace(" ",":")).length),0<O&&void 0!==(w=s(1,z,r,e,C,I,q.length,c,h,c))&&0===(U=(z=w.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=z+u.charAt(M);break}default:58!==z.charCodeAt(U-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}j=F=D=d=0,z="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===x?x=0:0===1+d&&107!==c&&0<z.length&&(F=1,z+="\0"),0<O*L&&s(0,z,r,e,C,I,q.length,c,h,c),I=1,C++;break;case 59:case 125:if(0===x+T+E+_){I++;break}default:switch(I++,m=u.charAt(M),p){case 9:case 32:if(0===T+_+x)switch(S){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===T+x+_&&(F=j=1,m="\f"+m);break;case 108:if(0===T+x+_+A&&0<D)switch(M-D){case 2:112===S&&58===u.charCodeAt(M-3)&&(A=S);case 8:111===R&&(A=R)}break;case 58:0===T+x+_&&(D=M);break;case 44:0===x+E+T+_&&(F=1,m+="\r");break;case 34:case 39:0===x&&(T=T===p?0:0===T?p:T);break;case 91:0===T+x+E&&_++;break;case 93:0===T+x+E&&_--;break;case 41:0===T+x+_&&E--;break;case 40:if(0===T+x+_){if(0===d)if(2*S+3*R===533);else d=1;E++}break;case 64:0===x+E+T+_+D+v&&(v=1);break;case 42:case 47:if(!(0<T+_+E))switch(x){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:x=47;break;case 220:U=M,x=42}break;case 42:47===p&&42===S&&U+2!==M&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,M+1)),m="",x=0)}}0===x&&(z+=m)}R=S,S=p,M++}if(0<(U=q.length)){if(F=r,0<O&&(void 0!==(w=s(2,q,F,e,C,I,U,c,h,c))&&0===(q=w).length))return W+q+H;if(q=F.join(",")+"{"+q+"}",0!==P*A){switch(2!==P||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(y,"::-webkit-input-$1")+q.replace(y,"::-moz-$1")+q.replace(y,":-ms-input-$1")+q}A=0}}return W+q+H}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===P||2===P&&a(u,1)?"-webkit-"+u+u:u}if(0===P||2===P&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(S,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(w,"tb");break;case 232:u=o.replace(w,"tb-rl");break;case 220:u=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(x,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(x,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,h=0,d=t;h<O;++h)switch(f=R[h].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?P=1:(P=2,D=e):P=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=s(-1,n,r,r,C,I,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(N,r,n,0,0);return 0<O&&(void 0!==(i=s(-2,a,r,r,C,I,a.length,0,0,0))&&(a=i)),"",A=0,I=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,k=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,x=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,I=1,C=1,A=0,P=1,N=[],R=[],O=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:O=R.length=0;break;default:if("function"===typeof t)R[O++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},FS={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var jS=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},US=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,VS=jS((function(e){return US.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),BS=VS,zS=n(110),qS=n.n(zS);function HS(){return(HS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var WS=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},GS=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,OS.typeOf)(e)},KS=Object.freeze([]),$S=Object.freeze({});function QS(e){return"function"==typeof e}function YS(e){return e.displayName||e.name||"Component"}function XS(e){return e&&"string"==typeof e.styledComponentId}var JS="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/Netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCQHR4wuzDSp2xFpNB9wb7R2ZrsKAH8uZI",REACT_APP_AUTH_DOMAIN:"netflix-clone-b920b.firebaseapp.com",REACT_APP_DATABASE_URL:"https://netflix-clone-b920b.firebaseio.com",REACT_APP_PROJECT_ID:"netflix-clone-b920b",REACT_APP_STORAGE_BUCKET:"netflix-clone-b920b.appspot.com",REACT_APP_MESSAGIN_ID:"39262417152",REACT_APP_APP_ID:"1:39262417152:web:e59e0e00ad324ea5dbc3e5"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/Netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCQHR4wuzDSp2xFpNB9wb7R2ZrsKAH8uZI",REACT_APP_AUTH_DOMAIN:"netflix-clone-b920b.firebaseapp.com",REACT_APP_DATABASE_URL:"https://netflix-clone-b920b.firebaseio.com",REACT_APP_PROJECT_ID:"netflix-clone-b920b",REACT_APP_STORAGE_BUCKET:"netflix-clone-b920b.appspot.com",REACT_APP_MESSAGIN_ID:"39262417152",REACT_APP_APP_ID:"1:39262417152:web:e59e0e00ad324ea5dbc3e5"}.SC_ATTR)||"data-styled",ZS="undefined"!=typeof window&&"HTMLElement"in window,eI=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCQHR4wuzDSp2xFpNB9wb7R2ZrsKAH8uZI",REACT_APP_AUTH_DOMAIN:"netflix-clone-b920b.firebaseapp.com",REACT_APP_DATABASE_URL:"https://netflix-clone-b920b.firebaseio.com",REACT_APP_PROJECT_ID:"netflix-clone-b920b",REACT_APP_STORAGE_BUCKET:"netflix-clone-b920b.appspot.com",REACT_APP_MESSAGIN_ID:"39262417152",REACT_APP_APP_ID:"1:39262417152:web:e59e0e00ad324ea5dbc3e5"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/Netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCQHR4wuzDSp2xFpNB9wb7R2ZrsKAH8uZI",REACT_APP_AUTH_DOMAIN:"netflix-clone-b920b.firebaseapp.com",REACT_APP_DATABASE_URL:"https://netflix-clone-b920b.firebaseio.com",REACT_APP_PROJECT_ID:"netflix-clone-b920b",REACT_APP_STORAGE_BUCKET:"netflix-clone-b920b.appspot.com",REACT_APP_MESSAGIN_ID:"39262417152",REACT_APP_APP_ID:"1:39262417152:web:e59e0e00ad324ea5dbc3e5"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/Netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCQHR4wuzDSp2xFpNB9wb7R2ZrsKAH8uZI",REACT_APP_AUTH_DOMAIN:"netflix-clone-b920b.firebaseapp.com",REACT_APP_DATABASE_URL:"https://netflix-clone-b920b.firebaseio.com",REACT_APP_PROJECT_ID:"netflix-clone-b920b",REACT_APP_STORAGE_BUCKET:"netflix-clone-b920b.appspot.com",REACT_APP_MESSAGIN_ID:"39262417152",REACT_APP_APP_ID:"1:39262417152:web:e59e0e00ad324ea5dbc3e5"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/Netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCQHR4wuzDSp2xFpNB9wb7R2ZrsKAH8uZI",REACT_APP_AUTH_DOMAIN:"netflix-clone-b920b.firebaseapp.com",REACT_APP_DATABASE_URL:"https://netflix-clone-b920b.firebaseio.com",REACT_APP_PROJECT_ID:"netflix-clone-b920b",REACT_APP_STORAGE_BUCKET:"netflix-clone-b920b.appspot.com",REACT_APP_MESSAGIN_ID:"39262417152",REACT_APP_APP_ID:"1:39262417152:web:e59e0e00ad324ea5dbc3e5"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCQHR4wuzDSp2xFpNB9wb7R2ZrsKAH8uZI",REACT_APP_AUTH_DOMAIN:"netflix-clone-b920b.firebaseapp.com",REACT_APP_DATABASE_URL:"https://netflix-clone-b920b.firebaseio.com",REACT_APP_PROJECT_ID:"netflix-clone-b920b",REACT_APP_STORAGE_BUCKET:"netflix-clone-b920b.appspot.com",REACT_APP_MESSAGIN_ID:"39262417152",REACT_APP_APP_ID:"1:39262417152:web:e59e0e00ad324ea5dbc3e5"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/Netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCQHR4wuzDSp2xFpNB9wb7R2ZrsKAH8uZI",REACT_APP_AUTH_DOMAIN:"netflix-clone-b920b.firebaseapp.com",REACT_APP_DATABASE_URL:"https://netflix-clone-b920b.firebaseio.com",REACT_APP_PROJECT_ID:"netflix-clone-b920b",REACT_APP_STORAGE_BUCKET:"netflix-clone-b920b.appspot.com",REACT_APP_MESSAGIN_ID:"39262417152",REACT_APP_APP_ID:"1:39262417152:web:e59e0e00ad324ea5dbc3e5"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/Netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCQHR4wuzDSp2xFpNB9wb7R2ZrsKAH8uZI",REACT_APP_AUTH_DOMAIN:"netflix-clone-b920b.firebaseapp.com",REACT_APP_DATABASE_URL:"https://netflix-clone-b920b.firebaseio.com",REACT_APP_PROJECT_ID:"netflix-clone-b920b",REACT_APP_STORAGE_BUCKET:"netflix-clone-b920b.appspot.com",REACT_APP_MESSAGIN_ID:"39262417152",REACT_APP_APP_ID:"1:39262417152:web:e59e0e00ad324ea5dbc3e5"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/Netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCQHR4wuzDSp2xFpNB9wb7R2ZrsKAH8uZI",REACT_APP_AUTH_DOMAIN:"netflix-clone-b920b.firebaseapp.com",REACT_APP_DATABASE_URL:"https://netflix-clone-b920b.firebaseio.com",REACT_APP_PROJECT_ID:"netflix-clone-b920b",REACT_APP_STORAGE_BUCKET:"netflix-clone-b920b.appspot.com",REACT_APP_MESSAGIN_ID:"39262417152",REACT_APP_APP_ID:"1:39262417152:web:e59e0e00ad324ea5dbc3e5"}.SC_DISABLE_SPEEDY));function tI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var nI=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&tI(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),rI=new Map,iI=new Map,aI=1,oI=function(e){if(rI.has(e))return rI.get(e);for(;iI.has(aI);)aI++;var t=aI++;return rI.set(e,t),iI.set(t,e),t},sI=function(e){return iI.get(e)},uI=function(e,t){t>=aI&&(aI=t+1),rI.set(e,t),iI.set(t,e)},cI="style["+JS+'][data-styled-version="5.3.3"]',lI=new RegExp("^"+JS+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),fI=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},hI=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(lI);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(uI(c,u),fI(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},dI=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},pI=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(JS))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(JS,"active"),r.setAttribute("data-styled-version","5.3.3");var o=dI();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},vI=function(){function e(e){var t=this.element=pI(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}tI(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),mI=function(){function e(e){var t=this.element=pI(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),gI=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),yI=ZS,kI={isServer:!ZS,useCSSOMInjection:!eI},wI=function(){function e(e,t,n){void 0===e&&(e=$S),void 0===t&&(t={}),this.options=HS({},kI,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&ZS&&yI&&(yI=!1,function(e){for(var t=document.querySelectorAll(cI),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(JS)&&(hI(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return oI(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(HS({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new gI(i):r?new vI(i):new mI(i),new nI(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(oI(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(oI(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(oI(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=sI(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=JS+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),bI=/(a)(d)/gi,_I=function(e){return String.fromCharCode(e+(e>25?39:97))};function xI(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=_I(t%52)+n;return(_I(t%52)+n).replace(bI,"$1-$2")}var EI=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},TI=function(e){return EI(5381,e)};function SI(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(QS(n)&&!XS(n))return!1}return!0}var II=TI("5.3.3"),CI=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&SI(e),this.componentId=t,this.baseHash=EI(II,t),this.baseStyle=n,wI.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=GI(this.rules,e,t,n).join(""),o=xI(EI(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=EI(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=GI(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=EI(c,p+f),l+=p}}if(l){var v=xI(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),AI=/^\s*\/\/.*$/gm,PI=[":","[",".","#"];function NI(e){var t,n,r,i,a=void 0===e?$S:e,o=a.options,s=void 0===o?$S:o,u=a.plugins,c=void 0===u?KS:u,l=new MS(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==PI.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var u=e.replace(AI,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||tI(15),EI(e,t.name)}),5381).toString():"",p}var RI=r.createContext(),OI=(RI.Consumer,r.createContext()),DI=(OI.Consumer,new wI),LI=NI();function MI(){return(0,r.useContext)(RI)||DI}function FI(){return(0,r.useContext)(OI)||LI}function jI(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=MI(),o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,r.useMemo)((function(){return NI({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){LS()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(RI.Provider,{value:o},r.createElement(OI.Provider,{value:s},e.children))}var UI=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=LI);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return tI(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=LI),this.name+e.hash},e}(),VI=/([A-Z])/,BI=/([A-Z])/g,zI=/^ms-/,qI=function(e){return"-"+e.toLowerCase()};function HI(e){return VI.test(e)?e.replace(BI,qI).replace(zI,"-ms-"):e}var WI=function(e){return null==e||!1===e||""===e};function GI(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=GI(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return WI(e)?"":XS(e)?"."+e.styledComponentId:QS(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:GI(e(t),t,n,r):e instanceof UI?n?(e.inject(n,r),e.getName(r)):e:GS(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!WI(t[o])&&(Array.isArray(t[o])&&t[o].isCss||QS(t[o])?a.push(HI(o)+":",t[o],";"):GS(t[o])?a.push.apply(a,e(t[o],o)):a.push(HI(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in FS?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var KI=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function $I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return QS(e)||GS(e)?KI(GI(WS(KS,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:KI(GI(WS(e,n)))}new Set;var QI=function(e,t,n){return void 0===n&&(n=$S),e.theme!==n.theme&&e.theme||t||n.theme},YI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,XI=/(^-|-$)/g;function JI(e){return e.replace(YI,"-").replace(XI,"")}var ZI=function(e){return xI(TI(e)>>>0)};function eC(e){return"string"==typeof e&&!0}var tC=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},nC=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function rC(e,t,n){var r=e[n];tC(t)&&tC(r)?iC(r,t):e[n]=t}function iC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(tC(o))for(var s in o)nC(s)&&rC(e,o[s],s)}return e}var aC=r.createContext();aC.Consumer;var oC={};function sC(e,t,n){var i=XS(e),a=!eC(e),o=t.attrs,s=void 0===o?KS:o,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":JI(e);oC[n]=(oC[n]||0)+1;var r=n+"-"+ZI("5.3.3"+n+oC[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,l=t.displayName,f=void 0===l?function(e){return eC(e)?"styled."+e:"Styled("+YS(e)+")"}(e):l,h=t.displayName&&t.componentId?JI(t.displayName)+"-"+t.componentId:t.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new CI(n,h,i?e.componentStyle:void 0),g=m.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,i){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=$S);var r=HS({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in QS(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(QI(t,(0,r.useContext)(aC),s)||$S,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=MI(),a=FI();return t?e.generateAndInjectStyles($S,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=n,g=p.$as||t.$as||p.as||t.as||f,y=eC(g),k=p!==t?HS({},t,{},p):t,w={};for(var b in k)"$"!==b[0]&&"as"!==b&&("forwardedAs"===b?w.as=k[b]:(c?c(b,BS,g):!y||BS(b))&&(w[b]=k[b]));return t.style&&p.style!==t.style&&(w.style=HS({},t.style,{},p.style)),w.className=Array.prototype.concat(u,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),w.ref=m,(0,r.createElement)(g,w)}(v,e,t,g)};return y.displayName=f,(v=r.forwardRef(y)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):KS,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(eC(e)?e:JI(YS(e)));return sC(e,HS({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?iC({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&qS()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var uC=function(e){return function e(t,n,r){if(void 0===r&&(r=$S),!(0,OS.isValidElementType)(n))return tI(1,String(n));var i=function(){return t(n,r,$I.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,HS({},r,{},i))},i.attrs=function(i){return e(t,n,HS({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(sC,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){uC[e]=uC(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=SI(e),wI.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(GI(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&wI.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=dI();return"<style "+[n&&'nonce="'+n+'"',JS+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?tI(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return tI(2);var n=((t={})[JS]="",t["data-styled-version"]="5.3.3",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=dI();return i&&(n.nonce=i),[r.createElement("style",HS({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new wI({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?tI(2):r.createElement(jI,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return tI(3)}}();var cC=uC,lC=[0,1,2,3,4,5,6,7,8,9];function fC(e){var t=e.rate,n=c((0,r.useState)(t),2),i=n[0];n[1];return(0,xS.jsx)("div",{className:"comment__input__rating",children:(0,xS.jsx)("div",{className:"comment__Star_wrapper",children:(0,xS.jsx)("div",{className:"comment__yellowStar_wrapper",children:lC.map((function(e,t){return(0,xS.jsx)("img",{id:t,className:i[e]?t%2===0?"comment__yellowStar":"comment__yellowStar--reverse":t%2===0?"comment__grayStar":"comment__grayStar--reverse",src:"./images/yellowStarHalf.png"},t)}))})})})}function hC(e){var t=e.commentObj,n=e.titles,r=e.userObj,i=function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=6;break}return console.log(n),console.log("".concat(n,"/").concat(t.id)),e.next=6,_S.doc("".concat(n,"/").concat(t.id)).delete();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(r),(0,xS.jsx)("div",{children:(0,xS.jsxs)(xS.Fragment,{children:[(0,xS.jsx)(fC,{rate:t.rate}),(0,xS.jsx)("p",{className:"comment__rateScore",children:t.rateScore}),(0,xS.jsx)("p",{clsssName:"comment__para",style:{fontSize:"20px",margin:"15px 0"},children:t.comment}),(0,xS.jsxs)("p",{className:"comment__userName",children:[t.creatorName,"\xa0\xa0|\xa0\xa0"]}),(0,xS.jsxs)("p",{className:"comment__date",children:[" ",t.date," \xa0\xa0"]}),r.uid===t.creatorId&&(0,xS.jsx)(xS.Fragment,{children:(0,xS.jsx)("button",{className:"comment__deleteBtn",onClick:i,children:"\u2573"})})]})})}var dC=[0,1,2,3,4,5,6,7,8,9];function pC(e){var t=e.clickedStar,n=e.setClickedStar,r=e.score,i=e.setScore;return(0,xS.jsxs)("div",{className:" rate_box",children:[(0,xS.jsx)("p",{className:"rate_msg",children:"\ubcc4\uc810\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694"}),(0,xS.jsx)("div",{className:"input__rating",children:(0,xS.jsxs)("div",{className:"yellowStar_wrapper",children:[dC.map((function(e,r){return(0,xS.jsx)("img",{id:r,onClick:function(){return function(e){for(var r=Le(t),a=0;a<10;a++)r[a]=a<=e;i(r.filter(Boolean).length),n(r)}(e)},className:t[e]?r%2===0?"yellowStar":"yellowStar--reverse":r%2===0?"grayStar":"grayStar--reverse",src:"./images/yellowStarHalf.png"},r)})),(0,xS.jsx)("p",{className:"rate",children:r})]})})]})}var vC,mC,gC,yC=function(e){var t=e.backdrop_path,n=e.title,i=e.overview,a=e.name,o=e.original_name,s=e.release_date,u=e.first_air_date,l=e.vote_average,f=e.clickRef,h=e.setModalOpen,d=e.isLogIn,p=e.userObj,v=c((0,r.useState)(""),2),m=v[0],g=v[1],y=c((0,r.useState)([]),2),k=y[0],w=y[1],b=n||a||o,_=c((0,r.useState)([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]),2),x=_[0],E=_[1],T=c((0,r.useState)(""),2),S=T[0],I=T[1],C=new Date;(0,r.useEffect)((function(){_S.collection(b).onSnapshot((function(e){var t=e.docs.map((function(e){return NS({id:e.id},e.data())}));w(t)}))}),[]);var P=function(){var e=Fe(Ue().mark((function e(t){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,_S.collection(b).add({movidId:b,creatorId:p.uid,creatorName:p.displayname||p.email,comment:m,createdAt:Date.now(),date:C.toLocaleDateString()+" "+C.getHours()+":"+C.getMinutes(),rate:x,rateScore:x.filter(Boolean).length});case 3:g(""),I(""),E([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=A();return(0,xS.jsx)("div",{className:"presentation",role:"presentation",children:(0,xS.jsx)("div",{className:"wrapper-modal",children:(0,xS.jsxs)("div",{className:"modal",ref:f,children:[(0,xS.jsxs)("span",{onClick:function(){return h(!1)},className:"modal-close",children:[" ","\u2573"," "]}),(0,xS.jsx)("img",{className:"modal__poster-img",src:"https://image.tmdb.org/t/p/original/".concat(t),alt:"modal__poster-img"}),(0,xS.jsxs)("div",{className:"modal__content",children:[(0,xS.jsxs)("p",{className:"modal__details",children:[(0,xS.jsxs)("span",{className:"modal__user-perc",children:[Math.round(25+.75*l*10)," % for you \xa0"]})," ",s||u]}),(0,xS.jsx)("h2",{className:"modal__title",children:n||a}),(0,xS.jsxs)("p",{className:"modal__overview",children:["\ud3c9\uc810: ",l]}),(0,xS.jsx)("p",{className:"modal__overview",children:i}),(0,xS.jsxs)("div",{className:"comments__wrapper",children:[(0,xS.jsx)("div",{className:"comments__forms ".concat(S>=1&&"comment__forms_open"),children:(0,xS.jsxs)("form",{onSubmit:P,children:[(0,xS.jsx)(pC,{clickedStar:x,setClickedStar:E,score:S,setScore:I}),S>=1&&(0,xS.jsxs)("div",{className:"comments__form--hanlder",children:[(0,xS.jsx)("input",{className:"comments__forms--input",type:"text",placeholder:d?" \ud55c\uc904\ud3c9\uc744 \ub0a8\uaca8\uc8fc\uc138\uc694.":" \ub85c\uadf8\uc778 \uc774\ud6c4\uc5d0 \ud55c\uc904\ud3c9 \uc791\uc131\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.",maxLength:40,value:m,required:!0,onChange:d?function(e){g(e.target.value)}:function(){window.confirm("\ub85c\uadf8\uc778\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&N("/auth")}}),(0,xS.jsx)("input",{className:"comments__forms--submit",type:"submit",value:"\ub0a8\uae30\uae30"})]})]})}),(0,xS.jsx)("div",{className:"comments__comments",children:k.map((function(e){return(0,xS.jsx)("div",{className:"comments__comment",children:(0,xS.jsx)(hC,{commentObj:e,userObj:p,titles:b,onChange:onchange},e.id)})}))})]})]})]})})})},kC=function(){var e=c((0,r.useState)(!1),2),t=e[0],n=e[1],i=(0,r.useRef)(null),a=function(e){var t,r=e.target;null!==(t=i.current)&&void 0!==t&&t.contains(r)||n(!1)};return(0,r.useEffect)((function(){return t?document.addEventListener("click",a):document.removeEventListener("click",a),function(){document.removeEventListener("click",a)}}),[t]),[t,n,i]};function wC(e){var t=e.isLogIn,n=e.userObj,i=c((0,r.useState)([]),2),a=i[0],o=i[1],s=c((0,r.useState)(!1),2),u=s[0],l=s[1],f=c((0,r.useState)(!0),2),h=f[0],d=f[1],p=c(kC(),3),v=p[0],m=p[1],g=p[2],y=c((0,r.useState)({}),2),k=y[0],w=y[1];(0,r.useEffect)((function(){x()}),[]),(0,r.useEffect)((function(){E()}),[a]);var b,_,x=function(){var e=Fe(Ue().mark((function e(){var t,n,r,i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IS.get(RS.fetchNowPlaying);case 2:return t=e.sent,n=t.data.results[Math.floor(Math.random()*t.data.results.length)].id,e.next=6,IS.get("movie/".concat(n),{params:{append_to_response:"videos"}});case 6:r=e.sent,i=r.data,o(i);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Fe(Ue().mark((function e(){return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0!==a.videos.results.length&&d(!1),console.log(a),console.log(a.videos.results.length),console.log(typeof a.videos.results[0].key),console.log("novideo",h);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u?(0,xS.jsx)(xS.Fragment,{children:(0,xS.jsx)(bC,{children:(0,xS.jsx)(_C,{children:(0,xS.jsx)(xC,{src:"https://www.youtube.com/embed/".concat(a.videos.results[0].key,"\n                    ?controls=0&autoplay=1&loop=1&mute=1&playlist=").concat(a.videos.results[0].key),width:"640",height:"360",frameBorder:"0",allow:"autoplay; fullscreen"})})})}):(0,xS.jsxs)(xS.Fragment,{children:[(0,xS.jsxs)("header",{className:"banner",style:{backgroundImage:'url("https://image.tmdb.org/t/p/original/'.concat(a.backdrop_path,'")'),backgroundPosition:"top center",backgroundSize:"cover"},children:[(0,xS.jsxs)("div",{className:"banner__contents",children:[(0,xS.jsx)("h1",{className:"banner__titles",children:(null===a||void 0===a?void 0:a.title)||(null===a||void 0===a?void 0:a.name)||(null===a||void 0===a?void 0:a.original_name)}),(0,xS.jsxs)("div",{className:"banner__buttons",children:[!h&&(0,xS.jsx)("button",{className:"banner__button play",onClick:function(){return l(!0)},children:(window.innerWidth,"Play")}),(0,xS.jsxs)("button",{className:"banner__button info",onClick:function(){return function(e){m(!0),w(e),console.log(k)}(a)},children:[(0,xS.jsx)("div",{className:"space"}),window.innerWidth<768?"Info":"More Information"]})]}),(0,xS.jsx)("h1",{className:"banner__description",children:(b=null===a||void 0===a?void 0:a.overview,_=100,(null===b||void 0===b?void 0:b.length)>_?b.substr(0,_-1)+"...":b)})]}),(0,xS.jsx)("div",{className:"banner--fadeBottom"})]}),v&&(0,xS.jsx)(yC,NS(NS({},k),{},{setModalOpen:m,isLogIn:t,userObj:n,clickRef:g}))]})}var bC=cC.div(vC||(vC=AS(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\twidth: 100%;\n\theight: 100vh;\n"]))),_C=cC.div(mC||(mC=AS(["\n\twidth: 100%;\n\theight: 100%;\n"]))),xC=cC.iframe(gC||(gC=AS(["\n\twidth: 100%;\n\theight: 100%;\n\tz-index: -1;\n\topacity: 0.65;\n\tborder: none;\n\n\t&::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theith: 100%;\n\t}\n"])));function EC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TC(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function SC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:TC(t[n])&&TC(e[n])&&Object.keys(t[n]).length>0&&SC(e[n],t[n])}))}var IC={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function CC(){var e="undefined"!==typeof document?document:{};return SC(e,IC),e}var AC={document:IC,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function PC(){var e="undefined"!==typeof window?window:{};return SC(e,AC),e}var NC=function(e){J(n,e);var t=re(n);function n(e){var r;return G(this,n),"number"===typeof e?r=t.call(this,e):function(e){var t=e.__proto__;Object.defineProperty(e,"__proto__",{get:function(){return t},set:function(e){t.__proto__=e}})}(Y(r=t.call.apply(t,[this].concat(Le(e||[]))))),ne(r)}return $(n)}(ae(Array));function RC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,Le(RC(e))):t.push(e)})),t}function OC(e,t){return Array.prototype.filter.call(e,t)}function DC(e,t){var n=PC(),r=CC(),i=[];if(!t&&e instanceof NC)return e;if(!e)return new NC(i);if("string"===typeof e){var a=e.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var o="div";0===a.indexOf("<li")&&(o="ul"),0===a.indexOf("<tr")&&(o="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(o="tr"),0===a.indexOf("<tbody")&&(o="table"),0===a.indexOf("<option")&&(o="select");var s=r.createElement(o);s.innerHTML=a;for(var u=0;u<s.childNodes.length;u+=1)i.push(s.childNodes[u])}else i=function(e,t){if("string"!==typeof e)return[e];for(var n=[],r=t.querySelectorAll(e),i=0;i<r.length;i+=1)n.push(r[i]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)i.push(e);else if(Array.isArray(e)){if(e instanceof NC)return e;i=e}return new NC(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(i))}DC.fn=NC.prototype;var LC="resize scroll".split(" ");function MC(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if("undefined"===typeof n[0]){for(var i=0;i<this.length;i+=1)LC.indexOf(e)<0&&(e in this[i]?this[i][e]():DC(this[i]).trigger(e));return this}return this.on.apply(this,[e].concat(n))}}MC("click"),MC("blur"),MC("focus"),MC("focusin"),MC("focusout"),MC("keyup"),MC("keydown"),MC("keypress"),MC("submit"),MC("change"),MC("mousedown"),MC("mousemove"),MC("mouseup"),MC("mouseenter"),MC("mouseleave"),MC("mouseout"),MC("mouseover"),MC("touchstart"),MC("touchend"),MC("touchmove"),MC("resize"),MC("scroll");var FC={addClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=RC(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,Le(r))})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=RC(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,Le(r))})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=RC(t.map((function(e){return e.split(" ")})));return OC(this,(function(e){return r.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=RC(t.map((function(e){return e.split(" ")})));this.forEach((function(e){r.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"===typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!==typeof e?"".concat(e,"ms"):e;return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];function s(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),DC(t).is(i))a.apply(t,n);else for(var r=DC(t).parents(),o=0;o<r.length;o+=1)DC(r[o]).is(i)&&a.apply(r[o],n)}}function u(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),a.apply(this,t)}"function"===typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var c,l=r.split(" "),f=0;f<this.length;f+=1){var h=this[f];if(i)for(c=0;c<l.length;c+=1){var d=l[c];h.dom7LiveListeners||(h.dom7LiveListeners={}),h.dom7LiveListeners[d]||(h.dom7LiveListeners[d]=[]),h.dom7LiveListeners[d].push({listener:a,proxyListener:s}),h.addEventListener(d,s,o)}else for(c=0;c<l.length;c+=1){var p=l[c];h.dom7Listeners||(h.dom7Listeners={}),h.dom7Listeners[p]||(h.dom7Listeners[p]=[]),h.dom7Listeners[p].push({listener:a,proxyListener:u}),h.addEventListener(p,u,o)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];"function"===typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var s=r.split(" "),u=0;u<s.length;u+=1)for(var c=s[u],l=0;l<this.length;l+=1){var f=this[l],h=void 0;if(!i&&f.dom7Listeners?h=f.dom7Listeners[c]:i&&f.dom7LiveListeners&&(h=f.dom7LiveListeners[c]),h&&h.length)for(var d=h.length-1;d>=0;d-=1){var p=h[d];a&&p.listener===a||a&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===a?(f.removeEventListener(c,p.proxyListener,o),h.splice(d,1)):a||(f.removeEventListener(c,p.proxyListener,o),h.splice(d,1))}}return this},trigger:function(){for(var e=PC(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n[0].split(" "),a=n[1],o=0;o<i.length;o+=1)for(var s=i[o],u=0;u<this.length;u+=1){var c=this[u];if(e.CustomEvent){var l=new e.CustomEvent(s,{detail:a,bubbles:!0,cancelable:!0});c.dom7EventData=n.filter((function(e,t){return t>0})),c.dispatchEvent(l),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=PC();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=PC(),t=CC(),n=this[0],r=n.getBoundingClientRect(),i=t.body,a=n.clientTop||i.clientTop||0,o=n.clientLeft||i.clientLeft||0,s=n===e?e.scrollY:n.scrollTop,u=n===e?e.scrollX:n.scrollLeft;return{top:r.top+s-a,left:r.left+u-o}}return null},css:function(e,t){var n,r=PC();if(1===arguments.length){if("string"!==typeof e){for(n=0;n<this.length;n+=1)for(var i in e)this[n].style[i]=e[i];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"===typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((function(t,n){e.apply(t,[t,n])})),this):this},html:function(e){if("undefined"===typeof e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if("undefined"===typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,n,r=PC(),i=CC(),a=this[0];if(!a||"undefined"===typeof e)return!1;if("string"===typeof e){if(a.matches)return a.matches(e);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(e);if(a.msMatchesSelector)return a.msMatchesSelector(e);for(t=DC(e),n=0;n<t.length;n+=1)if(t[n]===a)return!0;return!1}if(e===i)return a===i;if(e===r)return a===r;if(e.nodeType||e instanceof NC){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===a)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if("undefined"===typeof e)return this;var t=this.length;if(e>t-1)return DC([]);if(e<0){var n=t+e;return DC(n<0?[]:[this[n]])}return DC([this[e]])},append:function(){for(var e,t=CC(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"===typeof e){var i=t.createElement("div");for(i.innerHTML=e;i.firstChild;)this[r].appendChild(i.firstChild)}else if(e instanceof NC)for(var a=0;a<e.length;a+=1)this[r].appendChild(e[a]);else this[r].appendChild(e)}return this},prepend:function(e){var t,n,r=CC();for(t=0;t<this.length;t+=1)if("string"===typeof e){var i=r.createElement("div");for(i.innerHTML=e,n=i.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(i.childNodes[n],this[t].childNodes[0])}else if(e instanceof NC)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&DC(this[0].nextElementSibling).is(e)?DC([this[0].nextElementSibling]):DC([]):this[0].nextElementSibling?DC([this[0].nextElementSibling]):DC([]):DC([])},nextAll:function(e){var t=[],n=this[0];if(!n)return DC([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?DC(r).is(e)&&t.push(r):t.push(r),n=r}return DC(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&DC(t.previousElementSibling).is(e)?DC([t.previousElementSibling]):DC([]):t.previousElementSibling?DC([t.previousElementSibling]):DC([])}return DC([])},prevAll:function(e){var t=[],n=this[0];if(!n)return DC([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?DC(r).is(e)&&t.push(r):t.push(r),n=r}return DC(t)},parent:function(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?DC(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return DC(t)},parents:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?DC(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return DC(t)},closest:function(e){var t=this;return"undefined"===typeof e?DC([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),i=0;i<r.length;i+=1)t.push(r[i]);return DC(t)},children:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)e&&!DC(r[i]).is(e)||t.push(r[i]);return DC(t)},filter:function(e){return DC(OC(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(FC).forEach((function(e){Object.defineProperty(DC.fn,e,{value:FC[e],writable:!0})}));var jC,UC,VC,BC=DC;function zC(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function qC(){return Date.now()}function HC(e,t){void 0===t&&(t="x");var n,r,i,a=PC(),o=function(e){var t,n=PC();return n.getComputedStyle&&(t=n.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return a.WebKitCSSMatrix?((r=o.transform||o.webkitTransform).split(",").length>6&&(r=r.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),i=new a.WebKitCSSMatrix("none"===r?"":r)):n=(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=a.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=a.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}function WC(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function GC(e){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function KC(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(void 0!==r&&null!==r&&!GC(r))for(var i=Object.keys(Object(r)).filter((function(e){return t.indexOf(e)<0})),a=0,o=i.length;a<o;a+=1){var s=i[a],u=Object.getOwnPropertyDescriptor(r,s);void 0!==u&&u.enumerable&&(WC(e[s])&&WC(r[s])?r[s].__swiper__?e[s]=r[s]:KC(e[s],r[s]):!WC(e[s])&&WC(r[s])?(e[s]={},r[s].__swiper__?e[s]=r[s]:KC(e[s],r[s])):e[s]=r[s])}}return e}function $C(e,t,n){e.style.setProperty(t,n)}function QC(e){var t,n=e.swiper,r=e.targetPosition,i=e.side,a=PC(),o=-n.translate,s=null,u=n.params.speed;n.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(n.cssModeFrameID);var c=r>o?"next":"prev",l=function(e,t){return"next"===c&&e>=t||"prev"===c&&e<=t};!function e(){t=(new Date).getTime(),null===s&&(s=t);var c=Math.max(Math.min((t-s)/u,1),0),f=.5-Math.cos(c*Math.PI)/2,h=o+f*(r-o);if(l(h,r)&&(h=r),n.wrapperEl.scrollTo(W({},i,h)),l(h,r))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout((function(){n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo(W({},i,h))})),void a.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=a.requestAnimationFrame(e)}()}function YC(){return jC||(jC=function(){var e=PC(),t=CC();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(r){}return t}(),gestures:"ongesturestart"in e}}()),jC}function XC(e){return void 0===e&&(e={}),UC||(UC=function(e){var t=(void 0===e?{}:e).userAgent,n=YC(),r=PC(),i=r.navigator.platform,a=t||r.navigator.userAgent,o={ios:!1,android:!1},s=r.screen.width,u=r.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/),l=a.match(/(iPad).*OS\s([\d_]+)/),f=a.match(/(iPod)(.*OS\s([\d_]+))?/),h=!l&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d="Win32"===i,p="MacIntel"===i;return!l&&p&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(s,"x").concat(u))>=0&&((l=a.match(/(Version)\/([\d.]+)/))||(l=[0,1,"13_0_0"]),p=!1),c&&!d&&(o.os="android",o.android=!0),(l||h||f)&&(o.os="ios",o.ios=!0),o}(e)),UC}function JC(){return VC||(VC=function(){var e=PC();return{isSafari:function(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),VC}var ZC={on:function(e,t,n){var r=this;if("function"!==typeof t)return r;var i=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)})),r},once:function(e,t,n){var r=this;if("function"!==typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];t.apply(r,a)}return i.__emitterProxy=t,r.on(e,i,n)},onAny:function(e,t){var n=this;if("function"!==typeof e)return n;var r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny:function(e){var t=this;if(!t.eventsAnyListeners)return t;var n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off:function(e,t){var n=this;return n.eventsListeners?(e.split(" ").forEach((function(e){"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,i){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)}))})),n):n},emit:function(){var e,t,n,r=this;if(!r.eventsListeners)return r;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];"string"===typeof a[0]||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),n=r):(e=a[0].events,t=a[0].data,n=a[0].context||r),t.unshift(n);var s=Array.isArray(e)?e:e.split(" ");return s.forEach((function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[e].concat(Le(t)))})),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(e){e.apply(n,t)}))})),r}};var eA={updateSize:function(){var e,t,n=this,r=n.$el;e="undefined"!==typeof n.params.width&&null!==n.params.width?n.params.width:r[0].clientWidth,t="undefined"!==typeof n.params.height&&null!==n.params.height?n.params.height:r[0].clientHeight,0===e&&n.isHorizontal()||0===t&&n.isVertical()||(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),t=t-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}var r=e.params,i=e.$wrapperEl,a=e.size,o=e.rtlTranslate,s=e.wrongRTL,u=e.virtual&&r.virtual.enabled,c=u?e.virtual.slides.length:e.slides.length,l=i.children(".".concat(e.params.slideClass)),f=u?e.virtual.slides.length:l.length,h=[],d=[],p=[],v=r.slidesOffsetBefore;"function"===typeof v&&(v=r.slidesOffsetBefore.call(e));var m=r.slidesOffsetAfter;"function"===typeof m&&(m=r.slidesOffsetAfter.call(e));var g=e.snapGrid.length,y=e.slidesGrid.length,k=r.spaceBetween,w=-v,b=0,_=0;if("undefined"!==typeof a){"string"===typeof k&&k.indexOf("%")>=0&&(k=parseFloat(k.replace("%",""))/100*a),e.virtualSize=-k,o?l.css({marginLeft:"",marginBottom:"",marginTop:""}):l.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&($C(e.wrapperEl,"--swiper-centered-offset-before",""),$C(e.wrapperEl,"--swiper-centered-offset-after",""));var x,E=r.grid&&r.grid.rows>1&&e.grid;E&&e.grid.initSlides(f);for(var T="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((function(e){return"undefined"!==typeof r.breakpoints[e].slidesPerView})).length>0,S=0;S<f;S+=1){x=0;var I=l.eq(S);if(E&&e.grid.updateSlide(S,I,f,t),"none"!==I.css("display")){if("auto"===r.slidesPerView){T&&(l[S].style[t("width")]="");var C=getComputedStyle(I[0]),A=I[0].style.transform,P=I[0].style.webkitTransform;if(A&&(I[0].style.transform="none"),P&&(I[0].style.webkitTransform="none"),r.roundLengths)x=e.isHorizontal()?I.outerWidth(!0):I.outerHeight(!0);else{var N=n(C,"width"),R=n(C,"padding-left"),O=n(C,"padding-right"),D=n(C,"margin-left"),L=n(C,"margin-right"),M=C.getPropertyValue("box-sizing");if(M&&"border-box"===M)x=N+D+L;else{var F=I[0],j=F.clientWidth;x=N+R+O+D+L+(F.offsetWidth-j)}}A&&(I[0].style.transform=A),P&&(I[0].style.webkitTransform=P),r.roundLengths&&(x=Math.floor(x))}else x=(a-(r.slidesPerView-1)*k)/r.slidesPerView,r.roundLengths&&(x=Math.floor(x)),l[S]&&(l[S].style[t("width")]="".concat(x,"px"));l[S]&&(l[S].swiperSlideSize=x),p.push(x),r.centeredSlides?(w=w+x/2+b/2+k,0===b&&0!==S&&(w=w-a/2-k),0===S&&(w=w-a/2-k),Math.abs(w)<.001&&(w=0),r.roundLengths&&(w=Math.floor(w)),_%r.slidesPerGroup===0&&h.push(w),d.push(w)):(r.roundLengths&&(w=Math.floor(w)),(_-Math.min(e.params.slidesPerGroupSkip,_))%e.params.slidesPerGroup===0&&h.push(w),d.push(w),w=w+x+k),e.virtualSize+=x+k,b=x,_+=1}}if(e.virtualSize=Math.max(e.virtualSize,a)+m,o&&s&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:"".concat(e.virtualSize+r.spaceBetween,"px")}),r.setWrapperSize&&i.css(W({},t("width"),"".concat(e.virtualSize+r.spaceBetween,"px"))),E&&e.grid.updateWrapperSize(x,h,t),!r.centeredSlides){for(var U=[],V=0;V<h.length;V+=1){var B=h[V];r.roundLengths&&(B=Math.floor(B)),h[V]<=e.virtualSize-a&&U.push(B)}h=U,Math.floor(e.virtualSize-a)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-a)}if(0===h.length&&(h=[0]),0!==r.spaceBetween){var z=e.isHorizontal()&&o?"marginLeft":t("marginRight");l.filter((function(e,t){return!r.cssMode||t!==l.length-1})).css(W({},z,"".concat(k,"px")))}if(r.centeredSlides&&r.centeredSlidesBounds){var q=0;p.forEach((function(e){q+=e+(r.spaceBetween?r.spaceBetween:0)}));var H=(q-=r.spaceBetween)-a;h=h.map((function(e){return e<0?-v:e>H?H+m:e}))}if(r.centerInsufficientSlides){var G=0;if(p.forEach((function(e){G+=e+(r.spaceBetween?r.spaceBetween:0)})),(G-=r.spaceBetween)<a){var K=(a-G)/2;h.forEach((function(e,t){h[t]=e-K})),d.forEach((function(e,t){d[t]=e+K}))}}if(Object.assign(e,{slides:l,snapGrid:h,slidesGrid:d,slidesSizesGrid:p}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){$C(e.wrapperEl,"--swiper-centered-offset-before","".concat(-h[0],"px")),$C(e.wrapperEl,"--swiper-centered-offset-after","".concat(e.size/2-p[p.length-1]/2,"px"));var $=-e.snapGrid[0],Q=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((function(e){return e+$})),e.slidesGrid=e.slidesGrid.map((function(e){return e+Q}))}if(f!==c&&e.emit("slidesLengthChange"),h.length!==g&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),d.length!==y&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!u&&!r.cssMode&&("slide"===r.effect||"fade"===r.effect)){var Y="".concat(r.containerModifierClass,"backface-hidden"),X=e.$el.hasClass(Y);f<=r.maxBackfaceHiddenSlides?X||e.$el.addClass(Y):X&&e.$el.removeClass(Y)}}},updateAutoHeight:function(e){var t,n=this,r=[],i=n.virtual&&n.params.virtual.enabled,a=0;"number"===typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed);var o=function(e){return i?n.slides.filter((function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e}))[0]:n.slides.eq(e)[0]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)n.visibleSlides.each((function(e){r.push(e)}));else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var s=n.activeIndex+t;if(s>n.slides.length&&!i)break;r.push(o(s))}else r.push(o(n.activeIndex));for(t=0;t<r.length;t+=1)if("undefined"!==typeof r[t]){var u=r[t].offsetHeight;a=u>a?u:a}(a||0===a)&&n.$wrapperEl.css("height","".concat(a,"px"))},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,n=t.params,r=t.slides,i=t.rtlTranslate,a=t.snapGrid;if(0!==r.length){"undefined"===typeof r[0].swiperSlideOffset&&t.updateSlidesOffset();var o=-e;i&&(o=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var s=0;s<r.length;s+=1){var u=r[s],c=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);var l=(o+(n.centeredSlides?t.minTranslate():0)-c)/(u.swiperSlideSize+n.spaceBetween),f=(o-a[0]+(n.centeredSlides?t.minTranslate():0)-c)/(u.swiperSlideSize+n.spaceBetween),h=-(o-c),d=h+t.slidesSizesGrid[s];(h>=0&&h<t.size-1||d>1&&d<=t.size||h<=0&&d>=t.size)&&(t.visibleSlides.push(u),t.visibleSlidesIndexes.push(s),r.eq(s).addClass(n.slideVisibleClass)),u.progress=i?-l:l,u.originalProgress=i?-f:f}t.visibleSlides=BC(t.visibleSlides)}},updateProgress:function(e){var t=this;if("undefined"===typeof e){var n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}var r=t.params,i=t.maxTranslate()-t.minTranslate(),a=t.progress,o=t.isBeginning,s=t.isEnd,u=o,c=s;0===i?(a=0,o=!0,s=!0):(o=(a=(e-t.minTranslate())/i)<=0,s=a>=1),Object.assign(t,{progress:a,isBeginning:o,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),o&&!u&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(u&&!o||c&&!s)&&t.emit("fromEdge"),t.emit("progress",a)},updateSlidesClasses:function(){var e,t=this,n=t.slides,r=t.params,i=t.$wrapperEl,a=t.activeIndex,o=t.realIndex,s=t.virtual&&r.virtual.enabled;n.removeClass("".concat(r.slideActiveClass," ").concat(r.slideNextClass," ").concat(r.slidePrevClass," ").concat(r.slideDuplicateActiveClass," ").concat(r.slideDuplicateNextClass," ").concat(r.slideDuplicatePrevClass)),(e=s?t.$wrapperEl.find(".".concat(r.slideClass,'[data-swiper-slide-index="').concat(a,'"]')):n.eq(a)).addClass(r.slideActiveClass),r.loop&&(e.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(o,'"]')).addClass(r.slideDuplicateActiveClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(o,'"]')).addClass(r.slideDuplicateActiveClass));var u=e.nextAll(".".concat(r.slideClass)).eq(0).addClass(r.slideNextClass);r.loop&&0===u.length&&(u=n.eq(0)).addClass(r.slideNextClass);var c=e.prevAll(".".concat(r.slideClass)).eq(0).addClass(r.slidePrevClass);r.loop&&0===c.length&&(c=n.eq(-1)).addClass(r.slidePrevClass),r.loop&&(u.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass),c.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,n=this,r=n.rtlTranslate?n.translate:-n.translate,i=n.slidesGrid,a=n.snapGrid,o=n.params,s=n.activeIndex,u=n.realIndex,c=n.snapIndex,l=e;if("undefined"===typeof l){for(var f=0;f<i.length;f+=1)"undefined"!==typeof i[f+1]?r>=i[f]&&r<i[f+1]-(i[f+1]-i[f])/2?l=f:r>=i[f]&&r<i[f+1]&&(l=f+1):r>=i[f]&&(l=f);o.normalizeSlideIndex&&(l<0||"undefined"===typeof l)&&(l=0)}if(a.indexOf(r)>=0)t=a.indexOf(r);else{var h=Math.min(o.slidesPerGroupSkip,l);t=h+Math.floor((l-h)/o.slidesPerGroup)}if(t>=a.length&&(t=a.length-1),l!==s){var d=parseInt(n.slides.eq(l).attr("data-swiper-slide-index")||l,10);Object.assign(n,{snapIndex:t,realIndex:d,previousIndex:s,activeIndex:l}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),u!==d&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else t!==c&&(n.snapIndex=t,n.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,n=this,r=n.params,i=BC(e).closest(".".concat(r.slideClass))[0],a=!1;if(i)for(var o=0;o<n.slides.length;o+=1)if(n.slides[o]===i){a=!0,t=o;break}if(!i||!a)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(BC(i).attr("data-swiper-slide-index"),10):n.clickedIndex=t,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var tA={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this,n=t.params,r=t.rtlTranslate,i=t.translate,a=t.$wrapperEl;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;var o=HC(a[0],e);return r&&(o=-o),o||0},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,i=n.params,a=n.$wrapperEl,o=n.wrapperEl,s=n.progress,u=0,c=0;n.isHorizontal()?u=r?-e:e:c=e,i.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:i.virtualTranslate||a.transform("translate3d(".concat(u,"px, ").concat(c,"px, ").concat(0,"px)")),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c;var l=n.maxTranslate()-n.minTranslate();(0===l?0:(e-n.minTranslate())/l)!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var a=this,o=a.params,s=a.wrapperEl;if(a.animating&&o.preventInteractionOnTransition)return!1;var u,c=a.minTranslate(),l=a.maxTranslate();if(u=r&&e>c?c:r&&e<l?l:e,a.updateProgress(u),o.cssMode){var f=a.isHorizontal();if(0===t)s[f?"scrollLeft":"scrollTop"]=-u;else{var h;if(!a.support.smoothScroll)return QC({swiper:a,targetPosition:-u,side:f?"left":"top"}),!0;s.scrollTo((W(h={},f?"left":"top",-u),W(h,"behavior","smooth"),h))}return!0}return 0===t?(a.setTransition(0),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}};function nA(e){var t=e.swiper,n=e.runCallbacks,r=e.direction,i=e.step,a=t.activeIndex,o=t.previousIndex,s=r;if(s||(s=a>o?"next":a<o?"prev":"reset"),t.emit("transition".concat(i)),n&&a!==o){if("reset"===s)return void t.emit("slideResetTransition".concat(i));t.emit("slideChangeTransition".concat(i)),"next"===s?t.emit("slideNextTransition".concat(i)):t.emit("slidePrevTransition".concat(i))}}var rA={slideTo:function(e,t,n,r,i){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"number"!==typeof e&&"string"!==typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [".concat(typeof e,"] given."));if("string"===typeof e){var a=parseInt(e,10);if(!isFinite(a))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=a}var o=this,s=e;s<0&&(s=0);var u=o.params,c=o.snapGrid,l=o.slidesGrid,f=o.previousIndex,h=o.activeIndex,d=o.rtlTranslate,p=o.wrapperEl,v=o.enabled;if(o.animating&&u.preventInteractionOnTransition||!v&&!r&&!i)return!1;var m=Math.min(o.params.slidesPerGroupSkip,s),g=m+Math.floor((s-m)/o.params.slidesPerGroup);g>=c.length&&(g=c.length-1),(h||u.initialSlide||0)===(f||0)&&n&&o.emit("beforeSlideChangeStart");var y,k=-c[g];if(o.updateProgress(k),u.normalizeSlideIndex)for(var w=0;w<l.length;w+=1){var b=-Math.floor(100*k),_=Math.floor(100*l[w]),x=Math.floor(100*l[w+1]);"undefined"!==typeof l[w+1]?b>=_&&b<x-(x-_)/2?s=w:b>=_&&b<x&&(s=w+1):b>=_&&(s=w)}if(o.initialized&&s!==h){if(!o.allowSlideNext&&k<o.translate&&k<o.minTranslate())return!1;if(!o.allowSlidePrev&&k>o.translate&&k>o.maxTranslate()&&(h||0)!==s)return!1}if(y=s>h?"next":s<h?"prev":"reset",d&&-k===o.translate||!d&&k===o.translate)return o.updateActiveIndex(s),u.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==u.effect&&o.setTranslate(k),"reset"!==y&&(o.transitionStart(n,y),o.transitionEnd(n,y)),!1;if(u.cssMode){var E=o.isHorizontal(),T=d?k:-k;if(0===t){var S=o.virtual&&o.params.virtual.enabled;S&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),p[E?"scrollLeft":"scrollTop"]=T,S&&requestAnimationFrame((function(){o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1}))}else{var I;if(!o.support.smoothScroll)return QC({swiper:o,targetPosition:T,side:E?"left":"top"}),!0;p.scrollTo((W(I={},E?"left":"top",T),W(I,"behavior","smooth"),I))}return!0}return o.setTransition(t),o.setTranslate(k),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,r),o.transitionStart(n,y),0===t?o.transitionEnd(n,y):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,y))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0);var i=this,a=e;return i.params.loop&&(a+=i.loopedSlides),i.slideTo(a,t,n,r)},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.animating,a=r.enabled,o=r.params;if(!a)return r;var s=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));var u=r.activeIndex<o.slidesPerGroupSkip?1:s;if(o.loop){if(i&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+u,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.params,a=r.animating,o=r.snapGrid,s=r.slidesGrid,u=r.rtlTranslate;if(!r.enabled)return r;if(i.loop){if(a&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function c(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var l,f=c(u?r.translate:-r.translate),h=o.map((function(e){return c(e)})),d=o[h.indexOf(f)-1];"undefined"===typeof d&&i.cssMode&&(o.forEach((function(e,t){f>=e&&(l=t)})),"undefined"!==typeof l&&(d=o[l>0?l-1:l]));var p=0;if("undefined"!==typeof d&&((p=s.indexOf(d))<0&&(p=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(p=p-r.slidesPerViewDynamic("previous",!0)+1,p=Math.max(p,0))),i.rewind&&r.isBeginning){var v=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(v,e,t,n)}return r.slideTo(p,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=.5);var i=this,a=i.activeIndex,o=Math.min(i.params.slidesPerGroupSkip,a),s=o+Math.floor((a-o)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[s]){var c=i.snapGrid[s];u-c>(i.snapGrid[s+1]-c)*r&&(a+=i.params.slidesPerGroup)}else{var l=i.snapGrid[s-1];u-l<=(i.snapGrid[s]-l)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.$wrapperEl,i="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,a=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(BC(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?a<t.loopedSlides-i/2||a>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),a=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),zC((function(){t.slideTo(a)}))):t.slideTo(a):a>t.slides.length-i?(t.loopFix(),a=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),zC((function(){t.slideTo(a)}))):t.slideTo(a)}else t.slideTo(a)}};var iA={loopCreate:function(){var e=this,t=CC(),n=e.params,r=e.$wrapperEl,i=r.children().length>0?BC(r.children()[0].parentNode):r;i.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass)).remove();var a=i.children(".".concat(n.slideClass));if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-a.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var s=0;s<o;s+=1){var u=BC(t.createElement("div")).addClass("".concat(n.slideClass," ").concat(n.slideBlankClass));i.append(u)}a=i.children(".".concat(n.slideClass))}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=a.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>a.length&&(e.loopedSlides=a.length);var c=[],l=[];a.each((function(t,n){var r=BC(t);n<e.loopedSlides&&l.push(t),n<a.length&&n>=a.length-e.loopedSlides&&c.push(t),r.attr("data-swiper-slide-index",n)}));for(var f=0;f<l.length;f+=1)i.append(BC(l[f].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var h=c.length-1;h>=0;h-=1)i.prepend(BC(c[h].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,n=e.activeIndex,r=e.slides,i=e.loopedSlides,a=e.allowSlidePrev,o=e.allowSlideNext,s=e.snapGrid,u=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var c=-s[n]-e.getTranslate();if(n<i)t=r.length-3*i+n,t+=i,e.slideTo(t,0,!1,!0)&&0!==c&&e.setTranslate((u?-e.translate:e.translate)-c);else if(n>=r.length-i){t=-r.length+n+i,t+=i,e.slideTo(t,0,!1,!0)&&0!==c&&e.setTranslate((u?-e.translate:e.translate)-c)}e.allowSlidePrev=a,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides;t.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,",.").concat(n.slideClass,".").concat(n.slideBlankClass)).remove(),r.removeAttr("data-swiper-slide-index")}};function aA(e){var t=this,n=CC(),r=PC(),i=t.touchEventsData,a=t.params,o=t.touches;if(t.enabled&&(!t.animating||!a.preventInteractionOnTransition)){!t.animating&&a.cssMode&&a.loop&&t.loopFix();var s=e;s.originalEvent&&(s=s.originalEvent);var u=BC(s.target);if(("wrapper"!==a.touchEventsTarget||u.closest(t.wrapperEl).length)&&(i.isTouchEvent="touchstart"===s.type,(i.isTouchEvent||!("which"in s)||3!==s.which)&&!(!i.isTouchEvent&&"button"in s&&s.button>0)&&(!i.isTouched||!i.isMoved))){!!a.noSwipingClass&&""!==a.noSwipingClass&&s.target&&s.target.shadowRoot&&e.path&&e.path[0]&&(u=BC(e.path[0]));var c=a.noSwipingSelector?a.noSwipingSelector:".".concat(a.noSwipingClass),l=!(!s.target||!s.target.shadowRoot);if(a.noSwiping&&(l?function(e,t){return void 0===t&&(t=this),function t(n){return n&&n!==CC()&&n!==PC()?(n.assignedSlot&&(n=n.assignedSlot),n.closest(e)||t(n.getRootNode().host)):null}(t)}(c,s.target):u.closest(c)[0]))t.allowClick=!0;else if(!a.swipeHandler||u.closest(a.swipeHandler)[0]){o.currentX="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,o.currentY="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY;var f=o.currentX,h=o.currentY,d=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,p=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(d&&(f<=p||f>=r.innerWidth-p)){if("prevent"!==d)return;e.preventDefault()}if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=h,i.touchStartTime=qC(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==s.type){var v=!0;u.is(i.focusableElements)&&(v=!1,"SELECT"===u[0].nodeName&&(i.isTouched=!1)),n.activeElement&&BC(n.activeElement).is(i.focusableElements)&&n.activeElement!==u[0]&&n.activeElement.blur();var m=v&&t.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!m||u[0].isContentEditable||s.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!a.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}}}}function oA(e){var t=CC(),n=this,r=n.touchEventsData,i=n.params,a=n.touches,o=n.rtlTranslate;if(n.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),r.isTouched){if(!r.isTouchEvent||"touchmove"===s.type){var u="touchmove"===s.type&&s.targetTouches&&(s.targetTouches[0]||s.changedTouches[0]),c="touchmove"===s.type?u.pageX:s.pageX,l="touchmove"===s.type?u.pageY:s.pageY;if(s.preventedByNestedSwiper)return a.startX=c,void(a.startY=l);if(!n.allowTouchMove)return BC(s.target).is(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(a,{startX:c,startY:l,currentX:c,currentY:l}),r.touchStartTime=qC()));if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(l<a.startY&&n.translate<=n.maxTranslate()||l>a.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(c<a.startX&&n.translate<=n.maxTranslate()||c>a.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&s.target===t.activeElement&&BC(s.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){a.currentX=c,a.currentY=l;var f=a.currentX-a.startX,h=a.currentY-a.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(f,2)+Math.pow(h,2))<n.params.threshold)){var d;if("undefined"===typeof r.isScrolling)n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:f*f+h*h>=25&&(d=180*Math.atan2(Math.abs(h),Math.abs(f))/Math.PI,r.isScrolling=n.isHorizontal()?d>i.touchAngle:90-d>i.touchAngle);if(r.isScrolling&&n.emit("touchMoveOpposite",s),"undefined"===typeof r.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(r.startMoving=!0)),r.isScrolling)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!i.cssMode&&s.cancelable&&s.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&s.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",s)),n.emit("sliderMove",s),r.isMoved=!0;var p=n.isHorizontal()?f:h;a.diff=p,p*=i.touchRatio,o&&(p=-p),n.swipeDirection=p>0?"prev":"next",r.currentTranslate=p+r.startTranslate;var v=!0,m=i.resistanceRatio;if(i.touchReleaseOnEdges&&(m=0),p>0&&r.currentTranslate>n.minTranslate()?(v=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+p,m))):p<0&&r.currentTranslate<n.maxTranslate()&&(v=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-p,m))),v&&(s.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(p)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,void(a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",s)}}function sA(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches,a=t.rtlTranslate,o=t.slidesGrid;if(t.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,c=qC(),l=c-n.touchStartTime;if(t.allowClick){var f=s.path||s.composedPath&&s.composedPath();t.updateClickedSlide(f&&f[0]||s.target),t.emit("tap click",s),l<300&&c-n.lastClickTime<300&&t.emit("doubleTap doubleClick",s)}if(n.lastClickTime=qC(),zC((function(){t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,u=r.followFinger?a?t.translate:-t.translate:-n.currentTranslate,!r.cssMode)if(t.params.freeMode&&r.freeMode.enabled)t.freeMode.onTouchEnd({currentPos:u});else{for(var h=0,d=t.slidesSizesGrid[0],p=0;p<o.length;p+=p<r.slidesPerGroupSkip?1:r.slidesPerGroup){var v=p<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;"undefined"!==typeof o[p+v]?u>=o[p]&&u<o[p+v]&&(h=p,d=o[p+v]-o[p]):u>=o[p]&&(h=p,d=o[o.length-1]-o[o.length-2])}var m=null,g=null;r.rewind&&(t.isBeginning?g=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(m=0));var y=(u-o[h])/d,k=h<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(l>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(y>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?m:h+k):t.slideTo(h)),"prev"===t.swipeDirection&&(y>1-r.longSwipesRatio?t.slideTo(h+k):null!==g&&y<0&&Math.abs(y)>r.longSwipesRatio?t.slideTo(g):t.slideTo(h))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(s.target===t.navigation.nextEl||s.target===t.navigation.prevEl)?s.target===t.navigation.nextEl?t.slideTo(h+k):t.slideTo(h):("next"===t.swipeDirection&&t.slideTo(null!==m?m:h+k),"prev"===t.swipeDirection&&t.slideTo(null!==g?g:h))}}}}function uA(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,i=e.allowSlidePrev,a=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}}function cA(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function lA(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();(0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}}var fA=!1;function hA(){}var dA=function(e,t){var n=CC(),r=e.params,i=e.touchEvents,a=e.el,o=e.wrapperEl,s=e.device,u=e.support,c=!!r.nested,l="on"===t?"addEventListener":"removeEventListener",f=t;if(u.touch){var h=!("touchstart"!==i.start||!u.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};a[l](i.start,e.onTouchStart,h),a[l](i.move,e.onTouchMove,u.passiveListener?{passive:!1,capture:c}:c),a[l](i.end,e.onTouchEnd,h),i.cancel&&a[l](i.cancel,e.onTouchEnd,h)}else a[l](i.start,e.onTouchStart,!1),n[l](i.move,e.onTouchMove,c),n[l](i.end,e.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&a[l]("click",e.onClick,!0),r.cssMode&&o[l]("scroll",e.onScroll),r.updateOnWindowResize?e[f](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",uA,!0):e[f]("observerUpdate",uA,!0)};var pA={attachEvents:function(){var e=this,t=CC(),n=e.params,r=e.support;e.onTouchStart=aA.bind(e),e.onTouchMove=oA.bind(e),e.onTouchEnd=sA.bind(e),n.cssMode&&(e.onScroll=lA.bind(e)),e.onClick=cA.bind(e),r.touch&&!fA&&(t.addEventListener("touchstart",hA),fA=!0),dA(e,"on")},detachEvents:function(){dA(this,"off")}},vA=function(e,t){return e.grid&&t.grid&&t.grid.rows>1};var mA={setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,r=e.loopedSlides,i=void 0===r?0:r,a=e.params,o=e.$el,s=a.breakpoints;if(s&&(!s||0!==Object.keys(s).length)){var u=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(u&&e.currentBreakpoint!==u){var c=(u in s?s[u]:void 0)||e.originalParams,l=vA(e,a),f=vA(e,c),h=a.enabled;l&&!f?(o.removeClass("".concat(a.containerModifierClass,"grid ").concat(a.containerModifierClass,"grid-column")),e.emitContainerClasses()):!l&&f&&(o.addClass("".concat(a.containerModifierClass,"grid")),(c.grid.fill&&"column"===c.grid.fill||!c.grid.fill&&"column"===a.grid.fill)&&o.addClass("".concat(a.containerModifierClass,"grid-column")),e.emitContainerClasses());var d=c.direction&&c.direction!==a.direction,p=a.loop&&(c.slidesPerView!==a.slidesPerView||d);d&&n&&e.changeDirection(),KC(e.params,c);var v=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),h&&!v?e.disable():!h&&v&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",c),p&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",c)}}},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),e&&("container"!==t||n)){var r=!1,i=PC(),a="window"===t?i.innerHeight:n.clientHeight,o=Object.keys(e).map((function(e){if("string"===typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:a*t,point:e}}return{value:e,point:e}}));o.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var s=0;s<o.length;s+=1){var u=o[s],c=u.point,l=u.value;"window"===t?i.matchMedia("(min-width: ".concat(l,"px)")).matches&&(r=c):l<=n.clientWidth&&(r=c)}return r||"max"}}};var gA={addClasses:function(){var e=this,t=e.classNames,n=e.params,r=e.rtl,i=e.$el,a=e.device,o=e.support,s=function(e,t){var n=[];return e.forEach((function(e){"object"===typeof e?Object.keys(e).forEach((function(r){e[r]&&n.push(t+r)})):"string"===typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides}],n.containerModifierClass);t.push.apply(t,Le(s)),i.addClass(Le(t).join(" ")),e.emitContainerClasses()},removeClasses:function(){var e=this,t=e.$el,n=e.classNames;t.removeClass(n.join(" ")),e.emitContainerClasses()}};var yA={loadImage:function(e,t,n,r,i,a){var o,s=PC();function u(){a&&a()}BC(e).parent("picture")[0]||e.complete&&i?u():t?((o=new s.Image).onload=u,o.onerror=u,r&&(o.sizes=r),n&&(o.srcset=n),t&&(o.src=t)):u()},preloadImages:function(){var e=this;function t(){"undefined"!==typeof e&&null!==e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}};var kA={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function wA(e,t){return function(n){void 0===n&&(n={});var r=Object.keys(n)[0],i=n[r];"object"===typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in i?(!0===e[r]&&(e[r]={enabled:!0}),"object"!==typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),KC(t,n)):KC(t,n)):KC(t,n)}}var bA={eventsEmitter:ZC,update:eA,translate:tA,transition:{setTransition:function(e,t){var n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var n=this,r=n.params;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),nA({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);var n=this,r=n.params;n.animating=!1,r.cssMode||(n.setTransition(0),nA({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:rA,loop:iA,grabCursor:{setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"-webkit-grabbing":"-webkit-grab",n.style.cursor=e?"-moz-grabbin":"-moz-grab",n.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:pA,breakpoints:mA,checkOverflow:{checkOverflow:function(){var e=this,t=e.isLocked,n=e.params,r=n.slidesOffsetBefore;if(r){var i=e.slides.length-1,a=e.slidesGrid[i]+e.slidesSizesGrid[i]+2*r;e.isLocked=e.size>a}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:gA,images:yA},_A={},xA=function(){function e(){var t,n;G(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(t=i[0],n=i[1]),n||(n={}),n=KC({},n),t&&!n.el&&(n.el=t),n.el&&BC(n.el).length>1){var o=[];return BC(n.el).each((function(t){var r=KC({},n,{el:t});o.push(new e(r))})),o}var s,u=this;(u.__swiper__=!0,u.support=YC(),u.device=XC({userAgent:n.userAgent}),u.browser=JC(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=Le(u.__modules__),n.modules&&Array.isArray(n.modules))&&(s=u.modules).push.apply(s,Le(n.modules));var c={};u.modules.forEach((function(e){e({swiper:u,extendParams:wA(n,c),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})}));var l=KC({},kA,c);return u.params=KC({},l,_A,n),u.originalParams=KC({},u.params),u.passedParams=KC({},n),u.params&&u.params.on&&Object.keys(u.params.on).forEach((function(e){u.on(e,u.params.on[e])})),u.params&&u.params.onAny&&u.onAny(u.params.onAny),u.$=BC,Object.assign(u,{enabled:u.params.enabled,el:t,classNames:[],slides:BC(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===u.params.direction},isVertical:function(){return"vertical"===u.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEvents:function(){var e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return u.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},u.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},u.support.touch||!u.params.simulateTouch?u.touchEventsTouch:u.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:qC(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}return $(e,[{key:"enable",value:function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}},{key:"disable",value:function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}},{key:"setProgress",value:function(e,t){var n=this;e=Math.min(Math.max(e,0),1);var r=n.minTranslate(),i=(n.maxTranslate()-r)*e+r;n.translateTo(i,"undefined"===typeof t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}},{key:"emitContainerClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}}},{key:"getSlideClasses",value:function(e){var t=this;return e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")}},{key:"emitSlidesClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(n){var r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}}},{key:"slidesPerViewDynamic",value:function(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);var n=this,r=n.params,i=n.slides,a=n.slidesGrid,o=n.slidesSizesGrid,s=n.size,u=n.activeIndex,c=1;if(r.centeredSlides){for(var l,f=i[u].swiperSlideSize,h=u+1;h<i.length;h+=1)i[h]&&!l&&(c+=1,(f+=i[h].swiperSlideSize)>s&&(l=!0));for(var d=u-1;d>=0;d-=1)i[d]&&!l&&(c+=1,(f+=i[d].swiperSlideSize)>s&&(l=!0))}else if("current"===e)for(var p=u+1;p<i.length;p+=1){(t?a[p]+o[p]-a[u]<s:a[p]-a[u]<s)&&(c+=1)}else for(var v=u-1;v>=0;v-=1){a[u]-a[v]<s&&(c+=1)}return c}},{key:"update",value:function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}}},{key:"changeDirection",value:function(e,t){void 0===t&&(t=!0);var n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass("".concat(n.params.containerModifierClass).concat(r)).addClass("".concat(n.params.containerModifierClass).concat(e)),n.emitContainerClasses(),n.params.direction=e,n.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}},{key:"mount",value:function(e){var t=this;if(t.mounted)return!0;var n=BC(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;var r=function(){return".".concat((t.params.wrapperClass||"").trim().split(" ").join("."))},i=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var t=BC(e.shadowRoot.querySelector(r()));return t.children=function(e){return n.children(e)},t}return n.children(r())}();if(0===i.length&&t.params.createElements){var a=CC().createElement("div");i=BC(a),a.className=t.params.wrapperClass,n.append(a),n.children(".".concat(t.params.slideClass)).each((function(e){i.append(e)}))}return Object.assign(t,{$el:n,el:e,$wrapperEl:i,wrapperEl:i[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===i.css("display")}),!0}},{key:"init",value:function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}},{key:"destroy",value:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n=this,r=n.params,i=n.$el,a=n.$wrapperEl,o=n.slides;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),i.removeAttr("style"),a.removeAttr("style"),o&&o.length&&o.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((function(e){n.off(e)})),!1!==e&&(n.$el[0].swiper=null,function(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}}))}(n)),n.destroyed=!0),null}}],[{key:"extendDefaults",value:function(e){KC(_A,e)}},{key:"extendedDefaults",get:function(){return _A}},{key:"defaults",get:function(){return kA}},{key:"installModule",value:function(t){e.prototype.__modules__||(e.prototype.__modules__=[]);var n=e.prototype.__modules__;"function"===typeof t&&n.indexOf(t)<0&&n.push(t)}},{key:"use",value:function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)}}]),e}();Object.keys(bA).forEach((function(e){Object.keys(bA[e]).forEach((function(t){xA.prototype[t]=bA[e][t]}))})),xA.use([function(e){var t=e.swiper,n=e.on,r=e.emit,i=PC(),a=null,o=null,s=function(){t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},u=function(){t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",(function(){t.params.resizeObserver&&"undefined"!==typeof i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(a=new ResizeObserver((function(e){o=i.requestAnimationFrame((function(){var n=t.width,r=t.height,i=n,a=r;e.forEach((function(e){var n=e.contentBoxSize,r=e.contentRect,o=e.target;o&&o!==t.el||(i=r?r.width:(n[0]||n).inlineSize,a=r?r.height:(n[0]||n).blockSize)})),i===n&&a===r||s()}))})),a.observe(t.el)):(i.addEventListener("resize",s),i.addEventListener("orientationchange",u))})),n("destroy",(function(){o&&i.cancelAnimationFrame(o),a&&a.unobserve&&t.el&&(a.unobserve(t.el),a=null),i.removeEventListener("resize",s),i.removeEventListener("orientationchange",u)}))},function(e){var t=e.swiper,n=e.extendParams,r=e.on,i=e.emit,a=[],o=PC(),s=function(e,t){void 0===t&&(t={});var n=new(o.MutationObserver||o.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){i("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(t):o.setTimeout(t,0)}else i("observerUpdate",e[0])}));n.observe(e,{attributes:"undefined"===typeof t.attributes||t.attributes,childList:"undefined"===typeof t.childList||t.childList,characterData:"undefined"===typeof t.characterData||t.characterData}),a.push(n)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(function(){if(t.params.observer){if(t.params.observeParents)for(var e=t.$el.parents(),n=0;n<e.length;n+=1)s(e[n]);s(t.$el[0],{childList:t.params.observeSlideChildren}),s(t.$wrapperEl[0],{attributes:!1})}})),r("destroy",(function(){a.forEach((function(e){e.disconnect()})),a.splice(0,a.length)}))}]);var EA=xA;function TA(e){var t,n=e.swiper,r=e.extendParams,i=e.on,a=e.emit,o=PC();r({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),n.mousewheel={enabled:!1};var s,u=qC(),c=[];function l(){n.enabled&&(n.mouseEntered=!0)}function f(){n.enabled&&(n.mouseEntered=!1)}function h(e){return!(n.params.mousewheel.thresholdDelta&&e.delta<n.params.mousewheel.thresholdDelta)&&(!(n.params.mousewheel.thresholdTime&&qC()-u<n.params.mousewheel.thresholdTime)&&(e.delta>=6&&qC()-u<60||(e.direction<0?n.isEnd&&!n.params.loop||n.animating||(n.slideNext(),a("scroll",e.raw)):n.isBeginning&&!n.params.loop||n.animating||(n.slidePrev(),a("scroll",e.raw)),u=(new o.Date).getTime(),!1)))}function d(e){var r=e;if(n.enabled){var i=n.params.mousewheel;n.params.cssMode&&r.preventDefault();var o=n.$el;if("container"!==n.params.mousewheel.eventsTarget&&(o=BC(n.params.mousewheel.eventsTarget)),!n.mouseEntered&&!o[0].contains(r.target)&&!i.releaseOnEdges)return!0;r.originalEvent&&(r=r.originalEvent);var u=0,l=n.rtlTranslate?-1:1,f=function(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,i=10*n,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),e.shiftKey&&!r&&(r=i,i=0),(r||i)&&e.deltaMode&&(1===e.deltaMode?(r*=40,i*=40):(r*=800,i*=800)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}(r);if(i.forceToAxis)if(n.isHorizontal()){if(!(Math.abs(f.pixelX)>Math.abs(f.pixelY)))return!0;u=-f.pixelX*l}else{if(!(Math.abs(f.pixelY)>Math.abs(f.pixelX)))return!0;u=-f.pixelY}else u=Math.abs(f.pixelX)>Math.abs(f.pixelY)?-f.pixelX*l:-f.pixelY;if(0===u)return!0;i.invert&&(u=-u);var d=n.getTranslate()+u*i.sensitivity;if(d>=n.minTranslate()&&(d=n.minTranslate()),d<=n.maxTranslate()&&(d=n.maxTranslate()),(!!n.params.loop||!(d===n.minTranslate()||d===n.maxTranslate()))&&n.params.nested&&r.stopPropagation(),n.params.freeMode&&n.params.freeMode.enabled){var p={time:qC(),delta:Math.abs(u),direction:Math.sign(u)},v=s&&p.time<s.time+500&&p.delta<=s.delta&&p.direction===s.direction;if(!v){s=void 0,n.params.loop&&n.loopFix();var m=n.getTranslate()+u*i.sensitivity,g=n.isBeginning,y=n.isEnd;if(m>=n.minTranslate()&&(m=n.minTranslate()),m<=n.maxTranslate()&&(m=n.maxTranslate()),n.setTransition(0),n.setTranslate(m),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses(),(!g&&n.isBeginning||!y&&n.isEnd)&&n.updateSlidesClasses(),n.params.freeMode.sticky){clearTimeout(t),t=void 0,c.length>=15&&c.shift();var k=c.length?c[c.length-1]:void 0,w=c[0];if(c.push(p),k&&(p.delta>k.delta||p.direction!==k.direction))c.splice(0);else if(c.length>=15&&p.time-w.time<500&&w.delta-p.delta>=1&&p.delta<=6){var b=u>0?.8:.2;s=p,c.splice(0),t=zC((function(){n.slideToClosest(n.params.speed,!0,void 0,b)}),0)}t||(t=zC((function(){s=p,c.splice(0),n.slideToClosest(n.params.speed,!0,void 0,.5)}),500))}if(v||a("scroll",r),n.params.autoplay&&n.params.autoplayDisableOnInteraction&&n.autoplay.stop(),m===n.minTranslate()||m===n.maxTranslate())return!0}}else{var _={time:qC(),delta:Math.abs(u),direction:Math.sign(u),raw:e};c.length>=2&&c.shift();var x=c.length?c[c.length-1]:void 0;if(c.push(_),x?(_.direction!==x.direction||_.delta>x.delta||_.time>x.time+150)&&h(_):h(_),function(e){var t=n.params.mousewheel;if(e.direction<0){if(n.isEnd&&!n.params.loop&&t.releaseOnEdges)return!0}else if(n.isBeginning&&!n.params.loop&&t.releaseOnEdges)return!0;return!1}(_))return!0}return r.preventDefault?r.preventDefault():r.returnValue=!1,!1}}function p(e){var t=n.$el;"container"!==n.params.mousewheel.eventsTarget&&(t=BC(n.params.mousewheel.eventsTarget)),t[e]("mouseenter",l),t[e]("mouseleave",f),t[e]("wheel",d)}function v(){return n.params.cssMode?(n.wrapperEl.removeEventListener("wheel",d),!0):!n.mousewheel.enabled&&(p("on"),n.mousewheel.enabled=!0,!0)}function m(){return n.params.cssMode?(n.wrapperEl.addEventListener(event,d),!0):!!n.mousewheel.enabled&&(p("off"),n.mousewheel.enabled=!1,!0)}i("init",(function(){!n.params.mousewheel.enabled&&n.params.cssMode&&m(),n.params.mousewheel.enabled&&v()})),i("destroy",(function(){n.params.cssMode&&v(),n.mousewheel.enabled&&m()})),Object.assign(n.mousewheel,{enable:v,disable:m})}function SA(e){var t=e.swiper,n=e.extendParams,r=e.on,i=e.emit;function a(e){var n;return e&&(n=BC(e),t.params.uniqueNavElements&&"string"===typeof e&&n.length>1&&1===t.$el.find(e).length&&(n=t.$el.find(e))),n}function o(e,n){var r=t.params.navigation;e&&e.length>0&&(e[n?"addClass":"removeClass"](r.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=n),t.params.watchOverflow&&t.enabled&&e[t.isLocked?"addClass":"removeClass"](r.lockClass))}function s(){if(!t.params.loop){var e=t.navigation,n=e.$nextEl;o(e.$prevEl,t.isBeginning&&!t.params.rewind),o(n,t.isEnd&&!t.params.rewind)}}function u(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&t.slidePrev()}function c(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&t.slideNext()}function l(){var e=t.params.navigation;if(t.params.navigation=function(e,t,n,r){var i=CC();return e.params.createElements&&Object.keys(r).forEach((function(a){if(!n[a]&&!0===n.auto){var o=e.$el.children(".".concat(r[a]))[0];o||((o=i.createElement("div")).className=r[a],e.$el.append(o)),n[a]=o,t[a]=o}})),n}(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),e.nextEl||e.prevEl){var n=a(e.nextEl),r=a(e.prevEl);n&&n.length>0&&n.on("click",c),r&&r.length>0&&r.on("click",u),Object.assign(t.navigation,{$nextEl:n,nextEl:n&&n[0],$prevEl:r,prevEl:r&&r[0]}),t.enabled||(n&&n.addClass(e.lockClass),r&&r.addClass(e.lockClass))}}function f(){var e=t.navigation,n=e.$nextEl,r=e.$prevEl;n&&n.length&&(n.off("click",c),n.removeClass(t.params.navigation.disabledClass)),r&&r.length&&(r.off("click",u),r.removeClass(t.params.navigation.disabledClass))}n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},r("init",(function(){l(),s()})),r("toEdge fromEdge lock unlock",(function(){s()})),r("destroy",(function(){f()})),r("enable disable",(function(){var e=t.navigation,n=e.$nextEl,r=e.$prevEl;n&&n[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),r&&r[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)})),r("click",(function(e,n){var r=t.navigation,a=r.$nextEl,o=r.$prevEl,s=n.target;if(t.params.navigation.hideOnClick&&!BC(s).is(o)&&!BC(s).is(a)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===s||t.pagination.el.contains(s)))return;var u;a?u=a.hasClass(t.params.navigation.hiddenClass):o&&(u=o.hasClass(t.params.navigation.hiddenClass)),i(!0===u?"navigationShow":"navigationHide"),a&&a.toggleClass(t.params.navigation.hiddenClass),o&&o.toggleClass(t.params.navigation.hiddenClass)}})),Object.assign(t.navigation,{update:s,init:l,destroy:f})}function IA(e){return void 0===e&&(e=""),".".concat(e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,"."))}function CA(e){var t=e.swiper,n=e.extendParams,r=e.on;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}});var i=null;function a(e){var t=i;0!==t.length&&(t.html(""),t.html(e))}function o(e){e.attr("tabIndex","0")}function s(e){e.attr("tabIndex","-1")}function u(e,t){e.attr("role",t)}function c(e,t){e.attr("aria-roledescription",t)}function l(e,t){e.attr("aria-label",t)}function f(e){e.attr("aria-disabled",!0)}function h(e){e.attr("aria-disabled",!1)}function d(e){if(13===e.keyCode||32===e.keyCode){var n=t.params.a11y,r=BC(e.target);t.navigation&&t.navigation.$nextEl&&r.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?a(n.lastSlideMessage):a(n.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&r.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?a(n.firstSlideMessage):a(n.prevSlideMessage)),t.pagination&&r.is(IA(t.params.pagination.bulletClass))&&r[0].click()}}function p(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function v(){return p()&&t.params.pagination.clickable}var m=function(e,t,n){o(e),"BUTTON"!==e[0].tagName&&(u(e,"button"),e.on("keydown",d)),l(e,n),function(e,t){e.attr("aria-controls",t)}(e,t)},g=function(e){var n=e.target.closest(".".concat(t.params.slideClass));if(n&&t.slides.includes(n)){var r=t.slides.indexOf(n)===t.activeIndex,i=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(n);r||i||t.slideTo(t.slides.indexOf(n),0)}};function y(){var e=t.params.a11y;t.$el.append(i);var n=t.$el;e.containerRoleDescriptionMessage&&c(n,e.containerRoleDescriptionMessage),e.containerMessage&&l(n,e.containerMessage);var r,a=t.$wrapperEl,o=a.attr("id")||"swiper-wrapper-".concat((void 0===(r=16)&&(r=16),"x".repeat(r).replace(/x/g,(function(){return Math.round(16*Math.random()).toString(16)})))),s=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";!function(e,t){e.attr("id",t)}(a,o),function(e,t){e.attr("aria-live",t)}(a,s),e.itemRoleDescriptionMessage&&c(BC(t.slides),e.itemRoleDescriptionMessage),u(BC(t.slides),e.slideRole);var f,h,p=t.params.loop?t.slides.filter((function(e){return!e.classList.contains(t.params.slideDuplicateClass)})).length:t.slides.length;t.slides.each((function(n,r){var i=BC(n),a=t.params.loop?parseInt(i.attr("data-swiper-slide-index"),10):r;l(i,e.slideLabelMessage.replace(/\{\{index\}\}/,a+1).replace(/\{\{slidesLength\}\}/,p))})),t.navigation&&t.navigation.$nextEl&&(f=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(h=t.navigation.$prevEl),f&&f.length&&m(f,o,e.nextSlideMessage),h&&h.length&&m(h,o,e.prevSlideMessage),v()&&t.pagination.$el.on("keydown",IA(t.params.pagination.bulletClass),d),t.$el.on("focus",g,!0)}r("beforeInit",(function(){i=BC('<span class="'.concat(t.params.a11y.notificationClass,'" aria-live="assertive" aria-atomic="true"></span>'))})),r("afterInit",(function(){t.params.a11y.enabled&&y()})),r("fromEdge toEdge afterInit lock unlock",(function(){t.params.a11y.enabled&&function(){if(!t.params.loop&&!t.params.rewind&&t.navigation){var e=t.navigation,n=e.$nextEl,r=e.$prevEl;r&&r.length>0&&(t.isBeginning?(f(r),s(r)):(h(r),o(r))),n&&n.length>0&&(t.isEnd?(f(n),s(n)):(h(n),o(n)))}}()})),r("paginationUpdate",(function(){t.params.a11y.enabled&&function(){var e=t.params.a11y;p()&&t.pagination.bullets.each((function(n){var r=BC(n);t.params.pagination.clickable&&(o(r),t.params.pagination.renderBullet||(u(r,"button"),l(r,e.paginationBulletMessage.replace(/\{\{index\}\}/,r.index()+1)))),r.is(".".concat(t.params.pagination.bulletActiveClass))?r.attr("aria-current","true"):r.removeAttr("aria-current")}))}()})),r("destroy",(function(){t.params.a11y.enabled&&function(){var e,n;i&&i.length>0&&i.remove(),t.navigation&&t.navigation.$nextEl&&(e=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(n=t.navigation.$prevEl),e&&e.off("keydown",d),n&&n.off("keydown",d),v()&&t.pagination.$el.off("keydown",IA(t.params.pagination.bulletClass),d),t.$el.off("focus",g,!0)}()}))}function AA(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function PA(e,t){var n=["__proto__","constructor","prototype"];Object.keys(t).filter((function(e){return n.indexOf(e)<0})).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:AA(t[n])&&AA(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:PA(e[n],t[n]):e[n]=t[n]}))}function NA(e){return void 0===e&&(e={}),e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function RA(e){return void 0===e&&(e={}),e.pagination&&"undefined"===typeof e.pagination.el}function OA(e){return void 0===e&&(e={}),e.scrollbar&&"undefined"===typeof e.scrollbar.el}function DA(e){void 0===e&&(e="");var t=e.split(" ").map((function(e){return e.trim()})).filter((function(e){return!!e})),n=[];return t.forEach((function(e){n.indexOf(e)<0&&n.push(e)})),n.join(" ")}var LA=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function MA(e,t){var n=t.slidesPerView;if(t.breakpoints){var r=EA.prototype.getBreakpoint(t.breakpoints),i=r in t.breakpoints?t.breakpoints[r]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}var a=Math.ceil(parseFloat(t.loopedSlides||n,10));return(a+=t.loopAdditionalSlides)>e.length&&(a=e.length),a}function FA(e){var t=[];return r.Children.toArray(e).forEach((function(e){e.type&&"SwiperSlide"===e.type.displayName?t.push(e):e.props&&e.props.children&&FA(e.props.children).forEach((function(e){return t.push(e)}))})),t}function jA(e){var t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return r.Children.toArray(e).forEach((function(e){if(e.type&&"SwiperSlide"===e.type.displayName)t.push(e);else if(e.props&&e.props.slot&&n[e.props.slot])n[e.props.slot].push(e);else if(e.props&&e.props.children){var r=FA(e.props.children);r.length>0?r.forEach((function(e){return t.push(e)})):n["container-end"].push(e)}else n["container-end"].push(e)})),{slides:t,slots:n}}function UA(e){var t,n,r,i,a,o=e.swiper,s=e.slides,u=e.passedParams,c=e.changedParams,l=e.nextEl,f=e.prevEl,h=e.scrollbarEl,d=e.paginationEl,p=c.filter((function(e){return"children"!==e&&"direction"!==e})),v=o.params,m=o.pagination,g=o.navigation,y=o.scrollbar,k=o.virtual,w=o.thumbs;c.includes("thumbs")&&u.thumbs&&u.thumbs.swiper&&v.thumbs&&!v.thumbs.swiper&&(t=!0),c.includes("controller")&&u.controller&&u.controller.control&&v.controller&&!v.controller.control&&(n=!0),c.includes("pagination")&&u.pagination&&(u.pagination.el||d)&&(v.pagination||!1===v.pagination)&&m&&!m.el&&(r=!0),c.includes("scrollbar")&&u.scrollbar&&(u.scrollbar.el||h)&&(v.scrollbar||!1===v.scrollbar)&&y&&!y.el&&(i=!0),c.includes("navigation")&&u.navigation&&(u.navigation.prevEl||f)&&(u.navigation.nextEl||l)&&(v.navigation||!1===v.navigation)&&g&&!g.prevEl&&!g.nextEl&&(a=!0);(p.forEach((function(e){if(AA(v[e])&&AA(u[e]))PA(v[e],u[e]);else{var t=u[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?v[e]=u[e]:!1===t&&o[n=e]&&(o[n].destroy(),"navigation"===n?(v[n].prevEl=void 0,v[n].nextEl=void 0,o[n].prevEl=void 0,o[n].nextEl=void 0):(v[n].el=void 0,o[n].el=void 0))}var n})),p.includes("controller")&&!n&&o.controller&&o.controller.control&&v.controller&&v.controller.control&&(o.controller.control=v.controller.control),c.includes("children")&&k&&v.virtual.enabled?(k.slides=s,k.update(!0)):c.includes("children")&&o.lazy&&o.params.lazy.enabled&&o.lazy.load(),t)&&(w.init()&&w.update(!0));n&&(o.controller.control=v.controller.control),r&&(d&&(v.pagination.el=d),m.init(),m.render(),m.update()),i&&(h&&(v.scrollbar.el=h),y.init(),y.updateSize(),y.setTranslate()),a&&(l&&(v.navigation.nextEl=l),f&&(v.navigation.prevEl=f),g.init(),g.update()),c.includes("allowSlideNext")&&(o.allowSlideNext=u.allowSlideNext),c.includes("allowSlidePrev")&&(o.allowSlidePrev=u.allowSlidePrev),c.includes("direction")&&o.changeDirection(u.direction,!1),o.update()}function VA(e,t){return"undefined"===typeof window?(0,r.useEffect)(e,t):(0,r.useLayoutEffect)(e,t)}var BA=(0,r.createContext)(null),zA=(0,r.createContext)(null),qA=["className","tag","wrapperTag","children","onSwiper"];function HA(){return HA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HA.apply(this,arguments)}var WA=(0,r.forwardRef)((function(e,t){var n=void 0===e?{}:e,i=n.className,a=n.tag,o=void 0===a?"div":a,s=n.wrapperTag,u=void 0===s?"div":s,l=n.children,f=n.onSwiper,h=EC(n,qA),d=!1,p=c((0,r.useState)("swiper"),2),v=p[0],m=p[1],g=c((0,r.useState)(null),2),y=g[0],k=g[1],w=c((0,r.useState)(!1),2),b=w[0],_=w[1],x=(0,r.useRef)(!1),E=(0,r.useRef)(null),T=(0,r.useRef)(null),S=(0,r.useRef)(null),I=(0,r.useRef)(null),C=(0,r.useRef)(null),A=(0,r.useRef)(null),P=(0,r.useRef)(null),N=(0,r.useRef)(null),R=function(e){void 0===e&&(e={});var t={on:{}},n={},r={};PA(t,EA.defaults),PA(t,EA.extendedDefaults),t._emitClasses=!0,t.init=!1;var i={},a=LA.map((function(e){return e.replace(/_/,"")}));return Object.keys(e).forEach((function(o){a.indexOf(o)>=0?AA(e[o])?(t[o]={},r[o]={},PA(t[o],e[o]),PA(r[o],e[o])):(t[o]=e[o],r[o]=e[o]):0===o.search(/on[A-Z]/)&&"function"===typeof e[o]?n["".concat(o[2].toLowerCase()).concat(o.substr(3))]=e[o]:i[o]=e[o]})),["navigation","pagination","scrollbar"].forEach((function(e){!0===t[e]&&(t[e]={}),!1===t[e]&&delete t[e]})),{params:t,passedParams:r,rest:i,events:n}}(h),O=R.params,D=R.passedParams,L=R.rest,M=R.events,F=jA(l),j=F.slides,U=F.slots,V=function(){_(!b)};Object.assign(O.on,{_containerClasses:function(e,t){m(t)}});var B=function(){if(Object.assign(O.on,M),d=!0,T.current=new EA(O),T.current.loopCreate=function(){},T.current.loopDestroy=function(){},O.loop&&(T.current.loopedSlides=MA(j,O)),T.current.virtual&&T.current.params.virtual.enabled){T.current.virtual.slides=j;var e={cache:!1,slides:j,renderExternal:k,renderExternalUpdate:!1};PA(T.current.params.virtual,e),PA(T.current.originalParams.virtual,e)}};E.current||B(),T.current&&T.current.on("_beforeBreakpoint",V);return(0,r.useEffect)((function(){return function(){T.current&&T.current.off("_beforeBreakpoint",V)}})),(0,r.useEffect)((function(){!x.current&&T.current&&(T.current.emitSlidesClasses(),x.current=!0)})),VA((function(){if(t&&(t.current=E.current),E.current)return T.current.destroyed&&B(),function(e,t){var n=e.el,r=e.nextEl,i=e.prevEl,a=e.paginationEl,o=e.scrollbarEl,s=e.swiper;NA(t)&&r&&i&&(s.params.navigation.nextEl=r,s.originalParams.navigation.nextEl=r,s.params.navigation.prevEl=i,s.originalParams.navigation.prevEl=i),RA(t)&&a&&(s.params.pagination.el=a,s.originalParams.pagination.el=a),OA(t)&&o&&(s.params.scrollbar.el=o,s.originalParams.scrollbar.el=o),s.init(n)}({el:E.current,nextEl:C.current,prevEl:A.current,paginationEl:P.current,scrollbarEl:N.current,swiper:T.current},O),f&&f(T.current),function(){T.current&&!T.current.destroyed&&T.current.destroy(!0,!1)}}),[]),VA((function(){!d&&M&&T.current&&Object.keys(M).forEach((function(e){T.current.on(e,M[e])}));var e=function(e,t,n,r){var i=[];if(!t)return i;var a=function(e){i.indexOf(e)<0&&i.push(e)},o=r.map((function(e){return e.key})),s=n.map((function(e){return e.key}));return o.join("")!==s.join("")&&a("children"),r.length!==n.length&&a("children"),LA.filter((function(e){return"_"===e[0]})).map((function(e){return e.replace(/_/,"")})).forEach((function(n){if(n in e&&n in t)if(AA(e[n])&&AA(t[n])){var r=Object.keys(e[n]),i=Object.keys(t[n]);r.length!==i.length?a(n):(r.forEach((function(r){e[n][r]!==t[n][r]&&a(n)})),i.forEach((function(r){e[n][r]!==t[n][r]&&a(n)})))}else e[n]!==t[n]&&a(n)})),i}(D,S.current,j,I.current);return S.current=D,I.current=j,e.length&&T.current&&!T.current.destroyed&&UA({swiper:T.current,slides:j,passedParams:D,changedParams:e,nextEl:C.current,prevEl:A.current,scrollbarEl:N.current,paginationEl:P.current}),function(){M&&T.current&&Object.keys(M).forEach((function(e){T.current.off(e,M[e])}))}})),VA((function(){var e;!(e=T.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}),[y]),r.createElement(o,HA({ref:E,className:DA("".concat(v).concat(i?" ".concat(i):""))},L),r.createElement(zA.Provider,{value:T.current},U["container-start"],NA(O)&&r.createElement(r.Fragment,null,r.createElement("div",{ref:A,className:"swiper-button-prev"}),r.createElement("div",{ref:C,className:"swiper-button-next"})),OA(O)&&r.createElement("div",{ref:N,className:"swiper-scrollbar"}),RA(O)&&r.createElement("div",{ref:P,className:"swiper-pagination"}),r.createElement(u,{className:"swiper-wrapper"},U["wrapper-start"],O.virtual?function(e,t,n){if(!n)return null;var i=e.isHorizontal()?W({},e.rtlTranslate?"right":"left","".concat(n.offset,"px")):{top:"".concat(n.offset,"px")};return t.filter((function(e,t){return t>=n.from&&t<=n.to})).map((function(t){return r.cloneElement(t,{swiper:e,style:i})}))}(T.current,j,y):!O.loop||T.current&&T.current.destroyed?j.map((function(e){return r.cloneElement(e,{swiper:T.current})})):function(e,t,n){var i=t.map((function(t,n){return r.cloneElement(t,{swiper:e,"data-swiper-slide-index":n})}));function a(e,t,i){return r.cloneElement(e,{key:"".concat(e.key,"-duplicate-").concat(t,"-").concat(i),className:"".concat(e.props.className||""," ").concat(n.slideDuplicateClass)})}if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-i.length%n.slidesPerGroup;if(o!==n.slidesPerGroup)for(var s=0;s<o;s+=1){var u=r.createElement("div",{className:"".concat(n.slideClass," ").concat(n.slideBlankClass)});i.push(u)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=i.length);var c=MA(i,n),l=[],f=[];return i.forEach((function(e,t){t<c&&f.push(a(e,t,"prepend")),t<i.length&&t>=i.length-c&&l.push(a(e,t,"append"))})),e&&(e.loopedSlides=c),[].concat(l,Le(i),f)}(T.current,j,O),U["wrapper-end"]),U["container-end"]))}));WA.displayName="Swiper";var GA=["tag","children","className","swiper","zoom","virtualIndex"];function KA(){return KA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KA.apply(this,arguments)}var $A=(0,r.forwardRef)((function(e,t){var n=void 0===e?{}:e,i=n.tag,a=void 0===i?"div":i,o=n.children,s=n.className,u=void 0===s?"":s,l=n.swiper,f=n.zoom,h=n.virtualIndex,d=EC(n,GA),p=(0,r.useRef)(null),v=c((0,r.useState)("swiper-slide"),2),m=v[0],g=v[1];function y(e,t,n){t===p.current&&g(n)}VA((function(){if(t&&(t.current=p.current),p.current&&l){if(!l.destroyed)return l.on("_slideClass",y),function(){l&&l.off("_slideClass",y)};"swiper-slide"!==m&&g("swiper-slide")}})),VA((function(){l&&p.current&&g(l.getSlideClasses(p.current))}),[l]);var k={isActive:m.indexOf("swiper-slide-active")>=0||m.indexOf("swiper-slide-duplicate-active")>=0,isVisible:m.indexOf("swiper-slide-visible")>=0,isDuplicate:m.indexOf("swiper-slide-duplicate")>=0,isPrev:m.indexOf("swiper-slide-prev")>=0||m.indexOf("swiper-slide-duplicate-prev")>=0,isNext:m.indexOf("swiper-slide-next")>=0||m.indexOf("swiper-slide-duplicate-next")>=0},w=function(){return"function"===typeof o?o(k):o};return r.createElement(a,KA({ref:p,className:DA("".concat(m).concat(u?" ".concat(u):"")),"data-swiper-slide-index":h},d),r.createElement(BA.Provider,{value:k},f?r.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof f?f:void 0},w()):w()))}));function QA(e){var t=e.title,n=e.id,i=e.fetchURL,a=e.isLargeRow,o=e.isBlur,s=e.isLogIn,u=e.userObj,l=c((0,r.useState)([]),2),f=l[0],h=l[1],d=c(kC(),3),p=d[0],v=d[1],m=d[2],g=c((0,r.useState)({}),2),y=g[0],k=g[1];(0,r.useEffect)((function(){w(),console.log("userObj",u)}),[i,s]),(0,r.useEffect)((function(){}),[s]);var w=function(){var e=Fe(Ue().mark((function e(){var t;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IS.get(i);case 2:t=e.sent,h(t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(y),(0,xS.jsx)(xS.Fragment,{children:(0,xS.jsxs)("section",{className:"row ".concat(o&&!s&&"rowBlur"),children:[(0,xS.jsx)("h2",{className:"category__title",children:t}),(0,xS.jsx)("div",{className:"slider",children:(0,xS.jsxs)(WA,{id:n,className:"row__posters",style:{padding:"10px 2em 3rem 2em","--swiper-navigation-color":"#e50914","--swiper-navigation-size":"1rem"},modules:[SA,CA,TA],spaceBetween:20,breakpoints:{2978:{slidesPerView:9,slidesPerGroup:9},2578:{slidesPerView:8,slidesPerGroup:8},2178:{slidesPerView:7,slidesPerGroup:7},1778:{slidesPerView:6,slidesPerGroup:6},1378:{slidesPerView:5,slidesPerGroup:5},998:{slidesPerView:4,slidesPerGroup:4},625:{slidesPerView:3,slidesPerGroup:3},0:{slidesPerView:2,slidesPerGroup:2}},loop:!0,navigation:!0,children:[(0,xS.jsx)("div",{className:"side_fadeout"}),f.map((function(e){return(0,xS.jsx)($A,{className:"row__posterBox",children:(0,xS.jsxs)("div",{children:[(0,xS.jsx)("img",{className:"row__poster ".concat(a&&"row__posterLarge"),src:"https://image.tmdb.org/t/p/original/".concat(a?e.poster_path:e.backdrop_path),loading:"lazy",alt:e.name,onClick:function(){return function(e){v(!0),k(e)}(e)}}),(0,xS.jsx)("p",{className:"row__poster-title",children:(null===e||void 0===e?void 0:e.title)||(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.original_name)})]})},e.id)}))]},n)}),p&&(0,xS.jsx)(yC,NS(NS({},y),{},{setModalOpen:v,clickRef:m,isLogIn:s,userObj:u}))]})})}function YA(e){var t=e.isLogIn,n=e.userObj;return console.log("isLogIn",t),(0,xS.jsxs)("div",{children:[(0,xS.jsx)(wC,{fetchURL:RS.fetchTrending,isLogIn:t,userObj:n}),(0,xS.jsx)(QA,{title:"NETFILX ORIGINALS",id:"NO",fetchURL:RS.fetchNetflixOriginals,isLogIn:t,isLargeRow:!0,userObj:n}),(0,xS.jsx)(QA,{title:"TRENDING NOW",id:"TN",fetchURL:RS.fetchTrending,isLogIn:t,userObj:n}),(0,xS.jsx)(QA,{title:"TOP RATED",id:"TR",fetchURL:RS.fetchTopRated,isLogIn:t,userObj:n}),(0,xS.jsx)(QA,{title:"Action Movies",id:"AM",fetchURL:RS.fetchActionMovies,isLogIn:t,userObj:n}),(0,xS.jsx)(QA,{title:"Comedy Movies",id:"CM",fetchURL:RS.fetchComedyMovies,isLogIn:t,userObj:n}),(0,xS.jsx)(QA,{title:"Horror Movies",id:"HM",fetchURL:RS.fetchHorrorMovies,isLogIn:t,userObj:n}),(0,xS.jsx)(QA,{title:"Romance Movies",id:"RM",fetchURL:RS.fetchRomanceMovies,isBlur:!0,isLogIn:t,userObj:n}),(0,xS.jsx)(QA,{title:"Documentaries",id:"DO",fetchURL:RS.fetchDocumentaries,isBlur:!0,isLogIn:t,userObj:n})]})}$A.displayName="SwiperSlide";function XA(){var e=A(),t=c((0,r.useState)([]),2),n=t[0],i=t[1],a=function(e,t){var n=c((0,r.useState)(e),2),i=n[0],a=n[1];return(0,r.useEffect)((function(){var n=setTimeout((function(){a(e)}),t);return function(){clearTimeout(n)}}),[e,t]),i}(new URLSearchParams(C().search).get("q"),200);(0,r.useEffect)((function(){a&&o(a)}),[a]);var o=function(){var e=Fe(Ue().mark((function e(t){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,IS.get("/search/multi?include_adult=false&query=".concat(a));case 3:n=e.sent,i(n.data.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return n.length>0?(0,xS.jsx)("section",{className:"search-container",children:n.map((function(t){if(null!==t.backdrop_path&&"person"!==t.media_type){var n="https://image.tmdb.org/t/p/w500"+t.backdrop_path;return(0,xS.jsx)("div",{className:"movie",children:(0,xS.jsx)("div",{onClick:function(){return e("/".concat(t.id))},className:"movie__column-poster",children:(0,xS.jsx)("img",{src:n,alt:"movie",className:"movie__poster"})})},t.id)}}))}):(0,xS.jsx)("section",{className:"no-results",children:(0,xS.jsx)("div",{className:"no-results__text",children:(0,xS.jsxs)("p",{children:['\ucc3e\uace0\uc790 \ud558\ub294 \uac80\uc0c9\uc5b4 "',a,'"\uc5d0 \ub9de\ub294 \uc601\ud654\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.']})})})}function JA(e){var t=e.setNewAccount,n=A();return(0,xS.jsx)("div",{className:"row__blur",children:(0,xS.jsxs)("div",{className:"row__blur-text",children:[(0,xS.jsx)("p",{className:"row__blur-t",children:"\uc2dc\uccad\ud560 \ucf58\ud150\uce20\ub294 \ubb34\uad81\ubb34\uc9c4\ud569\ub2c8\ub2e4."}),(0,xS.jsx)("p",{className:"row__blur-p",children:"\ub137\ud50c\ub9ad\uc2a4\ub294 \uc7a5\ud3b8 \uc601\ud654, \ub2e4\ud050\uba58\ud130\ub9ac, \uc2dc\ub9ac\uc988, \uc560\ub2c8\uba54\uc774\uc158, \uac01\uc885 \uc0c1\uc744 \uc218\uc0c1\ud55c \ub137\ud50c\ub9ad\uc2a4 \uc624\ub9ac\uc9c0\ub110 \ub4f1 \uc218\ub9ce\uc740 \ucf58\ud150\uce20\ub97c \ud655\ubcf4\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ub9c8\uc74c\uc5d0 \ub4dc\ub294 \ucf58\ud150\uce20\ub97c \uc6d0\ud558\ub294 \uc2dc\uac04\uc5d0 \uc6d0\ud558\ub294 \ub9cc\ud07c \uc2dc\uccad\ud558\uc138\uc694."}),(0,xS.jsx)("button",{className:"row__blur-btn",onClick:function(e){t(!0),n("/auth")},children:"\uc9c0\uae08\uac00\uc785\ud558\uae30"})]})})}function ZA(e){var t=e.setIsLogIn,n=e.newAccount,i=e.setNewAccount,a=c((0,r.useState)(""),2),o=a[0],s=a[1],u=c((0,r.useState)(""),2),l=u[0],f=u[1],h=c((0,r.useState)(""),2),d=h[0],p=h[1],v=A(),m=function(e){var t=e.target,n=t.name,r=t.value;"email"===n?s(r):"password"===n&&f(r)},g=function(){var e=Fe(Ue().mark((function e(r){var i;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),e.prev=1,e.prev=2,!n){e.next=9;break}return e.next=6,bS.createUserWithEmailAndPassword(o,l);case 6:i=e.sent,e.next=12;break;case 9:return e.next=11,bS.signInWithEmailAndPassword(o,l);case 11:i=e.sent;case 12:console.log(i),v("/"),window.location.reload(),t(!0),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),"auth/invalid-email"===e.t0.code?p("\uc62c\ubc14\ub978 \uc544\uc774\ub514\ub97c \uc785\ub825\ud558\uc138\uc694."):(e.t0.code,p("\uc544\uc774\ub514 \ud639\uc740 \ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4.")),console.log(e.t0);case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(1),"auth/too-many-requests"===e.t1.code&&p("\uacc4\uc815\uc774 \uae30\uc5b5\ub098\uc9c0 \uc54a\uc2b5\ub2c8\uae4c?"),console.log(e.t1);case 28:case"end":return e.stop()}}),e,null,[[1,24],[2,18]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Fe(Ue().mark((function e(){var n;return Ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new wS.auth.GoogleAuthProvider,e.next=3,bS.signInWithPopup(n);case 3:e.sent,v("/"),t(!0),window.location.reload();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,xS.jsx)("div",{children:(0,xS.jsxs)("div",{className:"auth__wrapper",children:[(0,xS.jsx)("div",{className:"auth__wrapper_bg",children:(0,xS.jsx)("img",{className:"auth__wrapper_img",src:"https://assets.nflxext.com/ffe/siteui/vlv3/87a1d9d8-a21d-4109-ba3a-c10d9055f5cf/25155d75-2aae-4c0a-aee9-25c07646d644/KR-ko-20220307-popsignuptwoweeks-perspective_alpha_website_large.jpg"})}),(0,xS.jsx)("div",{className:"auth__navbar",children:(0,xS.jsx)("img",{className:"auth__navlogo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/170px-Netflix_2015_logo.svg.png",onClick:function(){v("/"),window.location.reload()}})}),(0,xS.jsx)("div",{className:"auth__body",children:(0,xS.jsx)("div",{className:"auth__forms",children:(0,xS.jsxs)("div",{className:"auth__form",children:[(0,xS.jsx)("h1",{className:"auth__form-t",children:n?"\uac00\uc785\ud558\uae30":"\ub85c\uadf8\uc778"}),(0,xS.jsxs)("form",{onSubmit:g,children:[(0,xS.jsx)("input",{name:"email",type:"text",placeholder:n?"\uc0ac\uc6a9\ud558\uc2e4 \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694":"\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694",required:!0,value:o,onChange:m,className:"authInput",style:n?{backgroundColor:"#eeeeee",color:"#333333"}:{}}),(0,xS.jsx)("input",{name:"password",type:"password",placeholder:n?"6\uc790\ub9ac \uc774\uc0c1\uc758 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694":"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694",required:!0,value:l,onChange:m,className:"authInput",style:n?{backgroundColor:"#eeeeee",color:"#333333"}:{}}),(0,xS.jsx)("p",{className:"errorMessage",children:d}),(0,xS.jsx)("input",{type:"submit",value:n?"\uacc4\uc815 \ub9cc\ub4e4\uae30":"\ub85c\uadf8\uc778",className:"authSubmit"})]}),(0,xS.jsxs)("div",{children:[(0,xS.jsx)("p",{onClick:function(){console.log(n,i),i((function(e){return!e}))},style:n?{color:"#999",width:"100%",marginTop:"13px",textAlign:"right",cursor:"pointer"}:{color:"#eee",width:"100%",marginTop:"13px",textAlign:"right",cursor:"pointer"},children:n?"\uc544\uc774\ub514\uac00 \uc788\uc2b5\ub2c8\uae4c?":"\ub137\ud50c\ub9ad\uc2a4 \ud68c\uc6d0\uc774 \uc544\ub2cc\uac00\uc694? \uc9c0\uae08 \uac00\uc785\ud558\uc138\uc694"}),(0,xS.jsxs)("div",{onClick:y,children:[(0,xS.jsx)("img",{src:"https://cdn.icon-icons.com/icons2/2699/PNG/512/google_logo_icon_169090.png",style:{height:"14px",display:"inline-flex",marginRight:"5px",marginLeft:"5px"}}),(0,xS.jsx)("p",{name:"google",style:{color:"#777",marginTop:"30px",textAlign:"left",cursor:"pointer",display:"inline-flex",width:"auto",height:"20px"},children:"Google\ub85c \ub85c\uadf8\uc778"})]})]})]})})})," ",(0,xS.jsx)("div",{className:"AuthFooterContainer",children:(0,xS.jsxs)("div",{className:"FooterLinkContainer",children:[(0,xS.jsx)("div",{className:"FooterLinkTitle",children:"\ub137\ud50c\ub9ad\uc2a4 \ub300\ud55c\ubbfc\uad6d"}),(0,xS.jsxs)("div",{className:"FooterLinkContent",children:[(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko/node.412",children:"\ub137\ud50c\ub9ad\uc2a4 \uc18c\uac1c"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\uc790\uc8fc \ubb3b\ub294 \uc9c8\ubb38"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\uace0\uac1d \uc13c\ud130"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\ubbf8\ub514\uc5b4 \uc13c\ud130"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\uc785\uc0ac \uc815\ubcf4"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\uc774\uc6a9 \uc57d\uad00"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\uac1c\uc778 \uc815\ubcf4"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\ud68c\uc0ac \uc815\ubcf4"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://fast.com",children:"\uc18d\ub3c4 \ud14c\uc2a4\ud2b8"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\ucfe0\ud0a4 \uc124\uc815"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\ubc95\uc801 \uace0\uc9c0"}),(0,xS.jsx)("div",{className:"FooterLink",href:"https://help.netflix.com/ko",children:"\ubb38\uc758 \ud558\uae30"})]}),(0,xS.jsx)("div",{className:"FooterDescContainer",children:(0,xS.jsx)("div",{className:"FooterDescRights",children:"Netflix 2022 Rights Resverd."})})]})})]})})}var eP=function(e){var t=e.isLogIn,n=e.setIsLogIn,r=e.newAccount,i=e.setNewAccount;return(0,xS.jsxs)("div",{children:[(0,xS.jsx)(ES,{isLogIn:t,setIsLogIn:n,newAccount:r,setNewAccount:i}),(0,xS.jsx)(x,{}),!t&&(0,xS.jsx)(JA,{setNewAccount:i}),(0,xS.jsx)(TS,{isLogIn:t})]})};var tP=function(){var e=c((0,r.useState)(!1),2),t=(e[0],e[1]),n=c((0,r.useState)(!0),2),i=n[0],a=n[1],o=c((0,r.useState)({uid:""}),2),s=o[0],u=o[1],l=c((0,r.useState)(bS.currentUser),2),f=l[0],h=l[1];return console.log("authService.currentUser",bS.currentUser),console.log("userObj",s),(0,r.useEffect)((function(){bS.onAuthStateChanged((function(e){e?(h(!0),u(e)):h(!1),t(!0)}))}),[]),(0,xS.jsx)("div",{className:"App",children:(0,xS.jsxs)(S,{children:[(0,xS.jsxs)(E,{path:"/",element:(0,xS.jsx)(eP,{isLogIn:f,setIsLogIn:h,newAccount:i,setNewAccount:a}),children:[(0,xS.jsx)(E,{index:!0,element:(0,xS.jsx)(YA,{isLogIn:f,userObj:s})}),(0,xS.jsx)(E,{path:":movieId",element:(0,xS.jsx)(CS,{})}),(0,xS.jsx)(E,{path:"search",element:(0,xS.jsx)(XA,{})})]}),(0,xS.jsx)(E,{path:"/auth",element:(0,xS.jsx)(xS.Fragment,{children:(0,xS.jsx)(ZA,{setIsLogIn:h,newAccount:i,setNewAccount:a})})})]})})},nP=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};function rP(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)b.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(b.length){if(null!=r){var s=c-r;s&&(o={action:e,location:i,retry:function(){I(-1*s)}},I(s))}}else S(e)}}));var s=t.Pop,u=a(),c=u[0],k=u[1],w=v(),b=v();function _(e){return"string"===typeof e?e:g(e)}function x(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?y(e):e,{state:t,key:m()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function T(e,t,n){return!b.length||(b.call({action:e,location:t,retry:n}),!1)}function S(e){s=e;var t=a();c=t[0],k=t[1],w.call({action:s,location:k})}function I(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var C={get action(){return s},get location(){return k},createHref:_,push:function e(n,a){var o=t.Push,s=x(n,a);if(T(o,s,(function(){e(n,a)}))){var u=E(s,c+1),l=u[0],f=u[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}S(o)}},replace:function e(n,r){var a=t.Replace,o=x(n,r);if(T(a,o,(function(){e(n,r)}))){var s=E(o,c),u=s[0],l=s[1];i.replaceState(u,"",l),S(a)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return w.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&r.addEventListener(h,p),function(){t(),b.length||r.removeEventListener(h,p)}}};return C}({window:a}));var s=o.current,u=c((0,r.useState)({action:s.action,location:s.location}),2),k=u[0],w=u[1];return(0,r.useLayoutEffect)((function(){return s.listen(w)}),[s]),(0,r.createElement)(T,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:s})}i.render((0,xS.jsx)(rP,{basename:"/Netflix-clone",children:(0,xS.jsx)(tP,{})}),document.getElementById("root")),nP()}()}();
//# sourceMappingURL=main.9c4f9564.js.map